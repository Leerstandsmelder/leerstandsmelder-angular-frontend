!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){t.exports={global:{serve_web_ui_port:9090,serve_mobile_ui_port:9292,api_url_local:"http://127.0.0.1:8080",api_url:"http://dev-api.leerstandsmelder.de",airbrake:{project_id:null,project_key:null}},author:{name:"Verein GÃ¤ngeviertel e.V.",email:"hamburg@leerstandsmelder.de",url:"https://leerstandsmelder.de"},android:{app_name:"Leerstandsmelder",app_id:"de.leerstandsmelder.mobile.android",app_description:"Leerstandsmelder Mobile App",access_origins:{"https://www.leerstandsmelder.de":!0,"https://leerstandsmelder.de":!0,"https://api.leerstandsmelder.de":!0,"http://127.0.0.1:8080":!0,"http://localhost:9292":!0,"http://10.10.0.93:8080":!0,"http://dev-api.leerstandsmelder.de":!0},prefs:{},plugins:{"org.apache.cordova.dialogs":"latest","org.apache.cordova.camera":"latest","org.apache.cordova.geolocation":"latest","org.apache.cordova.splashscreen":"latest"}},ios:{app_name:"Leerstandsmelder",app_id:"de.leerstandsmelder.MobileApp",access_origins:{"https://www.leerstandsmelder.de":!0,"https://leerstandsmelder.de":!0,"https://api.leerstandsmelder.de":!0,"http://dev-api.leerstandsmelder.de":!0,"http://10.10.0.84:8080":!0},prefs:{},plugins:{"org.apache.cordova.dialogs":"latest","org.apache.cordova.camera":"latest","org.apache.cordova.geolocation":"latest","org.apache.cordova.splashscreen":"latest","org.apache.cordova.media":"latest","org.apache.cordova.media-capture":"latest","org.apache.cordova.file":"latest","org.apache.cordova.file-transfer":"latest","cordova-plugin-actionsheet":"latest","cordova-plugin-filepath":"latest"}}}},{}],2:[function(e,t,n){!function(e,t){"use strict";function n(e,t,n){if(!e)throw le("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(G(e)&&(e=e.join(" ")),G(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=G(e)?e:e&&Y(e)&&e.length?e.split(/\s+/):[],V(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function o(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof Z)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===F)return e;break;default:return Z(l(e))}if(e.nodeType===F)return Z(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===F)return n}}function u(e,t,n){V(t,function(t){e.addClass(t,n)})}function c(e,t,n){V(t,function(t){e.removeClass(t,n)})}function f(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||ee;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ee},e.$$prepared=!0}return e}function p(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var r=t.options||{},i=n.options||{},a=(r.addClass||"")+" "+(i.addClass||""),o=(r.removeClass||"")+" "+(i.removeClass||""),s=v(e.attr("class"),a,o);i.preparationClasses&&(r.preparationClasses=x(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==ee?r.domOperation:null;return B(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){Y(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var i={};e=r(e),t=r(t),V(t,function(e,t){i[t]=1}),n=r(n),V(n,function(e,t){i[t]=1===i[t]?null:-1});var a={addClass:"",removeClass:""};return V(i,function(t,n){var r,i;1===t?(r="addClass",i=!e[n]||e[n+N]):-1===t&&(r="removeClass",i=e[n]||e[n+z]),i&&(a[r].length&&(a[r]+=" "),a[r]+=n)}),a}function y(e){return e instanceof Z?e[0]:e}function b(e,t,n){var r="";t&&(r=a(t,M,!0)),n.addClass&&(r=x(r,a(n.addClass,z))),n.removeClass&&(r=x(r,a(n.removeClass,N))),r.length&&(n.preparationClasses=r,e.addClass(r))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function _(e,t){var n=t?"-"+t+"s":"";return k(e,[oe,n]),[oe,n]}function $(e,t){var n=t?"paused":"",r=T+re;return k(e,[r,n]),[r,n]}function k(e,t){var n=t[0],r=t[1];e.style[n]=r}function x(e,t){return e?t?e+" "+t:e:t}function S(e){return[ae,e+"s"]}function C(e,t){return[t?ie:oe,e+"s"]}function A(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return V(n,function(e,t){var n=i[e];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=j(n)),0===n&&(n=null),r[t]=n}}),r}function j(e){var t=0,n=e.split(/\s*,\s*/);return V(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function R(e){return 0===e||null!=e}function P(e,t){var n=E,r=e+"s";return t?n+=te:r+=" linear all",[n,r]}function L(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function D(e,t,n){V(n,function(n){e[n]=K(e[n])?e[n]:t.style.getPropertyValue(n)})}var E,O,T,U,F=1,z="-add",N="-remove",M="ng-",I="ng-animate",q="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",E="WebkitTransition",O="webkitTransitionEnd transitionend"):(E="transition",O="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",T="WebkitAnimation",U="webkitAnimationEnd animationend"):(T="animation",U="animationend");var H,B,V,G,K,W,J,X,Y,Q,Z,ee,te="Duration",ne="TimingFunction",re="PlayState",ie=T+"Delay",ae=T+te,oe=E+"Delay",se=E+te,le=t.$$minErr("ng"),ue=["$interpolate",function(e){return{link:function(t,n,r){function i(e){e="on"===e||"true"===e,n.data(q,e)}var a=r.ngAnimateChildren;Y(a)&&0===a.length?n.data(q,!0):(i(e(a)(t)),r.$observe("ngAnimateChildren",i))}}}],ce="$$animateCss",fe=1e3,de=3,pe=1.5,he={transitionDuration:se,transitionDelay:oe,transitionProperty:E+"Property",animationDuration:ae,animationDelay:ie,animationIterationCount:T+"IterationCount"},ge={transitionDuration:se,transitionDelay:oe,animationDuration:ae,animationDelay:ie},me=["$animateProvider",function(e){var t=L(),n=L();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,s,l,u,c,m,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++I))+"-"+e.getAttribute("class")+"-"+t}function w(n,r,i,a){var o=t.get(i);return o||"infinite"===(o=A(e,n,a)).animationIterationCount&&(o.animationIterationCount=1),t.put(i,o),o}function x(i,o,s,l){var u;if(t.count(s)>0&&!(u=n.get(s))){var c=a(o,"-stagger");r.addClass(i,c),(u=A(e,i,l)).animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function j(e){q.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),r=0;r<q.length;r++)q[r](e);q.length=0})}function L(e,t,n){var r=w(e,t,n,he),i=r.animationDelay,a=r.transitionDelay;return r.maxDelay=i&&a?Math.max(i,a):i||a,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var F=f(r),I=0,q=[];return function(e,n){function u(){m()}function f(){m(!0)}function m(t){if(!(J||Y&&X)){J=!0,X=!1,B.$$skipPreparationClasses||r.removeClass(e,be),r.removeClass(e,_e),$(W,!1),_(W,!1),V(se,function(e){W.style[e[0]]=""}),F(e,B),p(e,B),Object.keys(K).length&&V(K,function(e,t){e?W.style.setProperty(t,e):W.style.removeProperty(t)}),B.onDone&&B.onDone(),he&&he.length&&e.off(he.join(" "),I);var n=e.data(ce);n&&(l.cancel(n[0].timer),e.removeData(ce)),Q&&Q.complete(!t)}}function w(e){Oe.blockTransition&&_(W,e),Oe.blockKeyframeAnimation&&$(W,!!e)}function A(){return Q=new s({end:u,cancel:f}),j(ee),m(),{$$willAnimate:!1,start:function(){return Q},end:u}}function I(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(de));Math.max(n-oe,0)>=re&&r>=ie&&(Y=!0,m())}function q(){function t(){if(!J){if(w(!1),V(se,function(e){var t=e[0],n=e[1];W.style[t]=n}),F(e,B),r.addClass(e,_e),Oe.recalculateTimingStyles){if(we=W.getAttribute("class")+" "+be,ke=b(W,we),De=L(W,we,ke),Ee=De.maxDelay,te=Math.max(Ee,0),0===(ie=De.maxDuration))return void m();Oe.hasTransitions=De.transitionDuration>0,Oe.hasAnimations=De.animationDuration>0}if(Oe.applyAnimationDelay&&(Ee="boolean"!=typeof B.delay&&R(B.delay)?parseFloat(B.delay):Ee,te=Math.max(Ee,0),De.animationDelay=Ee,Te=C(Ee,!0),se.push(Te),W.style[Te[0]]=Te[1]),re=te*fe,ae=ie*fe,B.easing){var t,i=B.easing;Oe.hasTransitions&&(t=E+ne,se.push([t,i]),W.style[t]=i),Oe.hasAnimations&&(t=T+ne,se.push([t,i]),W.style[t]=i)}De.transitionDuration&&he.push(O),De.animationDuration&&he.push(U),oe=Date.now();var a=re+pe*ae,o=oe+a,s=e.data(ce)||[],u=!0;if(s.length){var c=s[0];(u=o>c.expectedEndTime)?l.cancel(c.timer):s.push(m)}if(u){var f=l(n,a,!1);s[0]={timer:f,expectedEndTime:o},s.push(m),e.data(ce,s)}he.length&&e.on(he.join(" "),I),B.to&&(B.cleanupStyles&&D(K,W,Object.keys(B.to)),g(e,B))}}function n(){var t=e.data(ce);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ce)}}if(!J)if(W.parentNode){var i=function(e){if(Y)X&&e&&(X=!1,m());else if(X=!e,De.animationDuration){var t=$(W,X);X?se.push(t):o(se,t)}},a=Pe>0&&(De.transitionDuration&&0===xe.transitionDuration||De.animationDuration&&0===xe.animationDuration)&&Math.max(xe.animationDelay,xe.transitionDelay);a?l(t,Math.floor(a*Pe*fe),!1):t(),Z.resume=function(){i(!0)},Z.pause=function(){i(!1)}}else m()}var B=n||{};B.$$prepared||(B=d(H(B)));var K={},W=y(e);if(!W||!W.parentNode||!v.enabled())return A();var J,X,Y,Q,Z,te,re,ie,ae,oe,se=[],le=e.attr("class"),ue=i(B),he=[];if(0===B.duration||!c.animations&&!c.transitions)return A();var me=B.event&&G(B.event)?B.event.join(" "):B.event,ve="",ye="";me&&B.structural?ve=a(me,M,!0):me&&(ve=me),B.addClass&&(ye+=a(B.addClass,z)),B.removeClass&&(ye.length&&(ye+=" "),ye+=a(B.removeClass,N)),B.applyClassesEarly&&ye.length&&F(e,B);var be=[ve,ye].join(" ").trim(),we=le+" "+be,_e=a(be,"-active"),$e=ue.to&&Object.keys(ue.to).length>0;if(!((B.keyframeStyle||"").length>0)&&!$e&&!be)return A();var ke,xe;if(B.stagger>0){var Se=parseFloat(B.stagger);xe={transitionDelay:Se,animationDelay:Se,transitionDuration:0,animationDuration:0}}else ke=b(W,we),xe=x(W,be,ke,ge);B.$$skipPreparationClasses||r.addClass(e,be);var Ce;if(B.transitionStyle){var Ae=[E,B.transitionStyle];k(W,Ae),se.push(Ae)}if(B.duration>=0){Ce=W.style[E].length>0;var je=P(B.duration,Ce);k(W,je),se.push(je)}if(B.keyframeStyle){var Re=[T,B.keyframeStyle];k(W,Re),se.push(Re)}var Pe=xe?B.staggerIndex>=0?B.staggerIndex:t.count(ke):0,Le=0===Pe;Le&&!B.skipBlocking&&_(W,9999);var De=L(W,we,ke),Ee=De.maxDelay;te=Math.max(Ee,0),ie=De.maxDuration;var Oe={};if(Oe.hasTransitions=De.transitionDuration>0,Oe.hasAnimations=De.animationDuration>0,Oe.hasTransitionAll=Oe.hasTransitions&&"all"===De.transitionProperty,Oe.applyTransitionDuration=$e&&(Oe.hasTransitions&&!Oe.hasTransitionAll||Oe.hasAnimations&&!Oe.hasTransitions),Oe.applyAnimationDuration=B.duration&&Oe.hasAnimations,Oe.applyTransitionDelay=R(B.delay)&&(Oe.applyTransitionDuration||Oe.hasTransitions),Oe.applyAnimationDelay=R(B.delay)&&Oe.hasAnimations,Oe.recalculateTimingStyles=ye.length>0,(Oe.applyTransitionDuration||Oe.applyAnimationDuration)&&(ie=B.duration?parseFloat(B.duration):ie,Oe.applyTransitionDuration&&(Oe.hasTransitions=!0,De.transitionDuration=ie,Ce=W.style[E+"Property"].length>0,se.push(P(ie,Ce))),Oe.applyAnimationDuration&&(Oe.hasAnimations=!0,De.animationDuration=ie,se.push(S(ie)))),0===ie&&!Oe.recalculateTimingStyles)return A();if(null!=B.delay){var Te;"boolean"!=typeof B.delay&&(Te=parseFloat(B.delay),te=Math.max(Te,0)),Oe.applyTransitionDelay&&se.push(C(Te)),Oe.applyAnimationDelay&&se.push(C(Te,!0))}return null==B.duration&&De.transitionDuration>0&&(Oe.recalculateTimingStyles=Oe.recalculateTimingStyles||Le),re=te*fe,ae=ie*fe,B.skipBlocking||(Oe.blockTransition=De.transitionDuration>0,Oe.blockKeyframeAnimation=De.animationDuration>0&&xe.animationDelay>0&&0===xe.animationDuration),B.from&&(B.cleanupStyles&&D(K,W,Object.keys(B.from)),h(e,B)),Oe.blockTransition||Oe.blockKeyframeAnimation?w(ie):B.skipBlocking||_(W,!1),{$$willAnimate:!0,end:u,start:function(){if(!J)return Z={end:u,cancel:f,resume:null,pause:null},Q=new s(Z),j(q),Q}}}}]}],ve=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",a="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,s,l,u,c,f){function d(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return Y(e)&&(e=e.split(" ")),Y(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,o,l){function u(e){var t={},n=y(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=v.scrollTop;break;case"left":r+=v.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function c(e){return e.attr("class")||""}function f(){var t=d(c(l)),n=p(t,m),r=p(m,t),o=e(g,{to:u(l),addClass:a+" "+n,removeClass:i+" "+r,delay:!0});return o.$$willAnimate?o:null}function h(){g.remove(),o.removeClass(n),l.removeClass(n)}var g=Z(y(o).cloneNode(!0)),m=d(c(g));o.addClass(n),l.addClass(n),g.addClass(r),w.append(g);var b,_=function(){var t=e(g,{addClass:i,delay:!0,from:u(o)});return t.$$willAnimate?t:null}();if(!_&&!(b=f()))return h();var $=_||b;return{start:function(){function e(){n&&n.end()}var t,n=$.start();return n.done(function(){if(n=null,!b&&(b=f()))return(n=b.start()).done(function(){n=null,h(),t.complete()}),n;h(),t.complete()}),t=new s({end:e,cancel:e})}}}function g(e,t,n,r){var i=m(e),a=m(t),o=[];if(V(r,function(e){var t=e.out,r=e.in,i=h(n,t,r);i&&o.push(i)}),i||a||0!==o.length)return{start:function(){function e(){V(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),a&&t.push(a.start()),V(o,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}}function m(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=x(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return ee;var v=f[0].body,b=y(l),w=Z(t(b)||v.contains(b)?b:v);return function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):m(e)}}]}],ye=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=G(n)?n:n.split(" ");for(var r=[],i={},a=0;a<n.length;a++){var o=n[a],s=e.$$registeredAnimations[o];s&&!i[o]&&(r.push(t.get(s)),i[o]=!0)}return r}var a=f(r);return function(e,t,r,o){function s(){o.domOperation(),a(e,o)}function l(){h=!0,s(),p(e,o)}function u(e,t,r,i,a){var o;switch(r){case"animate":o=[t,i.from,i.to,a];break;case"setClass":o=[t,v,y,a];break;case"addClass":o=[t,v,a];break;case"removeClass":o=[t,y,a];break;default:o=[t,a]}o.push(i);var s=e.apply(e,o);if(s)if(J(s.start)&&(s=s.start()),s instanceof n)s.done(a);else if(J(s))return s;return ee}function c(e,t,r,i,a){var o=[];return V(i,function(i){var s=i[a];s&&o.push(function(){var i,a,o=!1,l=function(e){o||(o=!0,(a||ee)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),a=u(s,e,t,r,function(e){l(!1===e)}),i})}),o}function f(e,t,r,i,a){var o=c(e,t,r,i,a);if(0===o.length){var s,l;"beforeSetClass"===a?(s=c(e,"removeClass",r,i,"beforeRemoveClass"),l=c(e,"addClass",r,i,"beforeAddClass")):"setClass"===a&&(s=c(e,"removeClass",r,i,"removeClass"),l=c(e,"addClass",r,i,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(e){var t=[];return o.length&&V(o,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&X(r)&&(o=r,r=null),o=d(o),r||(r=e.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var g,m,v=o.addClass,y=o.removeClass,b=i(r);if(b.length){var w,_;"leave"===t?(_="leave",w="afterLeave"):(_="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(g=f(e,t,o,b,_)),m=f(e,t,o,b,w)}if(g||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(l(),($=new n).complete(!0)),$},start:function(){function e(e){l(e),$.complete(e)}function t(t){h||((r||ee)(t),e(t))}if($)return $;$=new n;var r,i=[];return g&&i.push(function(e){r=g(e)}),i.length?i.push(function(e){s(),e(!0)}):s(),m&&i.push(function(e){r=m(e)}),$.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(i,e),$}}}}}]}],be=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,a=t.classes;return e(n,r,a,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){V(n,function(e){e.end()})}}var n=[];r&&n.push(r.start()),i&&n.push(i.start()),t.all(n,function(e){a.complete(e)});var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],we="data-ng-animate",_e="$ngAnimatePin",$e=["$animateProvider",function(t){function r(e){if(!e)return null;var t=e.split(h),n=Object.create(null);return V(t,function(e){n[e]=!0}),n}function i(e,t){if(e&&t){var n=r(t);return e.split(h).some(function(e){return n[e]})}}function a(e,t,n){return g[e].some(function(e){return e(t,n)})}function o(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var u=1,c=2,h=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(e,t){return!e.structural&&o(e)}),g.skip.push(function(e,t){return!e.structural&&!o(e)}),g.skip.push(function(e,t){return"leave"===t.event&&e.structural}),g.skip.push(function(e,t){return t.structural&&t.state===c&&!e.structural}),g.cancel.push(function(e,t){return t.structural&&e.structural}),g.cancel.push(function(e,t){return t.state===c&&e.structural}),g.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,a=t.addClass,o=t.removeClass;return!(Q(n)&&Q(r)||Q(a)&&Q(o))&&(i(n,o)||i(r,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,h,g,v,_,$,k,x,S,C){function A(){var e=!1;return function(t){e?t():i.$$postDigest(function(){e=!0,t()})}}function j(e,t){return m(e,t,{})}function R(e,t,n){var r=[],i=J[n];return i&&V(i,function(i){oe.call(i.node,t)?r.push(i.callback):"leave"===n&&oe.call(i.node,e)&&r.push(i.callback)}),r}function P(e,t,n){var r=l(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function L(e,t){"close"!==e||t.parentNode||se.off(t)}function D(e,t,n){function l(e,t,n,i){S(function(){var e=R(k,v,t);e.length?r(function(){V(e,function(e){e(g,n,i)}),L(n,v)}):L(n,v)}),e.progress(t,n,i)}function f(e){w(g,h),ae(g,h),p(g,h),h.domOperation(),x.complete(!e)}var h=H(n),g=s(e),v=y(g),k=v&&v.parentNode;h=d(h);var x=new $,S=A();if(G(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!Y(h.addClass)&&(h.addClass=null),G(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!Y(h.removeClass)&&(h.removeClass=null),h.from&&!X(h.from)&&(h.from=null),h.to&&!X(h.to)&&(h.to=null),!(M&&v&&re(v,t,n)&&ie(v,h)))return f(),x;var P=["enter","move","leave"].indexOf(t)>=0,D=C(),F=D||N.get(v),I=!F&&z.get(v)||{},q=!!I.state;if(F||q&&I.state===u||(F=!T(v,k,t)),F)return D&&l(x,t,"start"),f(),D&&l(x,t,"close"),x;P&&E(v);var B={structural:P,element:g,event:t,addClass:h.addClass,removeClass:h.removeClass,close:f,options:h,runner:x};if(q){if(a("skip",B,I))return I.state===c?(f(),x):(m(g,I,B),I.runner);if(a("cancel",B,I))if(I.state===c)I.runner.end();else{if(!I.structural)return m(g,I,B),I.runner;I.close()}else if(a("join",B,I)){if(I.state!==c)return b(g,P?t:null,h),t=B.event=I.event,h=m(g,I,B),I.runner;j(g,B)}}else j(g,B);var K=B.structural;if(K||(K="animate"===B.event&&Object.keys(B.options.to||{}).length>0||o(B)),!K)return f(),O(v),x;var W=(I.counter||0)+1;return B.counter=W,U(v,u,B),i.$$postDigest(function(){g=s(e);var n=z.get(v),r=!n;n=n||{};var i=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||o(n));if(r||n.counter!==W||!i)return r&&(ae(g,h),p(g,h)),(r||P&&n.event!==t)&&(h.domOperation(),x.end()),void(i||O(v));t=!n.structural&&o(n,!0)?"setClass":n.event,U(v,c);var a=_(g,t,n.options);x.setHost(a),l(x,t,"start",{}),a.done(function(e){f(!e);var n=z.get(v);n&&n.counter===W&&O(v),l(x,t,"close",{})})}),x}function E(e){var t=e.querySelectorAll("["+we+"]");V(t,function(e){var t=parseInt(e.getAttribute(we),10),n=z.get(e);if(n)switch(t){case c:n.runner.end();case u:z.delete(e)}})}function O(e){e.removeAttribute(we),z.delete(e)}function T(e,t,n){var r,i=g[0].body,a=y(h),o=e===i||"HTML"===e.nodeName,s=e===a,l=!1,u=N.get(e),c=Z.data(e,_e);for(c&&(t=y(c));t&&(s||(s=t===a),t.nodeType===F);){var f=z.get(t)||{};if(!l){var d=N.get(t);if(!0===d&&!1!==u){u=!0;break}!1===d&&(u=!1),l=f.structural}if(Q(r)||!0===r){var p=Z.data(t,q);K(p)&&(r=p)}if(l&&!1===r)break;if(o||(o=t===i),o&&s)break;t=s||!(c=Z.data(t,_e))?t.parentNode:y(c)}return(!l||r)&&!0!==u&&s&&o}function U(e,t,n){(n=n||{}).state=t,e.setAttribute(we,t);var r=z.get(e),i=r?B(r,n):n;z.set(e,i)}var z=new v,N=new v,M=null,I=i.$watch(function(){return 0===k.totalPendingRequests},function(e){e&&(I(),i.$$postDigest(function(){i.$$postDigest(function(){null===M&&(M=!0)})}))}),J=Object.create(null),ee=t.customFilter(),te=t.classNameFilter(),ne=function(){return!0},re=ee||ne,ie=te?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return te.test(n)}:ne,ae=f(x),oe=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},se={on:function(e,t,n){var r=l(t);J[e]=J[e]||[],J[e].push({node:r,callback:n}),Z(t).on("$destroy",function(){z.get(r)||se.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||Y(arguments[0])){var r=J[e];r&&(J[e]=1===arguments.length?null:P(r,t,n))}else{t=arguments[0];for(var i in J)J[i]=P(J[i],t)}},pin:function(e,t){n(W(e),"element","not an element"),n(W(t),"parentElement","not an element"),e.data(_e,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,D(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!M;else if(W(e)){var r=y(e);1===n?t=!N.get(r):N.set(r,!t)}else t=M=!!e;return t}};return se}]}],ke=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function i(e){return e.data(s)}var a="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,s,l,u,c,h){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,a=n.parentNode;i.set(n,e);for(var o;a;){if(o=i.get(a)){o.processed||(o=t(o));break}a=a.parentNode}return(o||r).children.push(e),e}var n,r={children:[]},i=new c;for(n=0;n<e.length;n++){var a=e[n];i.set(a.domNode,e[n]={domNode:a.domNode,fn:a.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,a=0,o=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(e){a++,r.push(e)}),i--}return o.length&&n.push(o),n}(r)}var m=[],v=f(e);return function(c,f,b){function w(e){var t="["+a+"]",n=e.hasAttribute(a)?[e]:e.querySelectorAll(t),r=[];return V(n,function(e){var t=e.getAttribute(a);t&&t.length&&r.push(e)}),r}function _(e){var t=[],n={};V(e,function(e,r){var i=y(e.element),o=e.event,s=["enter","move"].indexOf(o)>=0,l=e.structural?w(i):[];if(l.length){var u=s?"to":"from";V(l,function(e){var t=e.getAttribute(a);n[t]=n[t]||{},n[t][u]={animationID:r,element:Z(e)}})}else t.push(e)});var r={},i={};return V(n,function(n,a){var o=n.from,s=n.to;if(o&&s){var l=e[o.animationID],u=e[s.animationID],c=o.animationID.toString();if(!i[c]){var f=i[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:$(l.classes,u.classes),from:l,to:u,anchors:[]};f.classes.length?t.push(f):(t.push(l),t.push(u))}i[c].anchors.push({out:o.element,in:s.element})}else{var d=o?o.animationID:s.animationID,p=d.toString();r[p]||(r[p]=!0,t.push(e[d]))}}),t}function $(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var a=0;a<t.length;a++)if(i===t[a]){n.push(i);break}}return n.join(" ")}function k(e){for(var t=o.length-1;t>=0;t--){var n=o[t],r=l.get(n)(e);if(r)return r}}function x(e,t){function n(e){var n=i(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function S(){var e=i(c);!e||"leave"===f&&b.$$domOperationFired||e.end()}function C(t){c.off("$destroy",S),n(c),v(c,b),p(c,b),b.domOperation(),P&&e.removeClass(c,P),c.removeClass(I),j.complete(!t)}b=d(b);var A=["enter","move","leave"].indexOf(f)>=0,j=new u({end:function(){C()},cancel:function(){C(!0)}});if(!o.length)return C(),j;t(c,j);var R=r(c.attr("class"),r(b.addClass,b.removeClass)),P=b.tempClasses;P&&(R+=" "+P,b.tempClasses=null);var L;return A&&(L="ng-"+f+"-prepare",e.addClass(c,L)),m.push({element:c,classes:R,event:f,structural:A,options:b,beforeStart:function(){c.addClass(I),P&&e.addClass(c,P),L&&(e.removeClass(c,L),L=null)},close:C}),c.on("$destroy",S),m.length>1?j:(s.$$postDigest(function(){var e=[];V(m,function(t){i(t.element)?e.push(t):t.close()}),m.length=0;var t=_(e),n=[];V(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if(i(e.anchors?e.from.element||e.to.element:e.element)){var r=k(e);r&&(t=r.start)}if(t){var a=t();a.done(function(e){n(!e)}),x(e,a)}else n()}})}),h(g(n))}),j)}}]}];t.module("ngAnimate",[],function(){ee=t.noop,H=t.copy,B=t.extend,Z=t.element,V=t.forEach,G=t.isArray,Y=t.isString,X=t.isObject,Q=t.isUndefined,K=t.isDefined,J=t.isFunction,W=t.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,a){var o,s;t.$watchCollection(r.ngAnimateSwap||r.for,function(r){o&&e.leave(o),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),a(s,function(t){o=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",ue).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),a=0;a<t.length;a++)t[a]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}]).provider("$$animateQueue",$e).provider("$$animation",ke).provider("$animateCss",me).provider("$$animateCssDriver",ve).provider("$$animateJs",ye).provider("$$animateJsDriver",be)}(window,window.angular)},{}],3:[function(e,t,n){e("./angular-animate"),t.exports="ngAnimate"},{"./angular-animate":2}],4:[function(e,t,n){!function(e,t){"use strict";var n=t.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",function(){function e(e,t,r,a){return function(o,s,l){var u=l.$normalize(t);!n[u]||i(s,r)||l[u]||o.$watch(l[e],function(e){e=a?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],i=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};n.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,a,o){return e.config(n)&&!a.attr(t)&&(o||!i(a,r))}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&!i(t,r)}function a(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(r,i){var o=a(i);return{post:function(r,i,a,s){function l(){return s.$modelValue}var u=t("tabindex","tabindex",i,!1);switch(o){case"radio":case"checkbox":n(o,i)&&i.attr("role",o),t("aria-checked","ariaChecked",i,!1)&&r.$watch(l,"radio"===o?function(e){var t=a.value==s.$viewValue;i.attr("aria-checked",t)}:function(){i.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),u&&i.attr("tabindex",0);break;case"range":if(n(o,i)&&i.attr("role","slider"),e.config("ariaValue")){var c=!i.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),f=!i.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),d=!i.attr("aria-valuenow");c&&a.$observe("min",function(e){i.attr("aria-valuemin",e)}),f&&a.$observe("max",function(e){i.attr("aria-valuemax",e)}),d&&r.$watch(l,function(e){i.attr("aria-valuenow",e)})}u&&i.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",i,!1)&&a.$observe("required",function(){i.attr("aria-required",!!a.required)}),t("aria-invalid","ariaInvalid",i,!0)&&r.$watch(function(){return s.$invalid},function(e){i.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,a){var o=t(a.ngClick);return function(t,n,a){i(n,r)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||a.ngKeydown||a.ngKeypress||a.ngKeyup||n.on("keydown",function(e){var n=e.which||e.keyCode;32!==n&&13!==n||t.$apply(function(){o(t,{$event:e})})}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,a){!e.config("tabindex")||n.attr("tabindex")||i(n,r)||n.attr("tabindex",0)}}])}(window,window.angular)},{}],5:[function(e,t,n){e("./angular-aria"),t.exports="ngAria"},{"./angular-aria":4}],6:[function(e,t,n){angular.module("cgBusy",[]),angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(e,t){return function(){var n={};n.promises=[],n.delayPromise=null,n.durationPromise=null,n.delayJustFinished=!1,n.reset=function(t){n.minDuration=t.minDuration,n.promises=[],angular.forEach(t.promises,function(e){e&&!e.$cgBusyFulfilled&&r(e)}),0!==n.promises.length&&(n.delayJustFinished=!1,t.delay&&(n.delayPromise=e(function(){n.delayPromise=null,n.delayJustFinished=!0},parseInt(t.delay,10))),t.minDuration&&(n.durationPromise=e(function(){n.durationPromise=null},parseInt(t.minDuration,10)+(t.delay?parseInt(t.delay,10):0))))},n.isRealPromise=function(e){return void 0!==(e&&(e.then||e.$then||e.$promise&&e.$promise.then))},n.isPromise=function(e){return!0===e||!1===e||(!!angular.isNumber(e)||void 0!==(e&&(e.then||e.$then||e.$promise&&e.$promise.then)))},n.hide=function(e){return!1===e||(!1===e.promise||(!0===angular.isNumber(e)&&e<=0||(!0===angular.isNumber(e.promise)&&e.promise<=0||void 0)))},n.callThen=function(e,r,i){if(n.hide(e))r();else if(n.isRealPromise(e)){var a;e.then||e.$then?a=e:e.$promise?a=e.$promise:e.denodeify&&(a=t.when(e)),(a.then||a.$then).call(a,r,i)}};var r=function(e){if(!n.isPromise(e))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");-1===n.promises.indexOf(e)&&(n.promises.push(e),n.callThen(e,function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)},function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)}))};return n.active=function(){return!n.delayPromise&&(n.delayJustFinished?(n.delayJustFinished=!1,0===n.promises.length&&(n.durationPromise=null),n.promises.length>0):!!n.durationPromise||n.promises.length>0)},n}}]),angular.module("cgBusy").value("cgBusyDefaults",{}),angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(e,t,n,r,i){return{restrict:"A",link:function(a,o,s,l){var u=o.css("position");"static"!==u&&""!==u&&void 0!==u||o.css("position","relative");var c,f,d,p,h,g=i(),m={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait...",wrapperClass:"cg-busy cg-busy-animation"};angular.extend(m,n),a.$watchCollection(s.cgBusy,function(n){if(!0===n?n={promise:!0}:!1===n?n={promise:null}:!0===angular.isNumber(n)&&(n=n>0?{promise:!0}:{promise:null}),n||(n={promise:null}),angular.isString(n))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(angular.isArray(n)||g.isPromise(n))&&(n={promise:n}),(n=angular.extend(angular.copy(m),n)).templateUrl||(n.templateUrl=m.templateUrl),angular.isArray(n.promise)||(n.promise=[n.promise]),p||(p=a.$new()),p.$message=n.message,angular.equals(g.promises,n.promise)||g.reset({promises:n.promise,delay:n.delay,minDuration:n.minDuration}),p.$cgBusyIsActive=function(){return g.active()},c&&d===n.templateUrl&&h===n.backdrop||(c&&c.remove(),f&&f.remove(),d=n.templateUrl,h=n.backdrop,r.get(d,{cache:t}).then(function(t){if(n.backdrop=void 0===n.backdrop||n.backdrop,n.backdrop){f=e('<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"></div>')(p),o.append(f)}var r='<div class="'+n.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()">'+t.data+"</div>";c=e(r)(p),angular.element(c.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0),o.append(c)}).catch(function(e){throw new Error("Template specified for cgBusy ("+n.templateUrl+") could not be loaded. "+e)}))},!0)}}}]),angular.module("cgBusy").run(["$templateCache",function(e){"use strict";e.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"></div>\n         <div class="bar2"></div>\n         <div class="bar3"></div>\n         <div class="bar4"></div>\n         <div class="bar5"></div>\n         <div class="bar6"></div>\n         <div class="bar7"></div>\n         <div class="bar8"></div>\n         <div class="bar9"></div>\n         <div class="bar10"></div>\n         <div class="bar11"></div>\n         <div class="bar12"></div>\n      </div>\n\n      <div class="cg-busy-default-text">{{$message}}</div>\n\n   </div>\n\n</div>')}])},{}],7:[function(e,t,n){e("./dist/angular-busy.js"),t.exports="cgBusy"},{"./dist/angular-busy.js":6}],8:[function(e,t,n){!function(e,t){"use strict";function n(e,n,r){function i(e,r,i){var o,s;s=(i=i||{}).expires,o=t.isDefined(i.path)?i.path:a,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(r);l+=o?";path="+o:"",l+=i.domain?";domain="+i.domain:"",l+=s?";expires="+s.toUTCString():"";var u=(l+=i.secure?";secure":"").length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var a=r.baseHref(),o=e[0];return function(e,t,n){o.cookie=i(e,t,n)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.6.6"}).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,r){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,i){r(t,n,e(i))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,n){r(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular)},{}],9:[function(e,t,n){e("./angular-cookies"),t.exports="ngCookies"},{"./angular-cookies":8}],10:[function(e,t,n){"use strict";function r(e,t,n){return{restrict:"AE",replace:!0,scope:{opts:"=",marked:"=",compile:"@",src:"="},link:function(r,a,o){function s(t){t=i(String(t||"")),a.html(e(t,r.opts||null)),r.$eval(o.compile)&&n(a.contents())(r.$parent)}o.marked?(s(r.marked),r.$watch("marked",s)):o.src?r.$watch("src",function(e){t(e,!0).then(function(e){s(e)},function(){s(""),r.$emit("$markedIncludeError",o.src)})}):s(a.text())}}}var i=e("./strip-indent");r.$inject=["marked","$templateRequest","$compile"],t.exports=angular.module("hc.marked",[]).directive("marked",r).provider("marked",function(){var t=this;t.setRenderer=function(e){this.renderer=e},t.setOptions=function(e){this.defaults=e},t.$get=["$log","$window",function(n,r){function i(e){return"<span ng-non-bindable>"+e+"</span>"}var a;try{a=e("marked")}catch(e){a=r.marked||marked}if(!angular.isUndefined(a)){var o=new a.Renderer;if(t.renderer)for(var s=Object.keys(t.renderer),l=s.length;l--;)o[s[l]]=t.renderer[s[l]];var u=o.code.bind(o);o.code=function(e,t,n){return i(u(e,t,n))};var c=o.codespan.bind(o);return o.codespan=function(e){return i(c(e))},t.defaults=t.defaults||{},t.defaults.renderer=o,a.setOptions(t.defaults),a}n.error("angular-marked Error: marked not loaded.  See installation instructions.")}]}).name},{"./strip-indent":11,marked:26}],11:[function(e,t,n){t.exports=function(e){if(!e)return e;var t,n=e.replace(/\t/g,"  ").split(/\r?\n/),r=null,i=n.length;for(t=0;t<i;t++){var a=n[t],o=a.match(/^(\s*)/)[0].length;o!==a.length&&(r=o<r||null===r?o:r)}if(null!==r&&r>0)for(t=0;t<i;t++)n[t]=n[t].substr(r);return n.join("\n")}},{}],12:[function(e,t,n){!function(e,t){"use strict";function n(){function e(e,t){if(e)return i(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,r,a,o,s){var l,u=r[0],c=a.ngMessage||a.when,f=a.ngMessageExp||a.whenExp,d=function(e){l=e?i(e)?e:e.split(/[\s,]+/):null,o.reRender()};f?(d(n.$eval(f)),n.$watchCollection(f,d)):d(c);var p,h;o.register(u,h={test:function(t){return e(l,t)},attach:function(){p||s(function(e,n){t.enter(e,null,r);var i=(p=e).$$attachId=o.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===i&&(o.deregister(u),h.detach()),n.$destroy()})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}})}}}]}var r,i,a,o;t.module("ngMessages",[],function(){r=t.forEach,i=t.isArray,a=t.isString,o=t.element}).info({angularVersion:"1.6.6"}).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(i,a,o){function s(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return g[i];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}function l(e,t,n){var r=g[n];if(c.head){var i=s(e,t);i?(r.next=i.next,i.next=r):(r.next=c.head,c.head=r)}else c.head=r}function u(e,t,n){var r=g[n],i=s(e,t);i?i.next=r.next:c.head=r.next}var c=this,f=0,d=0;this.getAttachId=function(){return d++};var p,h,g=this.messages={};this.render=function(s){p=!1,h=s=s||{};for(var l=t(a,o.ngMessagesMultiple)||t(a,o.multiple),u=[],f={},d=c.head,g=!1,m=0;null!=d;){m++;var v=d.message,y=!1;g||r(s,function(e,t){if(!y&&n(e)&&v.test(t)){if(f[t])return;f[t]=!0,y=!0,v.attach()}}),y?g=!l:u.push(v),d=d.next}r(u,function(e){e.detach()}),u.length!==m?e.setClass(i,"ng-active","ng-inactive"):e.setClass(i,"ng-inactive","ng-active")},a.$watchCollection(o.ngMessages||o.for,c.render),i.on("$destroy",function(){r(g,function(e){e.message.detach()})}),this.reRender=function(){p||(p=!0,a.$evalAsync(function(){p&&h&&c.render(h)}))},this.register=function(e,t){var n=f.toString();g[n]={message:t},l(i[0],e,n),e.$$ngMessageNode=n,f++,c.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,u(i[0],e,t),delete g[t],c.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function r(e,r){var i=n.$$createComment?n.$$createComment("ngMessagesInclude",r):t[0].createComment(" ngMessagesInclude: "+r+" "),a=o(i);e.after(a),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,i,o){var s=o.ngMessagesInclude||o.src;e(s).then(function(e){t.$$destroyed||(a(e)&&!e.trim()?r(i,s):n(e)(t,function(e){i.after(e),r(i,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular)},{}],13:[function(e,t,n){e("./angular-messages"),t.exports="ngMessages"},{"./angular-messages":12}],14:[function(e,t,n){t.exports=function(){this.$get=[function(){return e("./pubsub")}]}},{"./pubsub":15}],15:[function(e,t,n){"use strict";var r=e("lodash"),i=function(e){e=e||{},this.evCache={},this.cbCache={},this.debug=e.debug||!1};i.prototype.publish=function(e,t){this.debug&&console.log("PUBLISH",e,t),this.evCache[e]=this.evCache[e]||{cache:void 0,uids:[]},r.forEach(this.evCache[e].uids,function(n){this.cbCache[n].fn(t,this.evCache[e].cache)}.bind(this)),this.evCache[e].cache=t},i.prototype.subscribe=function(e,t){if(this.debug&&console.log("SUBSCRIBE",e,t),!e||!t)throw new Error;var n=r.uniqueId(e);return this.evCache[e]=this.evCache[e]||{cache:void 0,uids:[]},this.evCache[e].uids.push(n),this.cbCache[n]={fn:t,eventName:e},n},i.prototype.unsubscribe=function(e){if(this.debug&&console.log("UNSUBSCRIBE",e),!e)throw new Error;var t=this.cbCache[e]&&this.cbCache[e].eventName;this.evCache[t].uids=r.reject(this.evCache[t].uids,function(t){return t===e}),delete this.cbCache[e]},i.prototype.getCache=function(e){if(this.debug&&console.log("GETCACHE",e),!e)throw new Error;return this.evCache[e]&&this.evCache[e].cache},t.exports=new i},{lodash:25}],16:[function(e,t,n){!function(e,t){"use strict";function n(e,t){if(o(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(s(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function r(e){c&&e.get("$route")}function i(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,a,o,s,l){function u(){p&&(r.cancel(p),p=null),f&&(f.$destroy(),f=null),d&&((p=r.leave(d)).done(function(e){!1!==e&&(p=null)}),d=null)}function c(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var c=i.$new(),p=e.current,m=l(c,function(e){r.enter(e,null,d||a).done(function(e){!1===e||!t.isDefined(h)||h&&!i.$eval(h)||n()}),u()});d=m,(f=p.scope=c).$emit("$viewContentLoaded"),f.$eval(g)}else u()}var f,d,p,h=o.autoscroll,g=o.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var s=e(i.contents());if(a.controller){o.$scope=r;var l=t(a.controller,o);a.controllerAs&&(r[a.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}r[a.resolveAs||"$resolve"]=o,s(r)}}}var o,s,l,u,c,f=t.module("ngRoute",[]).info({angularVersion:"1.6.6"}).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,r){var a="?"===r||"*?"===r?"?":null,o="*"===r||"*?"===r?"*":null;return i.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(o&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([/$*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}o=t.isArray,s=t.isObject,l=t.isDefined,u=t.noop;var i={};this.when=function(e,a){var o=n(a);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(o,e&&r(e,o)),e){var s="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";i[s]=t.extend({redirectTo:e},r(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},c=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(c=e,this):c},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,r,a,o,s,l,c,f){function p(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;a<o;++a){var s=n[a-1],l=i[a];s&&l&&(r[s.name]=l)}return r}function h(e){var r=S.current;$=w(),(k=$&&r&&$.$$route===r.$$route&&t.equals($.pathParams,r.pathParams)&&!$.reloadOnSearch&&!x)||!r&&!$||n.$broadcast("$routeChangeStart",$,r).defaultPrevented&&e&&e.preventDefault()}function g(){var e=S.current,r=$;if(k)e.params=r.params,t.copy(e.params,a),n.$broadcast("$routeUpdate",e);else if(r||e){x=!1,S.current=r;var i=o.resolve(r);f.$$incOutstandingRequestCount(),i.then(m).then(v).then(function(o){return o&&i.then(y).then(function(i){r===S.current&&(r&&(r.locals=i,t.copy(r.params,a)),n.$broadcast("$routeChangeSuccess",r,e))})}).catch(function(t){r===S.current&&n.$broadcast("$routeChangeError",r,e,t)}).finally(function(){f.$$completeOutstandingRequest(u)})}}function m(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=_(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var i=r.path(),a=r.search(),l=e.redirectTo(e.pathParams,i,a);t.isDefined(l)&&(n.url=l,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(s.invoke(e.resolveRedirectTo)).then(function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function v(e){var t=!0;if(e.route!==S.current)t=!1;else if(e.hasRedirection){var n=r.url(),i=e.url;i?r.url(i).replace():i=r.path(e.path).search(e.search).replace().url(),i!==n&&(t=!1)}return t}function y(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,function(e,r){n[r]=t.isString(e)?s.get(e):s.invoke(e,null,null,r)});var r=b(e);return t.isDefined(r)&&(n.$template=r),o.all(n)}}function b(e){var n,r;return t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(r=e.templateUrl)&&(t.isFunction(r)&&(r=r(e.params)),t.isDefined(r)&&(e.loadedTemplateUrl=c.valueOf(r),n=l(r))),n}function w(){var n,a;return t.forEach(i,function(i,o){!a&&(n=p(r.path(),i))&&((a=e(i,{params:t.extend({},r.search(),n),pathParams:n})).$$route=i)}),a||i[null]&&e(i[null],{params:{},pathParams:{}})}function _(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),a=i[1];r.push(n[a]),r.push(i[2]||""),delete n[a]}}),r.join("")}var $,k,x=!1,S={routes:i,reload:function(){x=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,x=!1}};n.$evalAsync(function(){h(e),e.defaultPrevented||g()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw d("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),r.path(_(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",h),n.$on("$locationChangeSuccess",g),S}]}).run(r),d=t.$$minErr("ngRoute");r.$inject=["$injector"],f.provider("$routeParams",function(){this.$get=function(){return{}}}),f.directive("ngView",i),f.directive("ngView",a),i.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular)},{}],17:[function(e,t,n){e("./angular-route"),t.exports="ngRoute"},{"./angular-route":16}],18:[function(e,t,n){!function(e,t){"use strict";function n(e){var t=[];return f(t,l).chars(e),t.join("")}var r,i,a,o,s,l,u,c,f,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?s(i[n]):i[n]]=!0;return r}function p(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function h(e){return e.replace(/&/g,"&amp;").replace(y,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var a=n[r],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),r--,i--)}var s=t.firstChild;s&&g(s),t=m("nextSibling",t)}}function m(e,t){var n=t[e];if(n&&u.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&i(j,C),function(t){var n=[];return c(t,f(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(v=e,this):v},r=t.bind,i=t.extend,a=t.forEach,o=t.isDefined,s=t.lowercase,l=t.noop,c=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=E(e);if(!n)return"";var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=E(e)}while(e!==n.innerHTML);for(var i=n.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:t.chars(i.textContent)}var a;if(!((a=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),a=m("nextSibling",i))))for(;null==a&&(i=m("parentNode",i))!==n;)a=m("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=a}for(;i=n.firstChild;)n.removeChild(i)},f=function(e,t){var n=!1,i=r(e,e.push);return{start:function(e,r){e=s(e),!n&&A[e]&&(n=e),n||!0!==j[e]||(i("<"),i(e),a(r,function(n,r){var a=s(r),o="img"===e&&"src"===a||"background"===a;!0!==D[a]||!0===R[a]&&!t(n,o)||(i(" "),i(r),i('="'),i(h(n)),i('"'))}),i(">"))},end:function(e){e=s(e),n||!0!==j[e]||!0===w[e]||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(h(e))}}},u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^#-~ |!])/g,w=n("area,br,col,hr,img,wbr"),_=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=n("rp,rt"),k=i({},$,_),x=i({},_,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=i({},$,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),j=i({},w,x,S,k),R=n("background,cite,href,longdesc,src,xlink:href"),P=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),L=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=i({},R,L,P),E=function(e,t){var n;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");var r=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return r.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',r.querySelector("svg")?(r.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',r.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(e){return r.innerHTML=e,t.documentMode&&g(r),r}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var r=n.response.body;return r.firstChild.remove(),r}}(e,e.document)}).info({angularVersion:"1.6.6"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,f){function d(e){e&&y.push(n(e))}if(null==t||""===t)return t;if(!u(t))throw a("notstring","Expected string but received: {0}",t);for(var p,h,g,m=s(f)?f:l(f)?function(){return f}:function(){return{}},v=t,y=[];p=v.match(r);)h=p[0],p[2]||p[4]||(h=(p[3]?"http://":"mailto:")+h),g=p.index,d(v.substr(0,g)),function(e,t){var n,r=m(e);y.push("<a ");for(n in r)y.push(n+'="'+r[n]+'" ');!o(c)||"target"in r||y.push('target="',c,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),d(t),y.push("</a>")}(h,p[0].replace(i,"")),v=v.substring(g+p[0].length);return d(v),e(y.join(""))}}])}(window,window.angular)},{}],19:[function(e,t,n){e("./angular-sanitize"),t.exports="ngSanitize"},{"./angular-sanitize":18}],20:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof t&&t.exports?t.exports=n():n()}(0,function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=[],i=n.files.length,a=0;a<i;a++)r.push(function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[r.prefix,n.key,r.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),t(angular.extend({url:i,method:"GET"},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})}({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return e.all(r).then(function(e){for(var t=e.length,n={},r=0;r<t;r++)for(var i in e[r])n[i]=e[r][i];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"})},{}],21:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof t&&t.exports?t.exports=n():n()}(0,function(){function e(e){"use strict";var t;if(1===angular.version.major&&angular.version.minor>=4){var n=e.get("$cookies");t={get:function(e){return n.get(e)},put:function(e,t){n.put(e,t)}}}else{var r=e.get("$cookieStore");t={get:function(e){return r.get(e)},put:function(e,t){r.put(e,t)}}}return{get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)},put:function(e,n){t.put(e,n)}}}return e.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",e),e.displayName="$translateCookieStorage","pascalprecht.translate"})},{}],22:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof t&&t.exports?t.exports=n():n()}(0,function(){function e(e,t){"use strict";var n=function(){var t;return{get:function(n){return t||(t=e.localStorage.getItem(n)),t},set:function(n,r){t=r,e.localStorage.setItem(n,r)},put:function(n,r){t=r,e.localStorage.setItem(n,r)}}}(),r="localStorage"in e;if(r){var i="pascalprecht.translate.storageTest";try{null!==e.localStorage?(e.localStorage.setItem(i,"foo"),e.localStorage.removeItem(i),r=!0):r=!1}catch(e){r=!1}}return r?n:t}return e.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",e),e.displayName="$translateLocalStorageFactory","pascalprecht.translate"})},{}],23:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof t&&t.exports?t.exports=n():n()}(0,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t)).catch(r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(e,t,n,r){"use strict";var i,a,o,s,l,u,c,f,d,p,h,g,m,v,y,b,w={},_=[],$=e,k=[],x="translate-cloak",S=!1,C=!1,A=".",j=!1,R=!1,P=0,L=!0,D="default",E={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},O=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,i=t.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if((n=i.languages[e])&&n.length)return n;for(e=0;e<a.length;e++)if((n=i[a[e]])&&n.length)return n;return null};O.displayName="angular-translate/service: getFirstBrowserLanguage";var T=function(){var e=O()||"";return E[D]&&(e=E[D](e)),e};T.displayName="angular-translate/service: getLocale";var U=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F=function(){return this.toString().replace(/^\s+|\s+$/g,"")},z=function(e){if(e){for(var t=[],n=angular.lowercase(e),r=0,i=_.length;r<i;r++)t.push(angular.lowercase(_[r]));if(U(t,n)>-1)return e;if(a){var o;for(var s in a)if(a.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(u||l)&&(o=a[s],U(t,angular.lowercase(o))>-1))return o}}var c=e.split("_");return c.length>1&&U(t,angular.lowercase(c[0]))>-1?c[0]:void 0}},N=function(e,t){if(!e&&!t)return w;if(e&&!t){if(angular.isString(e))return w[e]}else angular.isObject(w[e])||(w[e]={}),angular.extend(w[e],M(t));return this};this.translations=N,this.cloakClassName=function(e){return e?(x=e,this):x},this.nestedObjectDelimeter=function(e){return e?(A=e,this):A};var M=function(e,t,n,r){var i,a,o;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o=e[i],angular.isObject(o)?M(o,t.concat(i),n,i):(a=t.length?""+t.join(A)+A+i:i,t.length&&i===r&&(n[""+t.join(A)]="@:"+a),n[a]=o));return n};M.displayName="flatObject",this.addInterpolation=function(e){return k.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(I(e),this):i};var I=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return q(e),this};var q=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(i)&&U(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(e){if(e){if(!w[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return T()};var H=function(e){return e?($=e,this):f?f+$:$};this.storageKey=H,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(f=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return d=e,this},this.usePostCompiling=function(e){return S=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},D=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():T();return i=_.length?z(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(_=e,t&&(a=t),this):_},this.useLoaderCache=function(e){return!1===e?y=void 0:!0===e?y=!0:void 0===e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?P:(P=e,this)},this.statefulFilter=function(e){return void 0===e?L:(L=e,this)},this.postProcess=function(e){return b=e||void 0,this},this.keepContent=function(e){return R=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var a,f,D,E=t.get(p||"$translateDefaultInterpolation"),O=!1,B={},V={},G=function(e,t,n,s,u){!l&&i&&(l=i);var d=u&&u!==l?z(u)||u:l;if(u&&ue(u),angular.isArray(e)){return function(e){for(var i={},a=[],o=0,l=e.length;o<l;o++)a.push(function(e){var a=r.defer(),o=function(t){i[e]=t,a.resolve([e,t])};return G(e,t,n,s,u).then(o,o),a.promise}(e[o]));return r.all(a).then(function(){return i})}(e)}var p=r.defer();e&&(e=F.apply(e));var h=function(){var e=i?V[i]:V[d];if(f=0,c&&!e){var t=a.get($);if(e=V[t],o&&o.length){var n=U(o,t);f=0===n?1:0,U(o,i)<0&&o.push(i)}}return e}();if(h){var g=function(){u||(d=l),ae(e,t,n,s,d).then(p.resolve,p.reject)};g.displayName="promiseResolved",h.finally(g).catch(angular.noop)}else ae(e,t,n,s,d).then(p.resolve,p.reject);return p.promise},K=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},W=function(e){l=e,c&&a.put(G.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),E.setLocale(l);var t=function(e,t){B[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(B,t),n.$emit("$translateChangeEnd",{language:e})},J=function(e){if(!e)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:e}),O=!0;var a=y;"string"==typeof a&&(a=t.get(a));var o=angular.extend({},g,{key:e,$http:angular.extend({},{cache:a},g.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,M(e))}):angular.extend(r,M(t)),O=!1,i.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(o).then(s,l),i.promise};if(c&&(!(a=t.get(c)).get||!a.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(k.length){var X=function(e){var n=t.get(e);n.setLocale(i||l),B[n.getInterpolationIdentifier()]=n};X.displayName="interpolationFactoryAdder",angular.forEach(k,X)}var Y=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(w,e))t.resolve(w[e]);else if(V[e]){var n=function(e){N(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",V[e].then(n,t.reject)}else t.reject();return t.promise},Q=function(e,t,n,i,a){var o=r.defer(),s=function(r){if(Object.prototype.hasOwnProperty.call(r,t)&&null!==r[t]){i.setLocale(e);var s=r[t];if("@:"===s.substr(0,2))Q(e,s.substr(2),n,i,a).then(o.resolve,o.reject);else{var u=i.interpolate(r[t],n,"service",a,t);u=le(t,r[t],u,n,e),o.resolve(u)}i.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",Y(e).then(s,o.reject),o.promise},Z=function(e,t,n,r,i){var a,o=w[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){if(r.setLocale(e),a=r.interpolate(o[t],n,"filter",i,t),a=le(t,o[t],a,n,e,i),!angular.isString(a)&&angular.isFunction(a.$$unwrapTrustedValue)){var s=a.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return Z(e,s.substr(2),n,r,i)}else if("@:"===a.substr(0,2))return Z(e,a.substr(2),n,r,i);r.setLocale(l)}return a},ee=function(e,n,r,i){return d?t.get(d)(e,l,n,r,i):e},te=function(e,t,n,i,a,s){var l=r.defer();if(e<o.length){var u=o[e];Q(u,t,n,i,s).then(function(e){l.resolve(e)},function(){return te(e+1,t,n,i,a,s).then(l.resolve,l.reject)})}else if(a)l.resolve(a);else{var c=ee(t,n,a);d&&c?l.resolve(c):l.reject(K(t))}return l.promise},ne=function(e,t,n,r,i){var a;if(e<o.length){var s=o[e];(a=Z(s,t,n,r,i))||""===a||(a=ne(e+1,t,n,r))}return a},re=function(e,t,n,r,i){return te(D>0?D:f,e,t,n,r,i)},ie=function(e,t,n,r){return ne(D>0?D:f,e,t,n,r)},ae=function(e,t,n,i,a,s){var l=r.defer(),u=a?w[a]:w,c=n?B[n]:E;if(u&&Object.prototype.hasOwnProperty.call(u,e)&&null!==u[e]){var f=u[e];if("@:"===f.substr(0,2))G(f.substr(2),t,n,i,a).then(l.resolve,l.reject);else{var p=c.interpolate(f,t,"service",s,e);p=le(e,f,p,t,a),l.resolve(p)}}else{var h;d&&!O&&(h=ee(e,t,i)),a&&o&&o.length?re(e,t,c,i,s).then(function(e){l.resolve(e)},function(e){l.reject(K(e))}):d&&!O&&h?i?l.resolve(i):l.resolve(h):i?l.resolve(i):l.reject(K(e))}return l.promise},oe=function(e,t,n,r,i){var a,s=r?w[r]:w,l=E;if(B&&Object.prototype.hasOwnProperty.call(B,n)&&(l=B[n]),s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]){var u=s[e];"@:"===u.substr(0,2)?a=oe(u.substr(2),t,n,r,i):(a=l.interpolate(u,t,"filter",i,e),a=le(e,u,a,t,r,i))}else{var c;d&&!O&&(c=ee(e,t,i)),r&&o&&o.length?(f=0,a=ie(e,t,l,i)):a=d&&!O&&c?c:K(e)}return a},se=function(e){u===e&&(u=void 0),V[e]=void 0},le=function(e,n,r,i,a,o){var s=b;return s&&("string"==typeof s&&(s=t.get(s)),s)?s(e,n,r,i,a,o):r},ue=function(e){w[e]||!h||V[e]||(V[e]=J(e).then(function(e){return N(e.key,e.table),e}))};G.preferredLanguage=function(e){return e&&I(e),i},G.cloakClassName=function(){return x},G.nestedObjectDelimeter=function(){return A},G.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(q(e),h&&o&&o.length)for(var t=0,n=o.length;t<n;t++)V[o[t]]||(V[o[t]]=J(o[t]));G.use(G.use())}return s?o[0]:o},G.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=U(o,e);t>-1&&(D=t)}else D=0},G.proposedLanguage=function(){return u},G.storage=function(){return a},G.negotiateLocale=z,G.use=function(e){if(!e)return l;var t=r.defer();t.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:e});var i=z(e);return _.length>0&&!i?r.reject(e):(i&&(e=i),u=e,!C&&w[e]||!h||V[e]?V[e]?V[e].then(function(e){return u===e.key&&W(e.key),t.resolve(e.key),e},function(e){return!l&&o&&o.length>0&&o[0]!==e?G.use(o[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),W(e)):(V[e]=J(e).then(function(n){return N(n.key,n.table),t.resolve(n.key),u===e&&W(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),V[e].finally(function(){se(e)}).catch(angular.noop)),t.promise)},G.resolveClientLocale=function(){return T()},G.storageKey=function(){return H()},G.isPostCompilingEnabled=function(){return S},G.isForceAsyncReloadEnabled=function(){return C},G.isKeepContent=function(){return R},G.refresh=function(e){function t(e){var t=J(e);return V[e]=t,t.then(function(t){w[e]={},N(e,t.table),a[e]=!0},angular.noop),t}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:e});var i=r.defer(),a={};if(i.promise.then(function(){for(var e in w)w.hasOwnProperty(e)&&(e in a||delete w[e]);l&&W(l)},angular.noop).finally(function(){n.$emit("$translateRefreshEnd",{language:e})}),e)w[e]?t(e).then(i.resolve,i.reject):i.reject();else{var s=o&&o.slice()||[];l&&-1===s.indexOf(l)&&s.push(l),r.all(s.map(t)).then(i.resolve,i.reject)}return i.promise},G.instant=function(e,t,n,r,a){var s=r&&r!==l?z(r)||r:l;if(null===e||angular.isUndefined(e))return e;if(r&&ue(r),angular.isArray(e)){for(var u={},c=0,f=e.length;c<f;c++)u[e[c]]=G.instant(e[c],t,n,r,a);return u}if(angular.isString(e)&&e.length<1)return e;e&&(e=F.apply(e));var p,h=[];i&&h.push(i),s&&h.push(s),o&&o.length&&(h=h.concat(o));for(var g=0,y=h.length;g<y;g++){var b=h[g];if(w[b]&&void 0!==w[b][e]&&(p=oe(e,t,n,s,a)),void 0!==p)break}if(!p&&""!==p)if(m||v)p=K(e);else{p=E.interpolate(e,t,"filter",a);var _;d&&!O&&(_=ee(e,t,a)),d&&!O&&_&&(p=_)}return p},G.versionInfo=function(){return"2.15.2"},G.loaderCache=function(){return y},G.directivePriority=function(){return P},G.statefulFilter=function(){return L},G.isReady=function(){return j};var ce=r.defer();ce.promise.then(function(){j=!0}),G.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),j?t.resolve():ce.promise.then(t.resolve),t.promise},G.getAvailableLanguageKeys=function(){return _.length>0?_:null},G.getTranslationTable=function(e){return(e=e||G.use())&&w[e]?angular.copy(w[e]):null};var fe=n.$on("$translateReady",function(){ce.resolve(),fe(),fe=null}),de=n.$on("$translateChangeEnd",function(){ce.resolve(),de(),de=null});if(h){if(angular.equals(w,{})&&G.use()&&G.use(G.use()),o&&o.length)for(var pe=0,he=o.length;pe<he;pe++){var ge=o[pe];!C&&w[ge]||(V[ge]=J(ge).then(function(e){return N(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e}))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function n(e,t){"use strict";var n,r={};return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return"default"},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r,i,a,o){r=r||{},r=t.sanitize(r,"params",a,i);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=e(n)(r),s=t.sanitize(s,"text",a,i)):s="",s},r}function r(e,t,n,r,a){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,f=s[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",p="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,h,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=i(s);var m={},v=function(e){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=o.apply(h.text()),r=n.match(d);if(angular.isArray(r)){s.preText=r[1],s.postText=r[3],m.translate=t(r[2])(s.$parent);var i=n.match(p);angular.isArray(i)&&i[2]&&i[2].length&&(v._unwatchOld=s.$watch(i[2],function(e){m.translate=e,_()}))}else m.translate=n||void 0}else m.translate=e;_()};!function(e,t,n){if(t.translateValues&&angular.extend(e,r(t.translateValues)(s.$parent)),f)for(var i in n)Object.prototype.hasOwnProperty.call(t,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(e[angular.lowercase(i.substr(14,1))+i.substr(15)]=n[i])}(s.interpolateParams,g,l);var y=!0;g.$observe("translate",function(e){void 0===e?v(""):""===e&&y||(m.translate=e,_()),y=!1});for(var b in g)g.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&b.length>13&&function(e){g.$observe(e,function(t){m[e]=t,_()})}(b);if(g.$observe("translateDefault",function(e){s.defaultText=e,_()}),u&&g.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,r(e)(s.$parent))})}),f){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&function(e){g.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})}(w)}var _=function(){for(var e in m)m.hasOwnProperty(e)&&void 0!==m[e]&&$(e,m[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},$=function(t,n,r,i,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,i,c,a,r.translateLanguage).then(function(e){k(e,r,!0,t)},function(e){k(e,r,!1,t)})):k(n,r,!1,t)},k=function(t,r,i,a){if(i||void 0!==r.defaultText&&(t=r.defaultText),"translate"===a){(i||!i&&!e.isKeepContent()&&void 0===g.translateKeepContent)&&h.empty().append(r.preText+t+r.postText);var o=e.isPostCompilingEnabled(),s=void 0!==l.translateCompile,u=s&&"false"!==l.translateCompile;(o&&!s||u)&&n(h.contents())(r)}else{var c=g.$attr[a];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),h.attr(c,t)}};(u||f||g.translateDefault)&&s.$watch("interpolateParams",_,!0),s.$on("translateLanguageChanged",_);var x=a.$on("$translateChangeSuccess",_);h.text().length?v(g.translate?g.translate:""):g.translate&&v(g.translate),_(),s.$on("$destroy",x)}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function a(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,r,i){var a,s,l={},u=function(){angular.forEach(a,function(t,a){t&&(l[a]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,s,i.translateInterpolation,void 0,n.translateLanguage).then(function(e){r.attr(a,e)},function(e){r.attr(a,e)}))}),angular.forEach(l,function(e,t){a[t]||(r.removeAttr(t),delete l[t])})};o(n,i.translateAttr,function(e){a=e},u),o(n,i.translateValues,function(e){s=e},u),i.translateValues&&n.$watch(i.translateValues,u,!0),n.$on("translateLanguageChanged",u);var c=t.$on("$translateChangeSuccess",u);u(),n.$on("$destroy",c)}}}function o(e,t,n,r){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),r()},!0),n(e.$eval(t)))}function s(e,t){"use strict";return{compile:function(n){var r=function(t){t.addClass(e.cloakClassName())},i=function(t){t.removeClass(e.cloakClassName())};return r(n),function(n,a,o){var s=i.bind(this,a),l=r.bind(this,a);o.translateCloak&&o.translateCloak.length?(o.$observe("translateCloak",function(t){e(t).then(s,l)}),t.$on("$translateChangeSuccess",function(){e(o.translateCloak).then(s,l)})):e.onReady(s)}}}}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=i(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function c(e,t){"use strict";var n=function(n,r,i,a){if(!angular.isObject(r)){var o=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};r=e(r)(o)}return t.instant(n,r,i,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function f(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],s.$inject=["$translate","$rootScope"],c.$inject=["$parse","$translate"],f.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var e,t,n,r=null,i=!1,a=!1;(n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=u(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=u(e,o)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=u(e,o)),e},sceParameters:function(e,t){return"params"===t&&(e=u(e,l)),e}}).escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return i=!0,r=e,this},this.$get=["$injector","$log",function(o,s){var l={},u=function(e,t,r,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,t,r);else if(angular.isFunction(n[i]))e=n[i](e,t,r);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=o.get(n[i])}catch(e){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=l[n[i]](e,t,r)}}),e},c=function(){i||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),o.has("$sce")&&(t=o.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,i){if(r||c(),n||null===n||(n=r),!n)return e;i||(i="service");var a=angular.isArray(n)?n:[n];return u(e,t,i,a)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},u=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var r=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,i){angular.isFunction(e)||(r[i]=u(e,t,n))}),n.splice(-1,1),r}return angular.isNumber(e)?e:!0===e||!1===e?e:angular.isUndefined(e)||null===e?e:t(e)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",s),s.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",l),l.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",f),f.displayName="$translationCache","pascalprecht.translate"})},{}],24:[function(e,t,n){(function(e,r){!function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e.async=e.async||{})}(this,function(n){"use strict";function i(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}function a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function o(e){setTimeout(e,0)}function s(e){return function(t){var n=i(arguments,1);e(function(){t.apply(null,n)})}}function l(e){return rt(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}a(r)&&"function"==typeof r.then?r.then(function(e){u(n,null,e)},function(e){u(n,e.message?e:new Error(e))}):n(null,r)})}function u(e,t,n){try{e(t,n)}catch(e){ot(c,e)}}function c(e){throw e}function f(e){return st&&"AsyncFunction"===e[Symbol.toStringTag]}function d(e){return f(e)?l(e):e}function p(e){return function(t){var n=i(arguments,1),r=rt(function(n,r){var i=this;return e(t,function(e,t){d(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}function h(e){var t=pt.call(e,gt),n=e[gt];try{e[gt]=void 0;var r=!0}catch(e){}var i=ht.call(e);return r&&(t?e[gt]=n:delete e[gt]),i}function g(e){return mt.call(e)}function m(e){return null==e?void 0===e?yt:vt:(e=Object(e),bt&&bt in e?h(e):g(e))}function v(e){if(!a(e))return!1;var t=m(e);return t==_t||t==$t||t==wt||t==kt}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xt}function b(e){return null!=e&&y(e.length)&&!v(e)}function w(){}function _(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function $(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e){return null!=e&&"object"==typeof e}function x(e){return k(e)&&m(e)==jt}function S(e,t){return!!(t=null==t?zt:t)&&("number"==typeof e||Nt.test(e))&&e>-1&&e%1==0&&e<t}function C(e,t){var n=Et(e),r=!n&&Dt(e),i=!n&&!r&&Ft(e),a=!n&&!r&&!i&&Gt(e),o=n||r||i||a,s=o?$(e.length,String):[],l=s.length;for(var u in e)!t&&!Kt.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||S(u,l))||s.push(u);return s}function A(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Wt)}function j(e){if(!A(e))return Jt(e);var t=[];for(var n in Object(e))Xt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function R(e){return b(e)?C(e):j(e)}function P(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function L(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function D(e){var t=R(e),n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}function E(e){if(b(e))return P(e);var t=At(e);return t?L(t):D(e)}function O(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function T(e){return function(t,n,r){function i(e,t){if(l-=1,e)s=!0,r(e);else{if(t===St||s&&l<=0)return s=!0,r(null);a()}}function a(){for(;l<e&&!s;){var t=o();if(null===t)return s=!0,void(l<=0&&r(null));l+=1,n(t.value,t.key,O(i))}}if(r=_(r||w),e<=0||!t)return r(null);var o=E(t),s=!1,l=0;a()}}function U(e,t,n,r){T(t)(e,d(n),r)}function F(e,t){return function(n,r,i){return e(n,t,r,i)}}function z(e,t,n){n=_(n||w);var r=0,i=0,a=e.length;for(0===a&&n(null);r<a;r++)t(e[r],r,O(function(e,t){e?n(e):++i!==a&&t!==St||n(null)}))}function N(e){return function(t,n,r){return e(Qt,t,d(n),r)}}function M(e,t,n,r){r=r||w,t=t||[];var i=[],a=0,o=d(n);e(t,function(e,t,n){var r=a++;o(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}function I(e){return function(t,n,r,i){return e(T(n),t,d(r),i)}}function q(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function H(e,t){return e&&on(e,t,R)}function B(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function V(e){return e!==e}function G(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function K(e,t,n){return t===t?G(e,t,n):B(e,V,n)}function W(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function J(e){return"symbol"==typeof e||k(e)&&m(e)==ln}function X(e){if("string"==typeof e)return e;if(Et(e))return W(e,X)+"";if(J(e))return fn?fn.call(e):"";var t=e+"";return"0"==t&&1/e==-un?"-0":t}function Y(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function Q(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Y(e,t,n)}function Z(e,t){for(var n=e.length;n--&&K(t,e[n],0)>-1;);return n}function ee(e,t){for(var n=-1,r=e.length;++n<r&&K(t,e[n],0)>-1;);return n}function te(e){return e.split("")}function ne(e){return dn.test(e)}function re(e){return e.match(wn)||[]}function ie(e){return ne(e)?re(e):te(e)}function ae(e){return null==e?"":X(e)}function oe(e,t,n){if((e=ae(e))&&(n||void 0===t))return e.replace(_n,"");if(!e||!(t=X(t)))return e;var r=ie(e),i=ie(t);return Q(r,ee(r,i),Z(r,i)+1).join("")}function se(e){return e=e.toString().replace(Sn,""),e=e.match($n)[2].replace(" ",""),e=e?e.split(kn):[],e=e.map(function(e){return oe(e.replace(xn,""))})}function le(e,t){var n={};H(e,function(e,t){function r(t,n){var r=W(i,function(e){return t[e]});r.push(n),d(e).apply(null,r)}var i,a=f(e),o=!a&&1===e.length||a&&0===e.length;if(Et(e))i=e.slice(0,-1),e=e[e.length-1],n[t]=i.concat(i.length>0?r:e);else if(o)n[t]=e;else{if(i=se(e),0===e.length&&!a&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");a||i.pop(),n[t]=i.concat(r)}}),sn(n,t)}function ue(){this.head=this.tail=null,this.length=0}function ce(e,t){e.length=1,e.head=e.tail=t}function fe(e,t,n){function r(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(u.started=!0,Et(e)||(e=[e]),0===e.length&&u.idle())return ot(function(){u.drain()});for(var r=0,i=e.length;r<i;r++){var a={data:e[r],callback:n||w};t?u._tasks.unshift(a):u._tasks.push(a)}ot(u.process)}function i(e){return function(t){o-=1;for(var n=0,r=e.length;n<r;n++){var i=e[n],a=K(s,i,0);a>=0&&s.splice(a,1),i.callback.apply(i,arguments),null!=t&&u.error(t,i.data)}o<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=d(e),o=0,s=[],l=!1,u={_tasks:new ue,concurrency:t,payload:n,saturated:w,unsaturated:w,buffer:t/4,empty:w,drain:w,error:w,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){u.drain=w,u._tasks.empty()},unshift:function(e,t){r(e,!0,t)},remove:function(e){u._tasks.remove(e)},process:function(){if(!l){for(l=!0;!u.paused&&o<u.concurrency&&u._tasks.length;){var e=[],t=[],n=u._tasks.length;u.payload&&(n=Math.min(n,u.payload));for(var r=0;r<n;r++){var c=u._tasks.shift();e.push(c),s.push(c),t.push(c.data)}o+=1,0===u._tasks.length&&u.empty(),o===u.concurrency&&u.saturated();var f=O(i(e));a(t,f)}l=!1}},length:function(){return u._tasks.length},running:function(){return o},workersList:function(){return s},idle:function(){return u._tasks.length+o===0},pause:function(){u.paused=!0},resume:function(){!1!==u.paused&&(u.paused=!1,ot(u.process))}};return u}function de(e,t){return fe(e,1,t)}function pe(e,t,n,r){r=_(r||w);var i=d(n);An(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function he(){var e=W(arguments,d);return function(){var t=i(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=w,pe(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=i(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}function ge(e){return e}function me(e,t){return function(n,r,i,a){a=a||w;var o,s=!1;n(r,function(n,r,a){i(n,function(r,i){r?a(r):e(i)&&!o?(s=!0,o=t(!0,n),a(null,St)):a()})},function(e){e?a(e):a(null,s?o:t(!1))})}}function ve(e,t){return t}function ye(e){return function(t){var n=i(arguments,1);n.push(function(t){var n=i(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&q(n,function(t){console[e](t)}))}),d(t).apply(null,n)}}function be(e,t,n){function r(e){if(e)return n(e);var t=i(arguments,1);t.push(a),s.apply(this,t)}function a(e,t){return e?n(e):t?void o(r):n(null)}n=O(n||w);var o=d(e),s=d(t);a(null,!0)}function we(e,t,n){n=O(n||w);var r=d(e),a=function(e){if(e)return n(e);var o=i(arguments,1);if(t.apply(this,o))return r(a);n.apply(null,[null].concat(o))};r(a)}function _e(e,t,n){we(e,function(){return!t.apply(this,arguments)},n)}function $e(e,t,n){function r(e){if(e)return n(e);o(i)}function i(e,t){return e?n(e):t?void a(r):n(null)}n=O(n||w);var a=d(t),o=d(e);o(i)}function ke(e){return function(t,n,r){return e(t,r)}}function xe(e,t,n){Qt(e,ke(d(t)),n)}function Se(e,t,n,r){T(t)(e,ke(d(n)),r)}function Ce(e){return f(e)?e:rt(function(t,n){var r=!0;t.push(function(){var e=arguments;r?ot(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Ae(e){return!e}function je(e){return function(t){return null==t?void 0:t[e]}}function Re(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],a=0;a<t.length;a++)i[a]&&n.push(t[a]);r(null,n)})}function Pe(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,a){n?r(n):(a&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,W(i.sort(function(e,t){return e.index-t.index}),je("value")))})}function Le(e,t,n,r){(b(t)?Re:Pe)(e,t,d(n),r||w)}function De(e,t){function n(e){if(e)return r(e);i(n)}var r=O(t||w),i=d(Ce(e));n()}function Ee(e,t,n,r){r=_(r||w);var i={},a=d(n);U(e,t,function(e,t,n){a(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}function Oe(e,t){return t in e}function Te(e,t){var n=Object.create(null),r=Object.create(null);t=t||ge;var a=d(e),o=rt(function(e,o){var s=t.apply(null,e);Oe(n,s)?ot(function(){o.apply(null,n[s])}):Oe(r,s)?r[s].push(o):(r[s]=[o],a.apply(null,e.concat(function(){var e=i(arguments);n[s]=e;var t=r[s];delete r[s];for(var a=0,o=t.length;a<o;a++)t[a].apply(null,e)})))});return o.memo=n,o.unmemoized=e,o}function Ue(e,t,n){n=n||w;var r=b(t)?[]:{};e(t,function(e,t,n){d(e)(function(e,a){arguments.length>2&&(a=i(arguments,1)),r[t]=a,n(e)})},function(e){n(e,r)})}function Fe(e,t){Ue(Qt,e,t)}function ze(e,t,n){Ue(T(t),e,n)}function Ne(e,t){if(t=_(t||w),!Et(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)d(e[n])(t)}function Me(e,t,n,r){pe(i(e).reverse(),t,n,r)}function Ie(e){var t=d(e);return rt(function(e,n){return e.push(function(e,t){if(e)n(null,{error:e});else{var r;r=arguments.length<=2?t:i(arguments,1),n(null,{value:r})}}),t.apply(this,e)})}function qe(e,t,n,r){Le(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}function He(e){var t;return Et(e)?t=W(e,Ie):(t={},H(e,function(e,n){t[n]=Ie.call(this,e)})),t}function Be(e){return function(){return e}}function Ve(e,t,n){function r(){s(function(e){e&&l++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(r,o.intervalFunc(l)):n.apply(null,arguments)})}var i=5,a=0,o={times:i,intervalFunc:Be(a)};if(arguments.length<3&&"function"==typeof e?(n=t||w,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||i,e.intervalFunc="function"==typeof t.interval?t.interval:Be(+t.interval||a),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||i}}(o,e),n=n||w),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var s=d(t),l=1;r()}function Ge(e,t){Ue(An,e,t)}function Ke(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}var i=d(t);Zt(e,function(e,t){i(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,W(t.sort(r),je("value")))})}function We(e,t,n){var r=d(e);return rt(function(i,a){var o,s=!1;i.push(function(){s||(a.apply(null,arguments),clearTimeout(o))}),o=setTimeout(function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,a(r)},t),r.apply(null,i)})}function Je(e,t,n,r){for(var i=-1,a=lr(sr((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}function Xe(e,t,n,r){var i=d(n);tn(Je(0,e,1),t,i,r)}function Ye(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Et(e)?[]:{}),r=_(r||w);var i=d(n);Qt(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function Qe(e,t){var n,r=null;t=t||w,zn(e,function(e,t){d(e)(function(e,a){n=arguments.length>2?i(arguments,1):a,r=e,t(!e)})},function(){t(r,n)})}function Ze(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function et(e,t,n){n=O(n||w);var r=d(t);if(!e())return n(null);var a=function(t){if(t)return n(t);if(e())return r(a);var o=i(arguments,1);n.apply(null,[null].concat(o))};r(a)}function tt(e,t,n){et(function(){return!e.apply(this,arguments)},t,n)}var nt,rt=function(e){return function(){var t=i(arguments),n=t.pop();e.call(this,t,n)}},it="function"==typeof setImmediate&&setImmediate,at="object"==typeof e&&"function"==typeof e.nextTick,ot=s(nt=it?setImmediate:at?e.nextTick:o),st="function"==typeof Symbol,lt="object"==typeof r&&r&&r.Object===Object&&r,ut="object"==typeof self&&self&&self.Object===Object&&self,ct=lt||ut||Function("return this")(),ft=ct.Symbol,dt=Object.prototype,pt=dt.hasOwnProperty,ht=dt.toString,gt=ft?ft.toStringTag:void 0,mt=Object.prototype.toString,vt="[object Null]",yt="[object Undefined]",bt=ft?ft.toStringTag:void 0,wt="[object AsyncFunction]",_t="[object Function]",$t="[object GeneratorFunction]",kt="[object Proxy]",xt=9007199254740991,St={},Ct="function"==typeof Symbol&&Symbol.iterator,At=function(e){return Ct&&e[Ct]&&e[Ct]()},jt="[object Arguments]",Rt=Object.prototype,Pt=Rt.hasOwnProperty,Lt=Rt.propertyIsEnumerable,Dt=x(function(){return arguments}())?x:function(e){return k(e)&&Pt.call(e,"callee")&&!Lt.call(e,"callee")},Et=Array.isArray,Ot="object"==typeof n&&n&&!n.nodeType&&n,Tt=Ot&&"object"==typeof t&&t&&!t.nodeType&&t,Ut=Tt&&Tt.exports===Ot?ct.Buffer:void 0,Ft=(Ut?Ut.isBuffer:void 0)||function(){return!1},zt=9007199254740991,Nt=/^(?:0|[1-9]\d*)$/,Mt={};Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Arguments]"]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object Boolean]"]=Mt["[object DataView]"]=Mt["[object Date]"]=Mt["[object Error]"]=Mt["[object Function]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt["[object Object]"]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object WeakMap]"]=!1;var It="object"==typeof n&&n&&!n.nodeType&&n,qt=It&&"object"==typeof t&&t&&!t.nodeType&&t,Ht=qt&&qt.exports===It&&lt.process,Bt=function(){try{return Ht&&Ht.binding("util")}catch(e){}}(),Vt=Bt&&Bt.isTypedArray,Gt=Vt?function(e){return function(t){return e(t)}}(Vt):function(e){return k(e)&&y(e.length)&&!!Mt[m(e)]},Kt=Object.prototype.hasOwnProperty,Wt=Object.prototype,Jt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Xt=Object.prototype.hasOwnProperty,Yt=F(U,1/0),Qt=function(e,t,n){(b(e)?z:Yt)(e,d(t),n)},Zt=N(M),en=p(Zt),tn=I(M),nn=F(tn,1),rn=p(nn),an=function(e){var t=i(arguments,1);return function(){var n=i(arguments);return e.apply(null,t.concat(n))}},on=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}(),sn=function(e,t,n){function r(e,t){m.push(function(){l(e,t)})}function a(){if(0===m.length&&0===p)return n(null,f);for(;m.length&&p<t;)m.shift()()}function o(e,t){var n=g[e];n||(n=g[e]=[]),n.push(t)}function s(e){q(g[e]||[],function(e){e()}),a()}function l(e,t){if(!h){var r=O(function(t,r){if(p--,arguments.length>2&&(r=i(arguments,1)),t){var a={};H(f,function(e,t){a[t]=e}),a[e]=r,h=!0,g=Object.create(null),n(t,a)}else f[e]=r,s(e)});p++;var a=d(t[t.length-1]);t.length>1?a(f,r):a(r)}}function u(t){var n=[];return H(e,function(e,r){Et(e)&&K(e,t,0)>=0&&n.push(r)}),n}"function"==typeof t&&(n=t,t=null),n=_(n||w);var c=R(e).length;if(!c)return n(null);t||(t=c);var f={},p=0,h=!1,g=Object.create(null),m=[],v=[],y={};H(e,function(t,n){if(!Et(t))return r(n,[t]),void v.push(n);var i=t.slice(0,t.length-1),a=i.length;if(0===a)return r(n,t),void v.push(n);y[n]=a,q(i,function(s){if(!e[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+s+"` in "+i.join(", "));o(s,function(){0===--a&&r(n,t)})})}),function(){for(var e=0;v.length;)e++,q(u(v.pop()),function(e){0==--y[e]&&v.push(e)});if(e!==c)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),a()},ln="[object Symbol]",un=1/0,cn=ft?ft.prototype:void 0,fn=cn?cn.toString:void 0,dn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),pn="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",hn="\\ud83c[\\udffb-\\udfff]",gn="(?:\\ud83c[\\udde6-\\uddff]){2}",mn="[\\ud800-\\udbff][\\udc00-\\udfff]",vn="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",yn="[\\ufe0e\\ufe0f]?"+vn+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",gn,mn].join("|")+")[\\ufe0e\\ufe0f]?"+vn+")*"),bn="(?:"+["[^\\ud800-\\udfff]"+pn+"?",pn,gn,mn,"[\\ud800-\\udfff]"].join("|")+")",wn=RegExp(hn+"(?="+hn+")|"+bn+yn,"g"),_n=/^\s+|\s+$/g,$n=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,kn=/,/,xn=/(=.+)?(\s*)$/,Sn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;ue.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ue.prototype.empty=function(){for(;this.head;)this.shift();return this},ue.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ue.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ue.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):ce(this,e)},ue.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):ce(this,e)},ue.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ue.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ue.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},ue.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var Cn,An=F(U,1),jn=function(){return he.apply(null,i(arguments).reverse())},Rn=Array.prototype.concat,Pn=function(e,t,n,r){r=r||w;var a=d(n);tn(e,t,function(e,t){a(e,function(e){return e?t(e):t(null,i(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=Rn.apply(n,t[i]));return r(e,n)})},Ln=F(Pn,1/0),Dn=F(Pn,1),En=function(){var e=i(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}},On=N(me(ge,ve)),Tn=I(me(ge,ve)),Un=F(Tn,1),Fn=ye("dir"),zn=F(Se,1),Nn=N(me(Ae,Ae)),Mn=I(me(Ae,Ae)),In=F(Mn,1),qn=N(Le),Hn=I(Le),Bn=F(Hn,1),Vn=function(e,t,n,r){r=r||w;var i=d(n);tn(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,a=0;a<t.length;a++)if(t[a]){var o=t[a].key,s=t[a].val;i.call(n,o)?n[o].push(s):n[o]=[s]}return r(e,n)})},Gn=F(Vn,1/0),Kn=F(Vn,1),Wn=ye("log"),Jn=F(Ee,1/0),Xn=F(Ee,1),Yn=s(Cn=at?e.nextTick:it?setImmediate:o),Qn=function(e,t){var n=d(e);return fe(function(e,t){n(e[0],t)},t,1)},Zn=function(e,t){var n=Qn(e,t);return n.push=function(e,t,r){if(null==r&&(r=w),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Et(e)||(e=[e]),0===e.length)return ot(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var a=0,o=e.length;a<o;a++){var s={data:e[a],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}ot(n.process)},delete n.unshift,n},er=N(qe),tr=I(qe),nr=F(tr,1),rr=function(e,t){t||(t=e,e=null);var n=d(t);return rt(function(t,r){function i(e){n.apply(null,t.concat(e))}e?Ve(e,i,r):Ve(i,r)})},ir=N(me(Boolean,ge)),ar=I(me(Boolean,ge)),or=F(ar,1),sr=Math.ceil,lr=Math.max,ur=F(Xe,1/0),cr=F(Xe,1),fr=function(e,t){function n(t){var n=d(e[a++]);t.push(O(r)),n.apply(null,t)}function r(r){if(r||a===e.length)return t.apply(null,arguments);n(i(arguments,1))}if(t=_(t||w),!Et(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var a=0;n([])},dr={applyEach:en,applyEachSeries:rn,apply:an,asyncify:l,auto:sn,autoInject:le,cargo:de,compose:jn,concat:Ln,concatLimit:Pn,concatSeries:Dn,constant:En,detect:On,detectLimit:Tn,detectSeries:Un,dir:Fn,doDuring:be,doUntil:_e,doWhilst:we,during:$e,each:xe,eachLimit:Se,eachOf:Qt,eachOfLimit:U,eachOfSeries:An,eachSeries:zn,ensureAsync:Ce,every:Nn,everyLimit:Mn,everySeries:In,filter:qn,filterLimit:Hn,filterSeries:Bn,forever:De,groupBy:Gn,groupByLimit:Vn,groupBySeries:Kn,log:Wn,map:Zt,mapLimit:tn,mapSeries:nn,mapValues:Jn,mapValuesLimit:Ee,mapValuesSeries:Xn,memoize:Te,nextTick:Yn,parallel:Fe,parallelLimit:ze,priorityQueue:Zn,queue:Qn,race:Ne,reduce:pe,reduceRight:Me,reflect:Ie,reflectAll:He,reject:er,rejectLimit:tr,rejectSeries:nr,retry:Ve,retryable:rr,seq:he,series:Ge,setImmediate:ot,some:ir,someLimit:ar,someSeries:or,sortBy:Ke,timeout:We,times:ur,timesLimit:Xe,timesSeries:cr,transform:Ye,tryEach:Qe,unmemoize:Ze,until:tt,waterfall:fr,whilst:et,all:Nn,any:ir,forEach:xe,forEachSeries:zn,forEachLimit:Se,forEachOf:Qt,forEachOfSeries:An,forEachOfLimit:U,inject:pe,foldl:pe,foldr:Me,select:qn,selectLimit:Hn,selectSeries:Bn,wrapSync:l};n.default=dr,n.applyEach=en,n.applyEachSeries=rn,n.apply=an,n.asyncify=l,n.auto=sn,n.autoInject=le,n.cargo=de,n.compose=jn,n.concat=Ln,n.concatLimit=Pn,n.concatSeries=Dn,n.constant=En,n.detect=On,n.detectLimit=Tn,n.detectSeries=Un,n.dir=Fn,n.doDuring=be,n.doUntil=_e,n.doWhilst=we,n.during=$e,n.each=xe,n.eachLimit=Se,n.eachOf=Qt,n.eachOfLimit=U,n.eachOfSeries=An,n.eachSeries=zn,n.ensureAsync=Ce,n.every=Nn,n.everyLimit=Mn,n.everySeries=In,n.filter=qn,n.filterLimit=Hn,n.filterSeries=Bn,n.forever=De,n.groupBy=Gn,n.groupByLimit=Vn,n.groupBySeries=Kn,n.log=Wn,n.map=Zt,n.mapLimit=tn,n.mapSeries=nn,n.mapValues=Jn,n.mapValuesLimit=Ee,n.mapValuesSeries=Xn,n.memoize=Te,n.nextTick=Yn,n.parallel=Fe,n.parallelLimit=ze,n.priorityQueue=Zn,n.queue=Qn,n.race=Ne,n.reduce=pe,n.reduceRight=Me,n.reflect=Ie,n.reflectAll=He,n.reject=er,n.rejectLimit=tr,n.rejectSeries=nr,n.retry=Ve,n.retryable=rr,n.seq=he,n.series=Ge,n.setImmediate=ot,n.some=ir,n.someLimit=ar,n.someSeries=or,n.sortBy=Ke,n.timeout=We,n.times=ur,n.timesLimit=Xe,n.timesSeries=cr,n.transform=Ye,n.tryEach=Qe,n.unmemoize=Ze,n.until=tt,n.waterfall=fr,n.whilst=et,n.all=Nn,n.allLimit=Mn,n.allSeries=In,n.any=ir,n.anyLimit=ar,n.anySeries=or,n.find=On,n.findLimit=Tn,n.findSeries=Un,n.forEach=xe,n.forEachSeries=zn,n.forEachLimit=Se,n.forEachOf=Qt,n.forEachOfSeries=An,n.forEachOfLimit=U,n.inject=pe,n.foldl=pe,n.foldr=Me,n.select=qn,n.selectLimit=Hn,n.selectSeries=Bn,n.wrapSync=l,Object.defineProperty(n,"__esModule",{value:!0})})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:29}],25:[function(e,t,n){(function(e){(function(){function r(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function i(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:w+t;return e=(e=e[n])&&e[i],"object"==n?e&&r(e,t)>-1?0:-1:e?0:-1}function a(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function o(e){return e.charCodeAt(0)}function s(e,t){for(var n=e.criteria,r=t.criteria,i=-1,a=n.length;++i<a;){var o=n[i],s=r[i];if(o!==s){if(o>s||void 0===o)return 1;if(o<s||void 0===s)return-1}}return e.index-t.index}function l(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],o=e[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var s=f();s.false=s.null=s.true=s.undefined=!1;var l=f();for(l.array=e,l.cache=s,l.push=a;++t<n;)l.push(e[t]);return l}function u(e){return"\\"+X[e]}function c(){return v.pop()||[]}function f(){return y.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function d(e){e.length=0,v.length<$&&v.push(e)}function p(e){var t=e.cache;t&&p(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,y.length<$&&y.push(e)}function h(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,a=Array(i<0?0:i);++r<i;)a[r]=e[t+r];return a}function g(e){function t(e){return e&&"object"==typeof e&&!Lt(e)&&pt.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function a(e){function t(){if(r){var e=h(r);ht.apply(e,arguments)}if(this instanceof t){var a=y(n.prototype),o=n.apply(a,e||arguments);return ve(o)?o:a}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Pt(t,e),t}function v(e,t,n,r,i){if(n){var a=n(e);if(void 0!==a)return a}if(!ve(e))return e;var o=ot.call(e);if(!G[o])return e;var s=jt[o];switch(o){case N:case M:return new s(+e);case q:case V:return new s(e);case B:return a=s(e.source,j.exec(e)),a.lastIndex=e.lastIndex,a}var l=Lt(e);if(t){var u=!r;r||(r=c()),i||(i=c());for(var f=r.length;f--;)if(r[f]==e)return i[f];a=l?s(e.length):{}}else a=l?h(e):Ft({},e);return l&&(pt.call(e,"index")&&(a.index=e.index),pt.call(e,"input")&&(a.input=e.input)),t?(r.push(e),i.push(a),(l?Se:Mt)(e,function(e,o){a[o]=v(e,t,n,r,i)}),u&&(d(r),d(i)),a):a}function y(e,t){return ve(e)?bt(e):{}}function $(e,t,n){if("function"!=typeof e)return qe;if(void 0===t||!("prototype"in e))return e;var r=e.__bindData__;if(void 0===r&&(Rt.funcNames&&(r=!e.name),!(r=r||!Rt.funcDecomp))){var i=ft.call(e);Rt.funcNames||(r=!R.test(i)),r||(r=E.test(i),Pt(e,r))}if(!1===r||!0!==r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return Me(e,t)}function X(e){function t(){var e=l?o:this;if(i){var p=h(i);ht.apply(p,arguments)}if((a||c)&&(p||(p=h(arguments)),a&&ht.apply(p,a),c&&p.length<s))return r|=16,X([n,f?r:-4&r,p,null,o,s]);if(p||(p=arguments),u&&(n=e[d]),this instanceof t){e=y(n.prototype);var g=n.apply(e,p);return ve(g)?g:e}return n.apply(e,p)}var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=1&r,u=2&r,c=4&r,f=8&r,d=n;return Pt(t,e),t}function Q(e,t){var n=-1,a=le(),o=e?e.length:0,s=o>=_&&a===r,u=[];if(s){var c=l(t);c?(a=i,t=c):s=!1}for(;++n<o;){var f=e[n];a(t,f)<0&&u.push(f)}return s&&p(t),u}function Z(e,t,n,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];++i<a;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Lt(s)||de(s))){t||(s=Z(s,t,n));var l=-1,u=s.length,c=o.length;for(o.length+=u;++l<u;)o[c++]=s[l]}else n||o.push(s)}return o}function ee(e,t,n,r,i,a){if(n){var o=n(e,t);if(void 0!==o)return!!o}if(e===t)return 0!==e||1/e==1/t;var s=typeof t;if(!(e!==e||e&&J[typeof e]||t&&J[s]))return!1;if(null==e||null==t)return e===t;var l=ot.call(e),u=ot.call(t);if(l==F&&(l=H),u==F&&(u=H),l!=u)return!1;switch(l){case N:case M:return+e==+t;case q:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case B:case V:return e==tt(t)}var f=l==z;if(!f){var p=pt.call(e,"__wrapped__"),h=pt.call(t,"__wrapped__");if(p||h)return ee(p?e.__wrapped__:e,h?t.__wrapped__:t,n,r,i,a);if(l!=H)return!1;var g=e.constructor,m=t.constructor;if(g!=m&&!(me(g)&&g instanceof g&&me(m)&&m instanceof m)&&"constructor"in e&&"constructor"in t)return!1}var v=!i;i||(i=c()),a||(a=c());for(var y=i.length;y--;)if(i[y]==e)return a[y]==t;var b=0;if(o=!0,i.push(e),a.push(t),f){if(y=e.length,b=t.length,(o=b==y)||r)for(;b--;){var w=y,_=t[b];if(r)for(;w--&&!(o=ee(e[w],_,n,r,i,a)););else if(!(o=ee(e[b],_,n,r,i,a)))break}}else Nt(t,function(t,s,l){if(pt.call(l,s))return b++,o=pt.call(e,s)&&ee(e[s],t,n,r,i,a)}),o&&!r&&Nt(e,function(e,t,n){if(pt.call(n,t))return o=--b>-1});return i.pop(),a.pop(),v&&(d(i),d(a)),o}function te(e,t,n,r,i){(Lt(t)?Se:Mt)(t,function(t,a){var o,s,l=t,u=e[a];if(t&&((s=Lt(t))||It(t))){for(var c=r.length;c--;)if(o=r[c]==t){u=i[c];break}if(!o){var f;n&&(f=void 0!==(l=n(u,t)))&&(u=l),f||(u=s?Lt(u)?u:[]:It(u)?u:{}),r.push(t),i.push(u),f||te(u,t,n,r,i)}}else n&&void 0===(l=n(u,t))&&(l=t),void 0!==l&&(u=l);e[a]=u})}function re(e,t){return e+ct(At()*(t-e+1))}function ie(e,t,n){var a=-1,o=le(),s=e?e.length:0,u=[],f=!t&&s>=_&&o===r,h=n||f?c():u;for(f&&(o=i,h=l(h));++a<s;){var g=e[a],m=n?n(g,a,e):g;(t?!a||h[h.length-1]!==m:o(h,m)<0)&&((n||f)&&h.push(m),u.push(g))}return f?(d(h.array),p(h)):n&&d(h),u}function ae(e){return function(n,r,i){var a={};r=t.createCallback(r,i,3);var o=-1,s=n?n.length:0;if("number"==typeof s)for(;++o<s;){var l=n[o];e(a,l,r(l,o,n),n)}else Mt(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function oe(e,t,n,r,i,o){var s=1&t,l=4&t,u=16&t,c=32&t;if(!(2&t)&&!me(e))throw new nt;u&&!n.length&&(t&=-17,u=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var f=e&&e.__bindData__;return f&&!0!==f?((f=h(f))[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!s||1&f[1]||(f[4]=i),!s&&1&f[1]&&(t|=8),!l||4&f[1]||(f[5]=o),u&&ht.apply(f[2]||(f[2]=[]),n),c&&vt.apply(f[3]||(f[3]=[]),r),f[1]|=t,oe.apply(null,f)):(1==t||17===t?a:X)([e,t,n,r,i,o])}function se(e){return Et[e]}function le(){var e=(e=t.indexOf)===Oe?r:e;return e}function ue(e){return"function"==typeof e&&st.test(e)}function ce(e){var t,n;return!!(e&&ot.call(e)==H&&(t=e.constructor,!me(t)||t instanceof t))&&(Nt(e,function(e,t){n=t}),void 0===n||pt.call(e,n))}function fe(e){return Ot[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&ot.call(e)==F||!1}function pe(e,t,n){var r=Dt(e),i=r.length;for(t=$(t,n,3);i--;){var a=r[i];if(!1===t(e[a],a,e))break}return e}function he(e){var t=[];return Nt(e,function(e,n){me(e)&&t.push(n)}),t.sort()}function ge(e){for(var t=-1,n=Dt(e),r=n.length,i={};++t<r;){var a=n[t];i[e[a]]=a}return i}function me(e){return"function"==typeof e}function ve(e){return!(!e||!J[typeof e])}function ye(e){return"number"==typeof e||e&&"object"==typeof e&&ot.call(e)==q||!1}function be(e){return"string"==typeof e||e&&"object"==typeof e&&ot.call(e)==V||!1}function we(e){for(var t=-1,n=Dt(e),r=n.length,i=Ke(r);++t<r;)i[t]=e[n[t]];return i}function _e(e,t,n){var r=-1,i=le(),a=e?e.length:0,o=!1;return n=(n<0?xt(0,a+n):n)||0,Lt(e)?o=i(e,t,n)>-1:"number"==typeof a?o=(be(e)?e.indexOf(t,n):i(e,t,n))>-1:Mt(e,function(e){if(++r>=n)return!(o=e===t)}),o}function $e(e,n,r){var i=!0;n=t.createCallback(n,r,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&(i=!!n(e[a],a,e)););else Mt(e,function(e,t,r){return i=!!n(e,t,r)});return i}function ke(e,n,r){var i=[];n=t.createCallback(n,r,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o;){var s=e[a];n(s,a,e)&&i.push(s)}else Mt(e,function(e,t,r){n(e,t,r)&&i.push(e)});return i}function xe(e,n,r){n=t.createCallback(n,r,3);var i=-1,a=e?e.length:0;if("number"!=typeof a){var o;return Mt(e,function(e,t,r){if(n(e,t,r))return o=e,!1}),o}for(;++i<a;){var s=e[i];if(n(s,i,e))return s}}function Se(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&void 0===n?t:$(t,n,3),"number"==typeof i)for(;++r<i&&!1!==t(e[r],r,e););else Mt(e,t);return e}function Ce(e,t,n){var r=e?e.length:0;if(t=t&&void 0===n?t:$(t,n,3),"number"==typeof r)for(;r--&&!1!==t(e[r],r,e););else{var i=Dt(e);r=i.length,Mt(e,function(e,n,a){return n=i?i[--r]:--r,t(a[n],n,a)})}return e}function Ae(e,n,r){var i=-1,a=e?e.length:0;if(n=t.createCallback(n,r,3),"number"==typeof a)for(var o=Ke(a);++i<a;)o[i]=n(e[i],i,e);else o=[],Mt(e,function(e,t,r){o[++i]=n(e,t,r)});return o}function je(e,n,r){var i=-1/0,a=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Lt(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];u>a&&(a=u)}else n=null==n&&be(e)?o:t.createCallback(n,r,3),Se(e,function(e,t,r){var o=n(e,t,r);o>i&&(i=o,a=e)});return a}function Re(e,n,r,i){if(!e)return r;var a=arguments.length<3;n=t.createCallback(n,i,4);var o=-1,s=e.length;if("number"==typeof s)for(a&&(r=e[++o]);++o<s;)r=n(r,e[o],o,e);else Mt(e,function(e,t,i){r=a?(a=!1,e):n(r,e,t,i)});return r}function Pe(e,n,r,i){var a=arguments.length<3;return n=t.createCallback(n,i,4),Ce(e,function(e,t,i){r=a?(a=!1,e):n(r,e,t,i)}),r}function Le(e){var t=-1,n=e?e.length:0,r=Ke("number"==typeof n?n:0);return Se(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function De(e,n,r){var i;n=t.createCallback(n,r,3);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&!(i=n(e[a],a,e)););else Mt(e,function(e,t,r){return!(i=n(e,t,r))});return!!i}function Ee(e,n,r){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=-1;for(n=t.createCallback(n,r,3);++o<a&&n(e[o],o,e);)i++}else if(null==(i=n)||r)return e?e[0]:m;return h(e,0,St(xt(0,i),a))}function Oe(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=n<0?xt(0,i+n):n||0}else if(n){var a=Ue(e,t);return e[a]===t?a:-1}return r(e,t,n)}function Te(e,n,r){if("number"!=typeof n&&null!=n){var i=0,a=-1,o=e?e.length:0;for(n=t.createCallback(n,r,3);++a<o&&n(e[a],a,e);)i++}else i=null==n||r?1:xt(0,n);return h(e,i)}function Ue(e,n,r,i){var a=0,o=e?e.length:a;for(n=(r=r?t.createCallback(r,i,1):qe)(n);a<o;){var s=a+o>>>1;r(e[s])<n?a=s+1:o=s}return a}function Fe(e,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===e?null:n,n=!1),null!=r&&(r=t.createCallback(r,i,3)),ie(e,n,r)}function ze(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?je(Vt(e,"length")):0,r=Ke(n<0?0:n);++t<n;)r[t]=Vt(e,t);return r}function Ne(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Lt(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Me(e,t){return arguments.length>2?oe(e,17,h(arguments,2),null,t):oe(e,1,null,null,t)}function Ie(e,t,n){var r,i,a,o,s,l,u,c=0,f=!1,d=!0;if(!me(e))throw new nt;if(t=xt(0,t)||0,!0===n){var p=!0;d=!1}else ve(n)&&(p=n.leading,f="maxWait"in n&&(xt(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var h=function(){var n=t-(Kt()-o);if(n<=0){i&&ut(i);var f=u;i=l=u=m,f&&(c=Kt(),a=e.apply(s,r),l||i||(r=s=null))}else l=gt(h,n)},g=function(){l&&ut(l),i=l=u=m,(d||f!==t)&&(c=Kt(),a=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,o=Kt(),s=this,u=d&&(l||!p),!1===f)var n=p&&!l;else{i||p||(c=o);var m=f-(o-c),v=m<=0;v?(i&&(i=ut(i)),c=o,a=e.apply(s,r)):i||(i=gt(g,m))}return v&&l?l=ut(l):l||t===f||(l=gt(h,t)),n&&(v=!0,a=e.apply(s,r)),!v||l||i||(r=s=null),a}}function qe(e){return e}function He(e,r,i){var a=!0,o=r&&he(r);r&&(i||o.length)||(null==i&&(i=r),s=n,r=e,e=t,o=he(r)),!1===i?a=!1:ve(i)&&"chain"in i&&(a=i.chain);var s=e,l=me(s);Se(o,function(t){var n=e[t]=r[t];l&&(s.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=[r];ht.apply(i,arguments);var o=n.apply(e,i);if(a||t){if(r===o&&ve(o))return this;(o=new s(o)).__chain__=t}return o})})}function Be(){}function Ve(e){return function(t){return t[e]}}function Ge(){return this.__wrapped__}var Ke=(e=e?ne.defaults(Y.Object(),e,ne.pick(Y,T)):Y).Array,We=e.Boolean,Je=e.Date,Xe=e.Function,Ye=e.Math,Qe=e.Number,Ze=e.Object,et=e.RegExp,tt=e.String,nt=e.TypeError,rt=[],it=Ze.prototype,at=e._,ot=it.toString,st=et("^"+tt(ot).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),lt=Ye.ceil,ut=e.clearTimeout,ct=Ye.floor,ft=Xe.prototype.toString,dt=ue(dt=Ze.getPrototypeOf)&&dt,pt=it.hasOwnProperty,ht=rt.push,gt=e.setTimeout,mt=rt.splice,vt=rt.unshift,yt=function(){try{var e={},t=ue(t=Ze.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),bt=ue(bt=Ze.create)&&bt,wt=ue(wt=Ke.isArray)&&wt,_t=e.isFinite,$t=e.isNaN,kt=ue(kt=Ze.keys)&&kt,xt=Ye.max,St=Ye.min,Ct=e.parseInt,At=Ye.random,jt={};jt[z]=Ke,jt[N]=We,jt[M]=Je,jt[I]=Xe,jt[H]=Ze,jt[q]=Qe,jt[B]=et,jt[V]=tt,n.prototype=t.prototype;var Rt=t.support={};Rt.funcDecomp=!ue(e.WinRTError)&&E.test(g),Rt.funcNames="string"==typeof Xe.name,t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:t}},bt||(y=function(){function t(){}return function(n){if(ve(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var Pt=yt?function(e,t){W.value=t,yt(e,"__bindData__",W),W.value=null}:Be,Lt=wt||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&ot.call(e)==z||!1},Dt=kt?function(e){return ve(e)?kt(e):[]}:function(e){var t,n=e,r=[];if(!n)return r;if(!J[typeof e])return r;for(t in n)pt.call(n,t)&&r.push(t);return r},Et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ot=ge(Et),Tt=et("("+Dt(Ot).join("|")+")","g"),Ut=et("["+Dt(Et).join("")+"]","g"),Ft=function(e,t,n){var r,i=e,a=i;if(!i)return a;var o=arguments,s=0,l="number"==typeof n?2:o.length;if(l>3&&"function"==typeof o[l-2])var u=$(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(u=o[--l]);for(;++s<l;)if((i=o[s])&&J[typeof i])for(var c=-1,f=J[typeof i]&&Dt(i),d=f?f.length:0;++c<d;)a[r=f[c]]=u?u(a[r],i[r]):i[r];return a},zt=function(e,t,n){var r,i=e,a=i;if(!i)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if((i=o[s])&&J[typeof i])for(var u=-1,c=J[typeof i]&&Dt(i),f=c?c.length:0;++u<f;)void 0===a[r=c[u]]&&(a[r]=i[r]);return a},Nt=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!J[typeof i])return a;t=t&&void 0===n?t:$(t,n,3);for(r in i)if(!1===t(i[r],r,e))return a;return a},Mt=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!J[typeof i])return a;t=t&&void 0===n?t:$(t,n,3);for(var o=-1,s=J[typeof i]&&Dt(i),l=s?s.length:0;++o<l;)if(r=s[o],!1===t(i[r],r,e))return a;return a},It=dt?function(e){if(!e||ot.call(e)!=H)return!1;var t=e.valueOf,n=ue(t)&&(n=dt(t))&&dt(n);return n?e==n||dt(e)==n:ce(e)}:ce,qt=ae(function(e,t,n){pt.call(e,n)?e[n]++:e[n]=1}),Ht=ae(function(e,t,n){(pt.call(e,n)?e[n]:e[n]=[]).push(t)}),Bt=ae(function(e,t,n){e[n]=t}),Vt=Ae,Gt=ke,Kt=ue(Kt=Je.now)&&Kt||function(){return(new Je).getTime()},Wt=8==Ct(k+"08")?Ct:function(e,t){return Ct(be(e)?e.replace(L,""):e,t||0)};return t.after=function(e,t){if(!me(t))throw new nt;return function(){if(--e<1)return t.apply(this,arguments)}},t.assign=Ft,t.at=function(e){for(var t=arguments,n=-1,r=Z(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,a=Ke(i);++n<i;)a[n]=e[r[n]];return a},t.bind=Me,t.bindAll=function(e){for(var t=arguments.length>1?Z(arguments,!0,!1,1):he(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=oe(e[i],1,null,null,e)}return e},t.bindKey=function(e,t){return arguments.length>2?oe(t,19,h(arguments,2),null,e):oe(t,3,null,null,e)},t.chain=function(e){return e=new n(e),e.__chain__=!0,e},t.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},t.compose=function(){for(var e=arguments,t=e.length;t--;)if(!me(e[t]))throw new nt;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},t.constant=function(e){return function(){return e}},t.countBy=qt,t.create=function(e,t){var n=y(e);return t?Ft(n,t):n},t.createCallback=function(e,t,n){var r=typeof e;if(null==e||"function"==r)return $(e,t,n);if("object"!=r)return Ve(e);var i=Dt(e),a=i[0],o=e[a];return 1!=i.length||o!==o||ve(o)?function(t){for(var n=i.length,r=!1;n--&&(r=ee(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}},t.curry=function(e,t){return t="number"==typeof t?t:+t||e.length,oe(e,4,null,null,null,t)},t.debounce=Ie,t.defaults=zt,t.defer=function(e){if(!me(e))throw new nt;var t=h(arguments,1);return gt(function(){e.apply(m,t)},1)},t.delay=function(e,t){if(!me(e))throw new nt;var n=h(arguments,2);return gt(function(){e.apply(m,n)},t)},t.difference=function(e){return Q(e,Z(arguments,!0,!0,1))},t.filter=ke,t.flatten=function(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Ae(e,n,r)),Z(e,t)},t.forEach=Se,t.forEachRight=Ce,t.forIn=Nt,t.forInRight=function(e,t,n){var r=[];Nt(e,function(e,t){r.push(t,e)});var i=r.length;for(t=$(t,n,3);i--&&!1!==t(r[i--],r[i],e););return e},t.forOwn=Mt,t.forOwnRight=pe,t.functions=he,t.groupBy=Ht,t.indexBy=Bt,t.initial=function(e,n,r){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=a;for(n=t.createCallback(n,r,3);o--&&n(e[o],o,e);)i++}else i=null==n||r?1:n||i;return h(e,0,St(xt(0,a-i),a))},t.intersection=function(){for(var e=[],t=-1,n=arguments.length,a=c(),o=le(),s=o===r,u=c();++t<n;){var f=arguments[t];(Lt(f)||de(f))&&(e.push(f),a.push(s&&f.length>=_&&l(t?e[t]:u)))}var h=e[0],g=-1,m=h?h.length:0,v=[];e:for(;++g<m;){var y=a[0];if(f=h[g],(y?i(y,f):o(u,f))<0){for(t=n,(y||u).push(f);--t;)if(((y=a[t])?i(y,f):o(e[t],f))<0)continue e;v.push(f)}}for(;n--;)(y=a[n])&&p(y);return d(a),d(u),v},t.invert=ge,t.invoke=function(e,t){var n=h(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,o=Ke("number"==typeof a?a:0);return Se(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o},t.keys=Dt,t.map=Ae,t.mapValues=function(e,n,r){var i={};return n=t.createCallback(n,r,3),Mt(e,function(e,t,r){i[t]=n(e,t,r)}),i},t.max=je,t.memoize=function(e,t){if(!me(e))throw new nt;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):w+arguments[0];return pt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n},t.merge=function(e){var t=arguments,n=2;if(!ve(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=$(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=h(arguments,1,n),a=-1,o=c(),s=c();++a<n;)te(e,i[a],r,o,s);return d(o),d(s),e},t.min=function(e,n,r){var i=1/0,a=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&Lt(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];u<a&&(a=u)}else n=null==n&&be(e)?o:t.createCallback(n,r,3),Se(e,function(e,t,r){var o=n(e,t,r);o<i&&(i=o,a=e)});return a},t.omit=function(e,n,r){var i={};if("function"!=typeof n){var a=[];Nt(e,function(e,t){a.push(t)});for(var o=-1,s=(a=Q(a,Z(arguments,!0,!1,1))).length;++o<s;){var l=a[o];i[l]=e[l]}}else n=t.createCallback(n,r,3),Nt(e,function(e,t,r){n(e,t,r)||(i[t]=e)});return i},t.once=function(e){var t,n;if(!me(e))throw new nt;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},t.pairs=function(e){for(var t=-1,n=Dt(e),r=n.length,i=Ke(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i},t.partial=function(e){return oe(e,16,h(arguments,1))},t.partialRight=function(e){return oe(e,32,null,h(arguments,1))},t.pick=function(e,n,r){var i={};if("function"!=typeof n)for(var a=-1,o=Z(arguments,!0,!1,1),s=ve(e)?o.length:0;++a<s;){var l=o[a];l in e&&(i[l]=e[l])}else n=t.createCallback(n,r,3),Nt(e,function(e,t,r){n(e,t,r)&&(i[t]=e)});return i},t.pluck=Vt,t.property=Ve,t.pull=function(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var a=-1,o=t[n];++a<i;)e[a]===o&&(mt.call(e,a--,1),i--);return e},t.range=function(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=xt(0,lt((t-e)/(n||1))),a=Ke(i);++r<i;)a[r]=e,e+=n;return a},t.reject=function(e,n,r){return n=t.createCallback(n,r,3),ke(e,function(e,t,r){return!n(e,t,r)})},t.remove=function(e,n,r){var i=-1,a=e?e.length:0,o=[];for(n=t.createCallback(n,r,3);++i<a;){var s=e[i];n(s,i,e)&&(o.push(s),mt.call(e,i--,1),a--)}return o},t.rest=Te,t.shuffle=Le,t.sortBy=function(e,n,r){var i=-1,a=Lt(n),o=e?e.length:0,l=Ke("number"==typeof o?o:0);for(a||(n=t.createCallback(n,r,3)),Se(e,function(e,t,r){var o=l[++i]=f();a?o.criteria=Ae(n,function(t){return e[t]}):(o.criteria=c())[0]=n(e,t,r),o.index=i,o.value=e}),o=l.length,l.sort(s);o--;){var u=l[o];l[o]=u.value,a||d(u.criteria),p(u)}return l},t.tap=function(e,t){return t(e),e},t.throttle=function(e,t,n){var r=!0,i=!0;if(!me(e))throw new nt;return!1===n?r=!1:ve(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),K.leading=r,K.maxWait=t,K.trailing=i,Ie(e,t,K)},t.times=function(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=Ke(e);for(t=$(t,n,1);++r<e;)i[r]=t(r);return i},t.toArray=function(e){return e&&"number"==typeof e.length?h(e):we(e)},t.transform=function(e,n,r,i){var a=Lt(e);if(null==r)if(a)r=[];else{var o=e&&e.constructor,s=o&&o.prototype;r=y(s)}return n&&(n=t.createCallback(n,i,4),(a?Se:Mt)(e,function(e,t,i){return n(r,e,t,i)})),r},t.union=function(){return ie(Z(arguments,!0,!0))},t.uniq=Fe,t.values=we,t.where=Gt,t.without=function(e){return Q(e,h(arguments,1))},t.wrap=function(e,t){return oe(t,16,[e])},t.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Lt(n)||de(n))var r=r?ie(Q(r,n).concat(Q(n,r))):n}return r||[]},t.zip=ze,t.zipObject=Ne,t.collect=Ae,t.drop=Te,t.each=Se,t.eachRight=Ce,t.extend=Ft,t.methods=he,t.object=Ne,t.select=ke,t.tail=Te,t.unique=Fe,t.unzip=ze,He(t),t.clone=function(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),v(e,t,"function"==typeof n&&$(n,r,1))},t.cloneDeep=function(e,t,n){return v(e,!0,"function"==typeof t&&$(t,n,1))},t.contains=_e,t.escape=function(e){return null==e?"":tt(e).replace(Ut,se)},t.every=$e,t.find=xe,t.findIndex=function(e,n,r){var i=-1,a=e?e.length:0;for(n=t.createCallback(n,r,3);++i<a;)if(n(e[i],i,e))return i;return-1},t.findKey=function(e,n,r){var i;return n=t.createCallback(n,r,3),Mt(e,function(e,t,r){if(n(e,t,r))return i=t,!1}),i},t.findLast=function(e,n,r){var i;return n=t.createCallback(n,r,3),Ce(e,function(e,t,r){if(n(e,t,r))return i=e,!1}),i},t.findLastIndex=function(e,n,r){var i=e?e.length:0;for(n=t.createCallback(n,r,3);i--;)if(n(e[i],i,e))return i;return-1},t.findLastKey=function(e,n,r){var i;return n=t.createCallback(n,r,3),pe(e,function(e,t,r){if(n(e,t,r))return i=t,!1}),i},t.has=function(e,t){return!!e&&pt.call(e,t)},t.identity=qe,t.indexOf=Oe,t.isArguments=de,t.isArray=Lt,t.isBoolean=function(e){return!0===e||!1===e||e&&"object"==typeof e&&ot.call(e)==N||!1},t.isDate=function(e){return e&&"object"==typeof e&&ot.call(e)==M||!1},t.isElement=function(e){return e&&1===e.nodeType||!1},t.isEmpty=function(e){var t=!0;if(!e)return t;var n=ot.call(e),r=e.length;return n==z||n==V||n==F||n==H&&"number"==typeof r&&me(e.splice)?!r:(Mt(e,function(){return t=!1}),t)},t.isEqual=function(e,t,n,r){return ee(e,t,"function"==typeof n&&$(n,r,2))},t.isFinite=function(e){return _t(e)&&!$t(parseFloat(e))},t.isFunction=me,t.isNaN=function(e){return ye(e)&&e!=+e},t.isNull=function(e){return null===e},t.isNumber=ye,t.isObject=ve,t.isPlainObject=It,t.isRegExp=function(e){return e&&"object"==typeof e&&ot.call(e)==B||!1},t.isString=be,t.isUndefined=function(e){return void 0===e},t.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?xt(0,r+n):St(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},t.mixin=He,t.noConflict=function(){return e._=at,this},t.noop=Be,t.now=Kt,t.parseInt=Wt,t.random=function(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=At();return St(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return re(e,t)},t.reduce=Re,t.reduceRight=Pe,t.result=function(e,t){if(e){var n=e[t];return me(n)?e[t]():n}},t.runInContext=g,t.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Dt(e).length},t.some=De,t.sortedIndex=Ue,t.template=function(e,n,r){var i=t.templateSettings;e=tt(e||""),r=zt({},r,i);var a,o=zt({},r.imports,i.imports),s=Dt(o),l=we(o),c=0,f=r.interpolate||D,d="__p += '",p=et((r.escape||D).source+"|"+f.source+"|"+(f===P?A:D).source+"|"+(r.evaluate||D).source+"|$","g");e.replace(p,function(t,n,r,i,o,s){return r||(r=i),d+=e.slice(c,s).replace(O,u),n&&(d+="' +\n__e("+n+") +\n'"),o&&(a=!0,d+="';\n"+o+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),d+="';\n";var h=r.variable,g=h;g||(d="with ("+(h="obj")+") {\n"+d+"\n}\n"),d=(a?d.replace(x,""):d).replace(S,"$1").replace(C,"$1;"),d="function("+h+") {\n"+(g?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+U+++"]")+"\n*/";try{var y=Xe(s,"return "+d+v).apply(m,l)}catch(e){throw e.source=d,e}return n?y(n):(y.source=d,y)},t.unescape=function(e){return null==e?"":tt(e).replace(Tt,fe)},t.uniqueId=function(e){var t=++b;return tt(null==e?"":e)+t},t.all=$e,t.any=De,t.detect=xe,t.findWhere=xe,t.foldl=Re,t.foldr=Pe,t.include=_e,t.inject=Re,He(function(){var e={};return Mt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.first=Ee,t.last=function(e,n,r){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=a;for(n=t.createCallback(n,r,3);o--&&n(e[o],o,e);)i++}else if(null==(i=n)||r)return e?e[a-1]:m;return h(e,xt(0,a-i))},t.sample=function(e,t,n){if(e&&"number"!=typeof e.length&&(e=we(e)),null==t||n)return e?e[re(0,e.length-1)]:m;var r=Le(e);return r.length=St(xt(0,t),r.length),r},t.take=Ee,t.head=Ee,Mt(t,function(e,r){var i="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var a=this.__chain__,o=e(this.__wrapped__,t,r);return a||null!=t&&(!r||i&&"function"==typeof t)?new n(o,a):o})}),t.VERSION="2.4.2",t.prototype.chain=function(){return this.__chain__=!0,this},t.prototype.toString=function(){return tt(this.__wrapped__)},t.prototype.value=Ge,t.prototype.valueOf=Ge,Se(["join","pop","shift"],function(e){var r=rt[e];t.prototype[e]=function(){var e=this.__chain__,t=r.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),Se(["push","reverse","sort","unshift"],function(e){var n=rt[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),Se(["concat","slice","splice"],function(e){var r=rt[e];t.prototype[e]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),t}var m,v=[],y=[],b=0,w=+new Date+"",_=75,$=40,k=" \t\v\fÂ \ufeff\n\r\u2028\u2029áá ââââââââââââ¯âã",x=/\b__p \+= '';/g,S=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,j=/\w*$/,R=/^\s*function[ \n\r\t]+\w/,P=/<%=([\s\S]+?)%>/g,L=RegExp("^["+k+"]*0+(?=.$)"),D=/($^)/,E=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],U=0,F="[object Arguments]",z="[object Array]",N="[object Boolean]",M="[object Date]",I="[object Function]",q="[object Number]",H="[object Object]",B="[object RegExp]",V="[object String]",G={};G[I]=!1,G[F]=G[z]=G[N]=G[M]=G[q]=G[H]=G[B]=G[V]=!0;var K={leading:!1,maxWait:0,trailing:!1},W={configurable:!1,enumerable:!1,value:null,writable:!1},J={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},X={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},Y=J[typeof window]&&window||this,Q=J[typeof n]&&n&&!n.nodeType&&n,Z=J[typeof t]&&t&&!t.nodeType&&t,ee=Z&&Z.exports===Q&&Q,te=J[typeof e]&&e;!te||te.global!==te&&te.window!==te||(Y=te);var ne=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Y._=ne,define(function(){return ne})):Q&&Z?ee?(Z.exports=ne)._=ne:Q._=ne:Y._=ne}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function r(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function i(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function u(){}function c(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function f(t,n,r){if(r||"function"==typeof n){r||(r=n,n=null);var i,s,l=(n=c({},f.defaults,n||{})).highlight,u=0;try{i=e.lex(t,n)}catch(e){return r(e)}s=i.length;var d=function(e){if(e)return n.highlight=l,r(e);var t;try{t=a.parse(i,n)}catch(t){e=t}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return d();if(delete n.highlight,!s)return d();for(;u<i.length;u++)!function(e){"code"!==e.type?--s||d():l(e.text,e.lang,function(t,n){return t?d(t):null==n||n===e.text?--s||d():(e.text=n,e.escaped=!0,void(--s||d()))})}(i[u])}else try{return n&&(n=c({},f.defaults,n)),a.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||f.defaults).silent)return"<p>An error occured:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=l(d.item,"gm")(/bull/g,d.bullet)(),d.list=l(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=l(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=l(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=l(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=c({},d),d.gfm=c({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=l(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=c({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=d,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,i,a,o,s,l,u,c,f,e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),o=a[2],this.tokens.push({type:"list_start",ordered:o.length>1}),r=!1,f=(a=a[0].match(this.rules.item)).length,c=0;c<f;c++)u=(l=a[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(o===(s=d.bullet.exec(a[c+1])[0])||o.length>1&&s.length>1||(e=a.slice(c+1).join("\n")+e,c=f-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==f-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(!n&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),l={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=l(p.link)("inside",p._inside)("href",p._href)(),p.reflink=l(p.reflink)("inside",p._inside)(),p.normal=c({},p),p.pedantic=c({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=c({},p.normal,{escape:l(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=c({},p.gfm,{br:l(p.br)("{2,}","*")(),text:l(p.gfm.text)("{2,}","*")()}),r.rules=p,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):r=n=o(i[1]),a+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=this.renderer.text(o(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),r=n=o(i[1]),a+=this.renderer.link(r,null,n);return a},r.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},a.parse=function(e,t,n){return new a(t,n).parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",a="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",o=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,f.options=f.setOptions=function(e){return c(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},f.Parser=a,f.parser=a.parse,f.Renderer=i,f.Lexer=e,f.lexer=e.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,void 0!==t&&"object"==typeof n?t.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):this.marked=f}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,n){!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var a=0;a<r.data.length;a++){var o=r.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?i.files[o.key]=o.val:i.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent}while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,a,o,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(a=0;a<u.length;a++)if(s=u[a].src,(o=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){i=s.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(r,i,a){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';r.bind("mouseenter",function(){var t=i.parent();r.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){o.apply(this,[e]),a.apply(this,[e])}),i.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(r)||(t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))});var o=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var r=angular.module("ngFileUpload",[]);r.version="12.2.13",r.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function a(e){return null!=r._start&&s?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){if(s&&r._chunkSize&&!r._finished&&r._file){var t=r._file&&r._file.size||0;i({loaded:Math.min(r._end,t),total:t,config:r,type:"progress"}),o.upload(r,!0)}else r._finished&&delete r._finished,u.resolve(e)},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(a(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(a(e)))},!1))}}),s?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r.resumeSizeResponseReader?r._start=r.resumeSizeResponseReader(e.data):r._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&s){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function r(t,i,a){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(a,i);else if(o.isFile(i)){var s=n(i,t),l=a.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),a=l[0]),e._fileKey=e._fileKey||a,t.append(a,s,s.ngfName||s.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+a;i.$$ngfCircularDetection=!0;try{for(var u in i)if(i.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),r(t,i[u],a+c.replace(/[ik]/g,u))}}finally{delete i.$$ngfCircularDetection}}else t.append(a,i)}return t||(e=a(e)),e._isDigested||(e._isDigested=!0,e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,i=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var a=t[n];e.formDataAppender?e.formDataAppender(i,n,a):r(i,a,n)}return i})),i(e)},this.http=function(t){return t=a(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),i=e.headers("content-type")||"image/WebP",a=new window.Blob([t],{type:i}),o=n.match(/.*\/(.+?)(\?.*)?$/);o.length>1&&(a.name=o[1]),r.resolve(a)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=r.version}]),r.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function a(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,a){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(a,1,t)}))}),r.all(i)}function o(e,t,n,i){var a=l.attrGetter("ngfResize",t,n);if(!a||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(a instanceof Function){var o=r.defer();return a(e).then(function(r){s(r,e,t,n,i).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}return s(a,e,t,n,i)}function s(e,t,n,i,a){for(var o=[l.emptyPromise()],s=0;s<t.length;s++)!function(r,s){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})};var u=l.resize(r,e);o.push(u),u.then(function(e){t.splice(s,1,e)},function(e){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name),a.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(a,t)})}}(t[s],s);return r.all(o)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var a=this.getAttrWithDefaults(n,t);if(!r)return a;try{return i?e(a)(r,i):e(a)(r)}catch(e){if(t.search(/min|max|pattern/i))return a;throw e}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,f){function d(a,o,u,f,d){r.$$ngfPrevValidFiles=a,r.$$ngfPrevInvalidFiles=o;var p=a&&a.length?a[0]:null,h=o&&o.length?o[0]:null;n&&(l.applyModelValidation(n,a),n.$setViewValue(d?p:a)),s&&e(s)(i,{$files:a,$file:p,$newFiles:u,$duplicateFiles:f,$invalidFiles:o,$invalidFile:h,$event:c});var g=l.attrGetter("ngfModelInvalid",r);g&&t(function(){e(g).assign(i,d?h:o)}),t(function(){})}function p(){function e(){t(function(){d(w?g.concat(b):b,w?m.concat(y):y,u,v,_)},k&&k.debounce?k.debounce.change||k.debounce:0)}var a=$?h:b;o(a,r,i,n).then(function(){$?l.validate(h,w?g.length:0,n,r,i).then(function(t){b=t.validsFiles,y=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<a.length;t++){var n=a[t];if("resize"===n.$error){var r=b.indexOf(n);r>-1&&(b.splice(r,1),y.push(n)),e()}}})}var h,g,m,v=[],y=[],b=[];g=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var w=l.attrGetter("ngfKeep",r,i);h=(u||[]).slice(0),"distinct"!==w&&!0!==l.attrGetter("ngfKeepDistinct",r,i)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(u){h=[],v=[];for(var t=0;t<u.length;t++)!function(t){var n;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}(u[t])?h.push(u[t]):v.push(u[t])}}();var _=!w&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!w||h.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:h,$duplicateFiles:v,$event:c});var $=l.attrGetter("ngfValidateAfterResize",r,i),k=l.attrGetter("ngfModelOptions",r,i);l.validate(h,w?g.length:0,n,r,i).then(function(e){f?d(h,[],u,v,_):(k&&k.allowInvalid||$?b=h:(b=e.validFiles,y=e.invalidFiles),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?a(b,r,i).then(function(){p()}):p())})}},l}]),r.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function a(e,t,n,r,a,s,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function f(){return v("ngfChange")||v("ngfSelect")}function d(t){if(u.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,a=[];if(!i)return;for(var o=0;o<i.length;o++)a.push(i[o]);u.updateModel(r,n,e,f(),a.length?a:null,t)}}function p(e,r){function i(t){e.attr("id","ngf-"+t),r.attr("id","ngf-label-"+t)}for(var a=0;a<t[0].attributes.length;a++){var o=t[0].attributes[a];"type"!==o.name&&"class"!==o.name&&"style"!==o.name&&("id"===o.name?(i(o.value),y.push(n.$observe("id",i))):e.attr(o.name,o.value||"required"!==o.name&&"multiple"!==o.name?o.value:o.name))}}function h(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return w=t[0].clientX,b=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(Math.abs(n-w)>20||Math.abs(r-b)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function g(t){u.shouldUpdateOn("click",n,e)&&_.val()&&(_.val(null),u.updateModel(r,n,e,f(),null,t,!0))}function m(e){if(_&&!_.attr("__ngf_ie10_Fix_")){if(!_[0].parentNode)return void(_=null);e.preventDefault(),e.stopPropagation(),_.unbind("click");var t=_.clone();return _.replaceWith(t),(_=t).attr("__ngf_ie10_Fix_","true"),_.bind("change",d),_.bind("click",m),_[0].click(),!1}_.removeAttr("__ngf_ie10_Fix_")}var v=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var y=[];v("ngfMultiple")&&y.push(e.$watch(v("ngfMultiple"),function(){_.attr("multiple",v("ngfMultiple",e))})),v("ngfCapture")&&y.push(e.$watch(v("ngfCapture"),function(){_.attr("capture",v("ngfCapture",e))})),v("ngfAccept")&&y.push(e.$watch(v("ngfAccept"),function(){_.attr("accept",v("ngfAccept",e))})),y.push(n.$observe("accept",function(){_.attr("accept",v("accept"))}));var b=0,w=0,_=t;c()||(_=function(){if(c())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(e,n),o.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),_.bind("change",d),c()?t.bind("click",g):t.bind("click touchstart touchend",function(n){if(t.attr("disabled"))return!1;if(!v("ngfSelectDisabled",e)){var r=h(n);if(null!=r)return r;g(n);try{c()||document.body.contains(_[0])||(o.push({el:t,ref:_.parent()}),document.body.appendChild(_.parent()[0]),_.bind("change",d))}catch(e){}return i(navigator.userAgent)?setTimeout(function(){_[0].click()},0):_[0].click(),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&_.bind("click",m),r&&r.$formatters.push(function(e){return null!=e&&0!==e.length||_.val()&&_.val(null),e}),e.$on("$destroy",function(){c()||_.parent().remove(),angular.forEach(y,function(e){e()})}),s(function(){for(var e=0;e<o.length;e++){var t=o[e];document.body.contains(t.el[0])||(o.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,_,d)}var o=[];return{restrict:"AEC",require:"?ngModel",link:function(e,n,i,o){a(e,n,i,o,0,t,0,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,a,o,s,l){function u(e){var o=t.attrGetter("ngfNoObjectUrl",a,r);t.dataUrl(e,o).finally(function(){n(function(){var t=(o?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(a[o],function(n){var c=s;if("ngfThumbnail"===o&&(c||(c={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===c.width&&window.getComputedStyle)){var f=getComputedStyle(i[0]);f.width&&f.width.indexOf("px")>-1&&f.height&&f.height.indexOf("px")>-1&&(c={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))})}if(angular.isString(n))return i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n);!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):c&&t.isResizeSupported()?(c.resizeIf=function(e,i){return t.attrGetter("ngfResizeIf",a,r,{$width:e,$height:i,$file:n})},t.resize(n,c).then(function(e){u(e)},function(e){throw e})):u(n)});r.$on("$destroy",function(){n()})})}r.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0).finally(function(){if(++i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var a=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(a)return a;var o=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var a;try{a=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",o.reject()})}t(function(){if(e.$ngfBlobUrl=a,a){o.resolve(a,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:a,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,o.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",o.reject()})},s.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",o.reject()})}),(a=i?e.$$ngfDataUrlPromise=o.promise:e.$$ngfBlobUrlPromise=o.promise).finally(function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),a},r}]),r.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,a){t(e,n,r,i,a,"ngfSrc",e.attrGetter("ngfResize",a,r),!1)}}}]),r.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,a){t(e,n,r,i,a,"ngfBackground",e.attrGetter("ngfResize",a,r),!0)}}}]),r.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,a){var o=e.attrGetter("ngfSize",a,r);t(e,n,r,i,a,"ngfThumbnail",o,e.attrGetter("ngfAsBackground",a,r))}}}]),r.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),r.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var a=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!a?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&a?i?t.trustAsResourceUrl(a):a:n)||"")}}])}(),r.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var a=0;a<i.length;a++){var o=r(i[a]);o.regexp?(t+="("+o.regexp+")",a<i.length-1&&(t+="|")):n=n.concat(o.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t=(t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var a=e;return a.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var a=new RegExp(n.regexp,"i");i=null!=e.type&&a.test(e.type)||null!=e.name&&a.test(e.name)}for(var o=n.excludes.length;o--;){var s=new RegExp(n.excludes[o],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},a.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},a.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){if(e.$dirty){var i=r;r&&!angular.isArray(r)&&(i=[r]),a.validate(i,0,e,t,n).then(function(){a.applyModelValidation(e,i)})}return r})},a.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},a.getValidationAttr=function(e,t,n,r,i){var o="ngf"+n[0].toUpperCase()+n.substr(1),s=a.attrGetter(o,e,t,{$file:i});if(null==s&&(s=a.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},a.validate=function(e,n,r,i,o){function s(t,n,s){if(e){for(var l=e.length,u=null;l--;){var p=e[l];if(p){var h=a.getValidationAttr(i,o,t,n,p);null!=h&&(s(p,h,l)||(-1===c.indexOf(t)?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=h,-1===d.indexOf(p)&&d.push(p),f||e.splice(l,1),u=!1):e.splice(l,1)))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,s,l,p,h){function g(t,r,i){function a(a){if(a())if(-1===c.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===d.indexOf(r)&&d.push(r),!f){var o=e.indexOf(r);o>-1&&e.splice(o,1)}t.resolve(!1)}else{var s=e.indexOf(r);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=i?p(r,i).then(function(e){a(function(){return!h(e,i)})},function(){a(function(){return u("ngfValidateForce",{$file:r})})}):t.resolve(!0)}var m=[a.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();m.push(r.promise),!l||null!=e.type&&0===e.type.search(l)?"dimensions"===n&&null!=a.attrGetter("ngfDimensions",i)?a.imageDimensions(e).then(function(t){g(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=a.attrGetter("ngfDuration",i)?a.mediaDuration(e).then(function(t){g(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.resolve(!1)}):g(r,e,a.getValidationAttr(i,o,n,s,e)):r.resolve(!0)}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,i=0;i<e.length;i++)if(!e[i]){t=!1;break}r.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}(r=r||{}).$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return a.attrGetter(e,i,o,t)},c=(a.attrGetter("ngfIgnoreInvalid",i,o)||"").split(" "),f=a.attrGetter("ngfRunAllValidations",i,o);if(null==e||0===e.length)return a.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var d=[];s("pattern",null,a.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=a.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=a.translateScalars(t)});var p=0;if(s("maxTotalSize",null,function(t,n){return!((p+=t.size)>a.translateScalars(n)&&(e.splice(0,e.length),1))}),s("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return a.emptyPromise({validFiles:[],invalidFiles:d});var h=t.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(l("dimensions",null,/image/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-a.ratioToFloat(n[i]))<.01&&(r=!0);return r})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=a.translateScalars(t)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=a.translateScalars(t)})),g.push(l("duration",null,/audio|video/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(g).then(function(){if(f)for(var t=0;t<e.length;t++)e[t].$error&&e.splice(t--,1);f=!1,s("maxFiles",null,function(e,t,r){return n+r<t}),h.resolve({validFiles:e,invalidFiles:d})}),h.promise},a.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){0===e.type.indexOf("image")?a.dataUrl(e).then(function(t){function r(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function a(){s.remove(),i.reject("load error")}function o(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l++>10?a():o())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",a);var l=0;o(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")}):i.reject("not image")}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},a.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){0===e.type.indexOf("audio")||0===e.type.indexOf("video")?a.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function a(){s.remove(),i.reject("load error")}function o(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?a():o())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",a);var l=0;o(),angular.element(document.body).append(s)},function(){i.reject("load error")}):i.reject("not media")}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},a}]),r.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var a=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*a,height:t*a,marginX:e*a-n,marginY:t*a-r}},i=function(e,i,a,o,s,l,u,c){var f=t.defer(),d=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null==c||!1!==c(e,t))try{if(l){var h=n.ratioToFloat(l);e/t<h?a=(i=e)/h:i=(a=t)*h}i||(i=e),a||(a=t);var g=r(e,t,i,a,u);d.width=Math.min(g.width,i),d.height=Math.min(g.height,a),d.getContext("2d").drawImage(p,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),f.resolve(d.toDataURL(s||"image/WebP",o||.934))}catch(e){f.reject(e)}else f.reject("resizeIf")},p.onerror=function(){p.parentNode.removeChild(p),f.reject()},p.src=e,f.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],a=atob(r[1]),o=a.length,s=new Uint8Array(o);o--;)s[o]=a.charCodeAt(o);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var a=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r.width,r.height,r.quality,r.type||e.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===e.type&&!1!==r.restoreExif)try{i=n.restoreExif(t,i)}catch(e){setTimeout(function(){throw e},1)}try{var o=n.dataUrltoBlob(i,e.name,e.size);a.resolve(o)}catch(e){a.reject(e)}},function(t){"resizeIf"===t&&a.resolve(e),a.reject(t)})},function(e){a.reject(e)}),a.promise},n}]),function(){function e(e,n,r,i,a,o,s,l,u,c){function f(){return n.attr("disabled")||y("ngfDropDisabled",e)}function d(t,n,r){if(t){var i;try{i=t&&t.getData&&t.getData("text/html")}catch(e){}m(t.items,t.files,!1!==y("ngfAllowDir",e),y("multiple")||y("ngfMultiple",e)).then(function(e){e.length?p(e,n):h(r,i).then(function(e){p(e,n)})})}}function p(t,n){l.updateModel(i,r,e,y("ngfChange")||y("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,r,e)||"string"!=typeof n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var a=[],o=[];if(i.length){angular.forEach(i,function(e){a.push(l.urlToBlob(e).then(function(e){o.push(e)}))});var s=c.defer();return c.all(a).then(function(){s.resolve(o)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function g(e,t,n,r){var i=y("ngfDragOverClass",e,{$event:n}),a="dragover";if(angular.isString(i))a=i;else if(i&&(i.delay&&($=i.delay),i.accept||i.reject)){var o=n.dataTransfer.items;if(null!=o&&o.length)for(var s=i.pattern||y("ngfPattern",e,{$event:n}),u=o.length;u--;){if(!l.validatePattern(o[u],s)){a=i.reject;break}a=i.accept}else a=i.accept}r(a)}function m(t,n,i,a){function o(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(d){var i={type:"directory"};i.name=i.path=(t||"")+e.name,p.push(i)}var a=e.createReader(),s=[],g=function(){a.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),g()):(angular.forEach(s.slice(0),function(n){p.length<=u&&h<=f&&r.push(o(n,(t||"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t||"")+e.name,d&&(e=l.rename(e,e.path)),p.push(e),h+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles");null==u&&(u=Number.MAX_VALUE);var f=l.getValidationAttr(r,e,"maxTotalSize");null==f&&(f=Number.MAX_VALUE);var d=y("ngfIncludeDir",e),p=[],h=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var v=t[m].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&g.push(o(v))}else{var b=t[m].getAsFile();null!=b&&(p.push(b),h+=b.size)}if(p.length>u||h>f||!a&&p.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var _=n.item(w);if((_.type||_.size>0)&&(p.push(_),h+=_.size),p.length>u||h>f||!a&&p.length>0)break}var $=c.defer();return c.all(g).then(function(){if(a||d||!p.length)$.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;$.resolve([p[e]])}},function(e){$.reject(e)}),$.promise}var v=t(),y=function(e,t,n){return l.attrGetter(e,r,t,n)};if(y("dropAvailable")&&o(function(){e[y("dropAvailable")]?e[y("dropAvailable")].value=v:e[y("dropAvailable")]=v}),v){null==y("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var b,w=null,_=a(y("ngfStopPropagation")),$=1;n[0].addEventListener("dragover",function(t){if(!f()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),_(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}o.cancel(w),b||(b="C",g(e,0,t,function(r){b=r,n.addClass(b),y("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),_(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),_(e)&&t.stopPropagation(),w=o(function(){b&&n.removeClass(b),b=null,y("ngfDrag",e,{$isDragging:!1,$event:t})},$||100))},!1),n[0].addEventListener("drop",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),_(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null,d(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!f()&&l.shouldUpdateOn("paste",r,e)&&d(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}else!0===y("ngfHideOnDropNotAvailable",e)&&n.css("display","none")}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}r.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,r,i,a,o){return{restrict:"AEC",require:"?ngModel",link:function(a,s,l,u){e(a,s,l,u,t,n,r,i,0,o)}}}]),r.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),r.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,a,o){if(t()){var s=e(r.attrGetter("ngfDropAvailable",o));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),r.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,a=2;a<i;){var o=r.getUint16(a,!1);if(a+=2,65505===o){if(1165519206!==r.getUint32(a+=2,!1))return n.resolve(t);var s=18761===r.getUint16(a+=6,!1);a+=r.getUint32(a+4,s);var l=r.getUint16(a,s);a+=2;for(var u=0;u<l;u++)if(274===r.getUint16(a+12*u,s)){var c=r.getUint16(a+12*u+8,s);return c>=2&&c<=8&&(r.setUint16(a+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!=(65280&o))break;a+=r.getUint16(a,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var a=t.defer();return i.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return a.resolve(e);i.dataUrl(e,!0).then(function(o){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var o=s.getContext("2d");n(o,t.orientation,l.width,l.height),o.drawImage(l,0,0);var u=s.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);a.resolve(c)}catch(e){return a.reject(e)}},l.onerror=function(){a.reject()},l.src=o},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,a,o="",s="",l="",u=0;do{r=(t=e[u++])>>2,i=(3&t)<<4|(n=e[u++])>>4,a=(15&n)<<2|(s=e[u++])>>6,l=63&s,isNaN(n)?a=l=64:isNaN(s)&&(l=64),o=o+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),t=n=s="",r=i=a=l=""}while(u<e.length);return o},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),a=r.slice(0,i),o=r.slice(i),s=a;return s=s.concat(t),s=s.concat(o)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,a="",o="",s=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==i&&l.push(n),64!==o&&l.push(a),t=n=a="",r=i=o=""}while(s<e.length);return l},n.restore(e,t)},i}])},{}],28:[function(e,t,n){e("./dist/ng-file-upload-all"),t.exports="ngFileUpload"},{"./dist/ng-file-upload-all":27}],29:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?g=h.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=a(s);m=!0;for(var t=g.length;t;){for(h=g,g=[];++v<t;)h&&h[v].run();v=-1,t=g.length}h=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,g=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new u(e,t)),1!==g.length||m||a(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],30:[function(e,t,n){(function(t){"use strict";var n=e("../../shared/js/lang/de"),r=e("../../shared/js/lang/en"),i=e("./routes"),a=t.angular;t.agGrid.initialiseAgGridWithAngular1(a);var o=a.module("leerstandsmelder",[e("angular-animate"),e("angular-messages"),e("angular-translate"),e("angular-translate-storage-cookie"),e("angular-translate-storage-local"),e("angular-translate-loader-static-files"),e("ng-file-upload"),e("angular-busy2"),e("angular-aria"),e("angular-cookies"),e("angular-route"),e("angular-sanitize"),e("angular-marked"),"agGrid","ngMaterial","ngCordova"]);e("../../shared/js/controllers"),e("../../shared/js/directives"),e("../../shared/js/filters"),e("../../shared/js/services"),e("../../mobile/js/filters"),e("../../mobile/js/directive"),o.provider("PubSub",e("angular-pubsub")),o.factory("assetPath",e("./services/assetpath")),o.factory("DeviceReadyService",e("./services/deviceready")),o.factory("GeolocationService",e("./services/geolocation")),o.factory("CameraService",e("./services/camera")),o.factory("uploadService",e("./services/upload")),o.constant("configuration",{urlbase:"#!/"}),o.config(["$qProvider",function(e){e.errorOnUnhandledRejections(!1)}]),o.config(["$routeProvider","$locationProvider","$animateProvider","$translateProvider","$mdThemingProvider","$compileProvider","$mdGestureProvider","markedProvider",function(e,t,a,o,s,l,u,c){c.setOptions({gfm:!0}),u.skipClickHijack(),l.debugInfoEnabled(!1);var f=s.extendPalette("grey",{500:"#dddddd",contrastDefaultColor:"dark"});l.imgSrcSanitizationWhitelist(/^\s*(https?|fiââle|blob|cdvfile|contââent):|data:image/),s.definePalette("white",f);var d=s.extendPalette("white",{500:"ed1c24"});s.definePalette("leerstand",d),s.theme("default").primaryPalette("leerstand").accentPalette("deep-orange").warnPalette("red"),s.theme("success-toast"),s.theme("error-toast"),o.determinePreferredLanguage().useLocalStorage().useSanitizeValueStrategy("escaped").preferredLanguage("de").usePostCompiling(!0).translations("en",r).translations("de",n),a.classNameFilter(/animate-/),t.html5Mode({enabled:!1});for(var p in i)i[p]instanceof Object&&e.when(i[p].route,{templateUrl:i[p].templateUrl,controller:i[p].controller});e.otherwise({redirectTo:"/"})}]),a.element(function(){a.bootstrap(document,["leerstandsmelder"])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mobile/js/directive":32,"../../mobile/js/filters":33,"../../shared/js/controllers":45,"../../shared/js/directives":74,"../../shared/js/filters":88,"../../shared/js/lang/de":89,"../../shared/js/lang/en":90,"../../shared/js/services":95,"./routes":35,"./services/assetpath":36,"./services/camera":37,"./services/deviceready":38,"./services/geolocation":39,"./services/upload":40,"angular-animate":3,"angular-aria":5,"angular-busy2":7,"angular-cookies":9,"angular-marked":10,"angular-messages":13,"angular-pubsub":14,"angular-route":17,"angular-sanitize":19,"angular-translate":23,"angular-translate-loader-static-files":20,"angular-translate-storage-cookie":21,"angular-translate-storage-local":22,"ng-file-upload":28}],31:[function(e,t,n){"use strict";var r=function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){var a={quality:50,destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3,saveToPhotoAlbum:!1};n.on("click",function(){e.getPicture(a).then(function(e){console.log("getPicture from CameraDirective",e)},function(){i.$setValidity("error",!1)})})}}};r.$inject=["$cordovaCamera"],t.exports=r},{}],32:[function(e,t,n){(function(t){"use strict";("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder").directive("camera",e("./camera"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./camera":31}],33:[function(e,t,n){(function(t){"use strict";("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder").filter("navRewrite",e("./nav-rewrite"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./nav-rewrite":34}],34:[function(e,t,n){"use strict";t.exports=function(){return function(e){return"#"+e}}},{}],35:[function(e,t,n){"use strict";t.exports=[{route:"/",templateUrl:"locations/region_map.html",controller:"Regions.MapIndex"},{route:"/site/:slug",templateUrl:"site/static_page.html",controller:"Widgets.StaticPage"},{route:"/regions",templateUrl:"regions/region_map.html",controller:"Regions.MapIndex"},{route:"/regions/:uuid",templateUrl:"regions/show.html",controller:"Regions.Show"},{route:"/admin/regions",templateUrl:"regions/list.html",controller:"Regions.List"},{route:"/admin/regions/create",templateUrl:"regions/update.html",controller:"Regions.Update"},{route:"/admin/regions/:uuid",templateUrl:"regions/update.html",controller:"Regions.Update"},{route:"/posts/:uuid",templateUrl:"posts/show.html",controller:"Posts.Show"},{route:"/admin/posts",templateUrl:"posts/list.html",controller:"Posts.List"},{route:"/admin/posts/static",templateUrl:"posts/list.html",controller:"Posts.List"},{route:"/admin/posts/create",templateUrl:"posts/update.html",controller:"Posts.Update"},{route:"/admin/posts/:uuid",templateUrl:"posts/update.html",controller:"Posts.Update"},{route:"/comments/:uuid",templateUrl:"comments/show.html",controller:"Comments.Show"},{route:"/admin/comments",templateUrl:"comments/list.html",controller:"Comments.List"},{route:"/admin/comments/create",templateUrl:"comments/update.html",controller:"Comments.Update"},{route:"/admin/comments/:uuid",templateUrl:"comments/update.html",controller:"Comments.Update"},{route:"/admin/regions/:region_uuid/comments",templateUrl:"comments/list.html",controller:"Comments.List"},{route:"/users/create",templateUrl:"users/create.html",controller:"Users.Create"},{route:"/users/login",templateUrl:"users/login.html",controller:"Users.Login"},{route:"/users/me",templateUrl:"users/update.html",controller:"Users.Update"},{route:"/users/me/locations",templateUrl:"locations/list.html",controller:"Locations.User"},{route:"/users/me/messages",templateUrl:"messages/list.html",controller:"Messages.List"},{route:"/users/logout",templateUrl:"users/logout.html",controller:"Users.Logout"},{route:"/users/forgot",templateUrl:"users/forgot.html",controller:"Users.Forgot"},{route:"/users/confirm/:token",templateUrl:"users/confirm.html",controller:"Users.Confirm"},{route:"/users/reset/:token",templateUrl:"users/reset.html",controller:"Users.Confirm"},{route:"/admin/users/list",templateUrl:"users/list.html",controller:"Users.List"},{route:"/admin/users/create",templateUrl:"users/update-admin.html",controller:"Users.Update.Admin"},{route:"/admin/users/:uuid",templateUrl:"users/update-admin.html",controller:"Users.Update.Admin"},{route:"/:uuid",templateUrl:"regions/show.html",controller:"Regions.Show"},{route:"/admin/regions",templateUrl:"regions/list.html",controller:"Regions.List"},{route:"/messages/create",templateUrl:"messages/create.html",controller:"Messages.Create"},{route:"/messages/list",templateUrl:"messages/list.html",controller:"Messages.List"},{route:"/messages/:uuid/reply",templateUrl:"messages/reply.html",controller:"Messages.Reply"},{route:"/locations/index",templateUrl:"locations/region_index.html",controller:"Locations.RegionIndex"},{route:"/locations/index/:region_uuid",templateUrl:"locations/region_index.html",controller:"Locations.RegionIndex"},{route:"/locations/create",templateUrl:"locations/update.html",controller:"Locations.Create"},{route:"/locations/update/:uuid",templateUrl:"locations/update.html",controller:"Locations.Create"},{route:"/:region_uuid/:uuid",templateUrl:"locations/show.html",controller:"Locations.Show"},{route:"/admin/regions/:region_uuid/locations",templateUrl:"locations/list.html",controller:"Locations.RegionList"}]},{}],36:[function(e,t,n){"use strict";t.exports=function(){return""}},{}],37:[function(e,t,n){"use strict";var r=function(e,t,n,r){return{getPicture:function(i,a){return t.ready.then(function(){var t,o={quality:50,destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3,saveToPhotoAlbum:!1};return t=r.defer(),n.getPicture(o).then(function(){var n=this,r=arguments[0];"function"==typeof i&&(console.log("success function",n),e.$apply(function(){console.log("success apply",r),i.apply(n,r)})),t.resolve(r)},function(){var n=this,r=arguments;"function"==typeof a&&e.$apply(function(){a.apply(n,r[0])}),t.reject(r[0])}),t.promise})},getLibrary:function(i,a){return t.ready.then(function(){var t,o={quality:50,destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3,saveToPhotoAlbum:!1};return t=r.defer(),n.getPicture(o).then(function(){var n=this,r=arguments[0];"function"==typeof i&&(console.log("success function",n),e.$apply(function(){console.log("success apply",r),i.apply(n,r)})),t.resolve(r)},function(){var n=this,r=arguments;"function"==typeof a&&e.$apply(function(){a.apply(n,r[0])}),t.reject(r[0])}),t.promise})}}};r.$inject=["$rootScope","DeviceReadyService","$cordovaCamera","$q"],t.exports=r},{}],38:[function(e,t,n){"use strict";var r=function(e,t,n,r){var i=r.defer();this.ready=i.promise;var a=t(function(){n.cordova?i.resolve(n.cordova):i.reject("cordova init timeout")},2e3);return angular.element(e)[0].addEventListener("deviceready",function(){t.cancel(a),i.resolve(n.cordova)}),this};r.$inject=["$document","$timeout","$window","$q"],t.exports=r},{}],39:[function(e,t,n){"use strict";var r=function(e,t,n){return{getCurrentPosition:function(r,i,a){return t.ready.then(function(){var t;return t=n.defer(),navigator.geolocation.getCurrentPosition(function(){var n=this,i=arguments;"function"==typeof r&&e.$apply(function(){r.apply(n,i[0])}),t.resolve(i[0])},function(){var n=this,r=arguments;"function"==typeof i&&e.$apply(function(){i.apply(n,r[0])}),t.reject(r[0])},a),t.promise})}}};r.$inject=["$rootScope","DeviceReadyService","$q"],t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e("../../../../config.json"),i=function(e){return{upload:function(t,n,i){var a=r.global.api_url+"/photos",o=t.file,s=new Date,l=Date.parse(s)+".jpg",u={fileKey:"file",fileName:l,chunkedMode:!1,mimeType:"multipart/form-data",params:t.fields};u.params.fileName=l,u.headers={Authorization:t.authenticationHeader},e.upload(a,o,u).then(function(e){"function"==typeof n&&n(null,e)},function(e){console.log("ERROR: ",e),"function"==typeof n&&n(new Error("upload error status "+e),e)},function(e){console.log("progress evt: ",e);var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e),"function"==typeof i&&i(e.loaded,e.total),"function"==typeof i&&i(e.loaded,e.total)})}}};i.$inject=["$cordovaFileTransfer"],t.exports=i},{"../../../../config.json":1}],41:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s,l,u,c){e.userSession=null,e.api_key=null,e.setUserSession=function(t){e.userSession=t},e.setApiKey=function(t){e.api_key=t},e.back=function(){c.history.back()}};r.$inject=["$scope","$rootScope","$translate","$location","$timeout","$q","apiService","authService","regionService","$mdSidenav","$window"],t.exports=r},{}],42:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s,l,u){function c(e){return l("date")(e.value,"yyyy-MM-dd")}var f=t.defer();e.promise=f.promise,e.urlbase=u.urlbase||"/";var d=[{headerName:l("translate")("locations.location"),field:"title",width:90,cellRenderer:"group"},{headerName:l("translate")("comments.body"),field:"body",width:120},{headerName:l("translate")("author.author"),field:"user_uuid",width:90},{headerName:l("translate")("comments.created"),field:"created",width:90,cellRenderer:c},{headerName:l("translate")("author.updated"),field:"updated",width:90,cellRenderer:c,sort:"desc"},{headerName:l("translate")("locations.hidden"),field:"hidden",width:90,cellRenderer:function(e){return e.value?l("translate")("generel.yes"):l("translate")("generel.no")}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return t.node.data&&!t.node.data.user_uuid?'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"locations/"+t.value+'" aria-label="'+l("translate")("actions.edit")+'"><md-icon md-font-icon="fa-eye" class="fa fa-eye"></md-icon></a>':""}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return t.node.data&&t.node.data.user_uuid?'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"admin/comments/"+t.value+'" aria-label="{{ \'actions.edit\' | translate }}"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a>':""}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(e){return e.node.data&&e.node.data.user_uuid?'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " ng-click="clickDeleteHandler(\''+e.value+'\')" aria-label="'+l("translate")("actions.delete")+'"><md-icon md-font-icon="fa-trash" class="fa fa-trash"></md-icon></a>':""}}];s.region_uuid?e.listHeadline="comments.comments_by_region":e.listHeadline="comments.my_comments",e.gridOptions={columnDefs:d,rowData:null,rowHeight:58,rowClassRules:{"hidden-warning":"data.hidden"},enableSorting:!0,enableFilter:!0,animateRows:!0,enableColResize:!0,angularCompileRows:!0,getRowNodeId:function(e){return e.uuid},getNodeChildDetails:function(e){return e.comments?{group:!0,expanded:!0,children:e.comments,key:e.title}:null},onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},r.waterfall([function(e){s.region_uuid?n("regions").actions.find(s.region_uuid,e):n("regions?sort=title").actions.all(e)},function(t,r){var i=t.results||t;Array.isArray(i)?(e.data=i.results||i,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit(),r()):(e.region=i,n("regions/"+i.uuid+"/comments").actions.all(r))}],function(t,n){n?(e.listHeadline=o.instant("comments.comments_by_region")+": "+(e.region?e.region.title:null),e.data=n.results||n,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit()):e.listHeadline=o.instant("locations.locations_by_region"),i.handleResponse(t,f)}),e.clickDeleteHandler=function(r){var s=a.confirm().title(o.instant("comments.remove_confirm_title")).textContent(o.instant("comments.remove_confirm_body")).ariaLabel("comments.remove_confirm_title").ok(o.instant("actions.ok")).cancel(o.instant("actions.cancel"));a.show(s).then(function(){var a=t.defer();e.promise=a.promise,n("comments").actions.remove(r,function(t){i.handleResponse(t,a,{success:"comments.remove_success"})&&e.gridOptions.api.updateRowData({remove:[{uuid:r}]})})})}};i.$inject=["$scope","$q","apiService","responseHandler","$mdDialog","$translate","$routeParams","$filter","configuration"],t.exports=i},{async:24}],43:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a){var o=n.defer();e.promise=o.promise,i("comments").actions.find(r.uuid,function(t,n){e.comment=n,a.handleResponse(t,o)})};r.$inject=["$scope","$rootScope","$q","$routeParams","apiService","responseHandler"],t.exports=r},{}],44:[function(e,t,n){"use strict";var r=function(e,t,n,r,i){var a;n.uuid&&(a=t.defer(),e.promise=a.promise,r("comments").actions.find(n.uuid,function(t,n){e.post=n,i.handleResponse(t,a)})),e.submit=function(){a=t.defer(),e.promise=a.promise,e.comment.body=e.editor.value(),n.uuid?r("comments").actions.update(n.uuid,e.comment,function(e){i.handleResponse(e,a,{success:"comments.update_success"})}):r("comments").actions.create(e.comment,function(e){i.handleResponse(e,a,{success:"posts.create_success"})})}};r.$inject=["$scope","$q","$routeParams","apiService","responseHandler"],t.exports=r},{}],45:[function(e,t,n){(function(t){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder");n.controller("Application",e("./application")),n.controller("Locations.Create",e("./locations/create")),n.controller("Locations.RegionIndex",e("./locations/region-index")),n.controller("Locations.RegionList",e("./locations/region-list")),n.controller("Locations.Show",e("./locations/show")),n.controller("Locations.User",e("./locations/user")),n.controller("Messages.List",e("./messages/list")),n.controller("Messages.Create",e("./messages/create")),n.controller("Posts.List",e("./posts/list")),n.controller("Posts.Show",e("./posts/show")),n.controller("Posts.Update",e("./posts/update")),n.controller("Regions.List",e("./regions/list")),n.controller("Regions.MapIndex",e("./regions/map-index")),n.controller("Regions.Show",e("./regions/show")),n.controller("Regions.Update",e("./regions/update")),n.controller("Users.Confirm",e("./users/confirm")),n.controller("Users.Create",e("./users/create")),n.controller("Users.Forgot",e("./users/forgot")),n.controller("Users.Login",e("./users/login")),n.controller("Users.Logout",e("./users/logout")),n.controller("Users.Update",e("./users/update")),n.controller("Users.Update.Admin",e("./users/update-admin")),n.controller("Users.List",e("./users/list")),n.controller("Comments.List",e("./comments/list")),n.controller("Comments.Show",e("./comments/show")),n.controller("Comments.Update",e("./comments/update")),n.controller("Widgets.Alerts",e("./widgets/alerts")),n.controller("Widgets.Navbar",e("./widgets/navbar")),n.controller("Widgets.StaticPage",e("./widgets/static-page"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./application":41,"./comments/list":42,"./comments/show":43,"./comments/update":44,"./locations/create":46,"./locations/region-index":47,"./locations/region-list":48,"./locations/show":49,"./locations/user":50,"./messages/create":51,"./messages/list":52,"./posts/list":53,"./posts/show":54,"./posts/update":55,"./regions/list":56,"./regions/map-index":57,"./regions/show":58,"./regions/update":59,"./users/confirm":60,"./users/create":61,"./users/forgot":62,"./users/list":63,"./users/login":64,"./users/logout":65,"./users/update":67,"./users/update-admin":66,"./widgets/alerts":68,"./widgets/navbar":69,"./widgets/static-page":70}],46:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s,l,u,c,f,d,p,h){var g,m;if(e.location={},e.assets={file:null},e.marker={lat:null,lng:null},e.selectedIndex=0,e._sys=u,e.updateLocation=function(t){e.marker=t,s.reverseGeoCode(t.lat,t.lng,function(t,n){if(t)throw t;if(m=!0,!n.error){console.log("updateLocation",n.data);var r=s.createAddressFromGeo(n.data.address);r&&(e.location.street=r.street,e.location.city=r.city,e.location.postcode=r.postcode,e.location.country=r.country)}}),e.showLatLng=!1},e.$watchGroup(["location.street","location.city","location.postcode"],function(t,n){var r=!1,i=Object.keys(t);if(m)m=!1;else{for(var a=0;a<i.length;a+=1)t[i[a]]!==n[i[a]]&&(r=!0);r&&(g&&(window.clearTimeout(g),g=null),g=window.setTimeout(function(){s.geoCode({street:e.location.street,city:e.location.city,postcode:e.location.postcode,country:e.location.country},function(t,n){console.log("found locations",n.data),Array.isArray(n.data)&&n.data.length>0&&(e.marker.lat=n.data[0].lat,e.marker.lng=n.data[0].lon,e.location.display_name=n.data[0].display_name||"",e.center=[n.data[0].lat,n.data[0].lon])})},1e3))}}),e.deletePhoto=function(t){var r=d.confirm().title(p.instant("photos.remove_confirm_title")).textContent(p.instant("photos.remove_confirm_body")).ariaLabel("photos.remove_confirm_title").ok(p.instant("actions.ok")).cancel(p.instant("actions.cancel"));d.show(r).then(function(){var r=a.defer();e.promise=r.promise,n("photos").actions.remove(t.uuid,function(n){var i={success:"photos.remove_success",data:t.filename};l.handleResponse(n,r,i)&&e.photos.splice(e.photos.indexOf(t),1)})})},e.files=[],e.uploaded_pic=[],e.getPicture=function(t){var n={};"library"===t?h.getLibrary(n).then(function(t){var n=t.replace("assets-library://","cdvfile://localhost/assets-library/");e.uploaded_pic.push(n),e.files.push(n)},function(e){!1===e?alert("Camera is not supported by browser."):1===e&&alert("User shit on camera or waited for long to respond.")},n):h.getPicture().then(function(t){var n=t.replace("assets-library://","cdvfile://localhost/assets-library/");e.uploaded_pic.push(n),e.files.push(n)},function(e){!1===e?alert("Camera is not supported by browser."):1===e&&alert("User shit on camera or waited for long to respond.")})},e.abort=function(){o.path("/"+(e.location.region_slug||e.location.region_uuid)+"/"+e.location.slug)},e.promiseShow=function(){var t=a.defer();e.promise=t.promise},e.promiseHide=function(){e.promise.resolve()},e.submit=function(){var i=a.defer(),s=e.location;e.promise=i.promise,s.lonlat=[e.marker.lng,e.marker.lat];var u=!1;r.waterfall([function(t){n("regions?lat="+e.marker.lat+"&lon="+e.marker.lng).actions.all(t)},function(e,t){(e=e.results||e)&&e.length>0?(s.hasOwnProperty("region_uuid")||(s.region_uuid=e[0].uuid),s.uuid?(u=!0,n("locations").actions.update(s.uuid,s,t)):n("locations").actions.create(s,t)):t(new Error("errors.regions.fetch_failed"),null)},function(t,i){u||(e.location.uuid=t.uuid),e.location.slug=t.slug,e.files&&e.files.length?r.mapSeries(e.files,function(e,r){n("photos").actions.upload({file:e,fields:{location_uuid:t.uuid}},r)},i):i()}],function(n){console.log("update/insert error",n);var r={success:t.uuid?"messages.locations.update_success":"messages.locations.create_success"};l.handleResponse(n,i,r)&&o.path("/"+(e.location.region_slug||e.location.region_uuid)+"/"+e.location.slug)})},t.uuid){var v=a.defer();e.promise=v.promise,r.waterfall([function(e){n("locations").actions.find(t.uuid,e)},function(t,r){t.hasOwnProperty("hidden")||(t.hidden=!1),e.location=t,e.marker={lng:t.lonlat[0],lat:t.lonlat[1]},e.formTitle='Edit "'+t.title+'"',console.log("location",t),n("locations/"+t.uuid+"/photos").actions.all(r)},function(t,n){console.log("photos",t),e.photos=t.results||t,n()},function(t){console.log("setCurrentRegion",e.location.region_uuid),c.setCurrentRegion(e.location.region_uuid,t)},function(t){console.log("admin",c.currentRegion.title),e.currentRegion=c.currentRegion.title,e.isAdmin=i.hasScopes(["admin","region-"+e.location.region_uuid]),t()}],function(e){l.handleResponse(e,v)})}else f.getCurrentPosition().then(function(t){console.log("Position",t),e.marker.lat=t.coords.latitude,e.marker.lng=t.coords.longitude,e.updateLocation({lat:t.coords.latitude,lng:t.coords.longitude})},function(e){!1===e?alert("GeoLocation is not supported by browser."):1===e&&alert("User either denied GeoLocation or waited for long to respond.")})};i.$inject=["$scope","$routeParams","apiService","authService","$q","$location","mapService","responseHandler","locationFormDefaults","regionService","GeolocationService","$mdDialog","$translate","CameraService"],t.exports=i},{async:24}],47:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s,l,u){var c=n.defer();e.promise=c.promise,e.urlbase=u.urlbase||"/";var f="all";i.path().indexOf("index")>0&&(f="index");var d;d=a.region_uuid?[{headerName:l("translate")("locations.title"),field:"title",width:120,sort:"asc"},{headerName:l("translate")("locations.street"),field:"street",width:90},{headerName:l("translate")("locations.building_type"),field:"buildingType",width:90,cellRenderer:function(e){return l("translate")(e.value)}},{headerName:l("translate")("locations.owner"),field:"owner",width:90,cellRenderer:function(e){return l("translate")(e.value)}},{headerName:l("translate")("author.updated"),field:"updated",width:90,cellRenderer:function(e){return l("date")(e.value,"yyyy-MM-dd")}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+(t.data.region?t.data.region.slug:t.data.region_uuid)+"/"+(t.data.slug||t.data.uuid)+'" aria-label="'+l("translate")("actions.edit")+'"><md-icon md-font-icon="fa-eye" class="fa fa-eye"></md-icon></a>'}}]:[{headerName:l("translate")("regions.title"),field:"title",width:120,sort:"asc"},{headerName:l("translate")("regions.count"),field:"locations",width:90},{headerName:"",field:"slug",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"locations/"+f+"/"+t.value+'" aria-label="'+l("translate")("actions.edit")+'"><md-icon md-font-icon="fa-eye" class="fa fa-eye"></md-icon></a>'}}],e.gridOptions={columnDefs:d,rowData:null,rowHeight:58,enableSorting:!0,enableFilter:!0,animateRows:!0,enableColResize:!0,onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},e.clickShowHandler=function(t){var n=t.rowId,r=_.find(e.data,function(e){return e.uuid===n});r.region_uuid?i.path("/"+(r.region?r.region.slug:r.region_uuid)+"/"+(r.slug||r.uuid)):i.path("/locations/"+f+"/"+r.slug||r.uuid)},r.waterfall([function(e){a.region_uuid?t("regions").actions.find(a.region_uuid,e):t("regions?sort=title").actions.all(e)},function(n,r){var i=n.results||n;Array.isArray(i)?(e.data=i.results||i,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit(),r()):(e.region=i,t("regions/"+i.uuid+"/locations").actions.all(r))}],function(t,n){n?(e.listHeadline=s.instant("locations.locations_by_region")+": "+(e.region?e.region.title:null),e.data=n.results||n,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit()):e.listHeadline=s.instant("locations.locations_by_region"),o.handleResponse(t,c)})};i.$inject=["$scope","apiService","$q","$location","$routeParams","responseHandler","$translate","$filter","configuration"],t.exports=i},{async:24}],48:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s,l,u,c,f){function d(e){return f("date")(e.value,"yyyy-MM-dd")}var p=t.defer();e.promise=p.promise,e.urlbase=c.urlbase||"/";var h=[{headerName:f("translate")("locations.title"),field:"title",width:120},{headerName:f("translate")("locations.street"),field:"street",width:90},{headerName:f("translate")("author.created"),field:"created",width:90,cellRenderer:d},{headerName:f("translate")("author.updated"),field:"updated",width:90,cellRenderer:d,sort:"desc"},{headerName:f("translate")("locations.hidden"),field:"hidden",width:90,cellRenderer:function(e){return e.value?f("translate")("generel.yes"):f("translate")("generel.no")}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+(t.data.region?t.data.region.slug:t.data.region_uuid)+"/"+(t.data.slug||t.data.uuid)+'" aria-label="'+f("translate")("actions.view")+'"><md-icon md-font-icon="fa-eye" class="fa fa-eye"></md-icon></a>'}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"locations/update/"+(t.data.slug||t.data.uuid)+'" aria-label="'+f("translate")("actions.edit")+'"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a>'}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(e){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " ng-click="clickDeleteHandler(\''+e.value+'\')" aria-label="'+f("translate")("actions.delete")+'"><md-icon md-font-icon="fa-trash" class="fa fa-trash"></md-icon></a>'}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(e){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " ng-click="commentHandler(\''+e.value+"',"+e.rowIndex+')" aria-label="'+f("translate")("actions.delete")+'"><md-icon md-font-icon="fa-trash" class="fa fa-trash"></md-icon></a>'}}];u.region_uuid?e.listHeadline="locations.locations_by_region":e.listHeadline="locations.my_locations",e.gridOptions={columnDefs:h,rowData:null,rowHeight:58,rowClassRules:{"hidden-warning":"data.hidden"},enableSorting:!0,enableFilter:!0,enableColResize:!0,animateRows:!0,angularCompileRows:!0,getRowNodeId:function(e){return e.uuid},onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},l.setCurrentRegion(u.region_uuid,function(){e.currentRegion=l.currentRegion.title}),r.waterfall([function(e){u.region_uuid?s("regions").actions.find(u.region_uuid,e):s("regions?sort=title").actions.all(e)},function(t,n){var r=t.results||t;Array.isArray(r)?(e.data=r.results||r,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit(),n()):(e.region=r,s("regions/"+r.uuid+"/locations").actions.all(n))}],function(t,n){n?(e.listHeadline=a.instant("locations.locations_by_region")+": "+(e.region?e.region.title:null),e.data=n.results||n,e.gridOptions.api.setRowData(e.data),e.gridOptions.api.sizeColumnsToFit()):e.listHeadline=a.instant("locations.locations_by_region"),o.handleResponse(t,p)}),e.commentHandler=function(){},e.clickDeleteHandler=function(n){var r=i.confirm().title(a.instant("locations.remove_confirm_title")).textContent(a.instant("locations.remove_confirm_body")).ariaLabel("locations.remove_confirm_title").ok(a.instant("actions.ok")).cancel(a.instant("actions.cancel"));i.show(r).then(function(){var r=t.defer();e.promise=r.promise,s("locations").actions.remove(n,function(t){o.handleResponse(t,r,{success:"locations.remove_success"})&&e.gridOptions.api.updateRowData({remove:[{uuid:n}]})})})}};i.$inject=["$scope","$q","$location","$mdDialog","$translate","responseHandler","apiService","regionService","$routeParams","configuration","$filter"],t.exports=i},{async:24}],49:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s){var l=n.defer();e.promise=l.promise,e.urlbase="/",r.waterfall([function(e){a("locations").actions.find(i.uuid,e,function(){},!0)},function(n,r){if(!n)return r(new Error("errors.location.no_data"));e.locations=[n],e.location=n,e.location&&Array.isArray(e.location.lonlat)&&(e.mapcenter=[e.location.lonlat[1],e.location.lonlat[0]]),e.zoom=17,e.formTitle='Edit "'+e.location.title+'"',e.urlbase="/"+(n.region?n.region.slug:n.region_uuid),t.setCurrentRegion(n.region_uuid,r)},function(t){a("locations/"+e.location.uuid+"/photos").actions.all(t,function(){},!0)},function(t,n){var r=t.results||t;Array.isArray(r)&&(r.sort(function(e,t){return e.position-t.position}),e.photos=r),n()}],function(t){o.handleResponse(t,l)&&(e.userSession&&e.location.user_uuid===e.userSession.uuid||e.api_key&&(e.api_key.scopes.indexOf("region-"+e.location.region_uuid)>-1||e.api_key.scopes.indexOf("admin")>-1))&&(e.mayEdit=!0,e.edit=function(){s.path("/locations/update/"+e.location.uuid)})})};i.$inject=["$scope","regionService","$q","$routeParams","apiService","responseHandler","$location"],t.exports=i},{async:24}],50:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s,l){function u(e){return l("date")(e.value,"yyyy-MM-dd")}function c(e){return e.value?l("translate")(e.value):""}e.urlbase=s.urlbase||"/",e.fields=[{label:"locations.title",property:"title"},{label:"locations.street",property:"street"},{label:"regions.region",property:"region.title",sort:!1},{label:"author.created",property:"created",date:!0},{label:"author.updated",property:"updated",date:!0},{label:"",property:"edit"},{label:"",property:"show"},{label:"",property:"delete"}],e.settings={row_select:!1,multiple:!1,pagination:!0,sort:"-created",pagesize:25,limit_options:[25,50,100],resource:"users/me/locations"};var f=[{headerName:l("translate")("locations.title"),field:"title",width:120,sort:"asc"},{headerName:l("translate")("locations.street"),field:"street",width:90},{headerName:l("translate")("locations.building_type"),field:"buildingType",width:90,cellRenderer:c},{headerName:l("translate")("locations.owner"),field:"owner",width:90,cellRenderer:c},{headerName:l("translate")("author.updated"),field:"updated",width:60,cellRenderer:u},{headerName:l("translate")("author.created"),field:"created",width:60,cellRenderer:u},{headerName:"",field:"uuid",width:90,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-button md-ink-ripple" href="'+e.urlbase+(t.data.region?t.data.region.slug:t.data.region_uuid)+"/"+(t.data.slug||t.data.uuid)+'" aria-label="'+l("translate")("actions.view")+'"><md-icon md-font-icon="fa-eye" class="fa fa-eye"></md-icon></a><a class="md-icon-button md-button md-ink-ripple" href="'+e.urlbase+"locations/update/"+(t.data.slug||t.data.uuid)+'" aria-label="'+l("translate")("actions.edit")+'"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a><a class="md-icon-button md-button md-ink-ripple" ng-click="clickDeleteHandler(\''+t.data.uuid+'\')" aria-label="'+l("translate")("actions.delete")+'"><md-icon md-font-icon="fa-trash" class="fa fa-trash"></md-icon></a>'}}];e.gridOptions={columnDefs:f,rowData:null,rowHeight:58,enableSorting:!0,enableFilter:!0,animateRows:!0,angularCompileRows:!0,enableColResize:!0,onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},e.query={sort:e.settings.sort?e.settings.sort:"title",page:1};var d=e.settings.pagesize,p=e.settings.resource+"?limit="+d+"&skip="+(e.query.page-1)*d+"&sort="+e.query.sort;o(p).actions.all(function(t,n){!t&&n&&(e.gridOptions.api.setRowData(n.results||n),e.gridOptions.api.sizeColumnsToFit(),e.query.total=n.total)}),e.page={list_title:"locations.my_locations",list_title_empty:"locations.my_locations_empty"},e.clickShowHandler=function(e){var t="location/"+e;n.path(t)},e.clickEditHandler=function(e){n.path("locations/update/"+e)},e.clickDeleteHandler=function(n){var s=r.confirm().title(i.instant("locations.remove_confirm_title")).textContent(i.instant("locations.remove_confirm_body")).ariaLabel("locations.remove_confirm_title").ok(i.instant("actions.ok")).cancel(i.instant("actions.cancel"));r.show(s).then(function(){var r=t.defer();e.promise=r.promise,o("locations").actions.remove(n,function(e){a.handleResponse(e,r,{success:"locations.remove_success"})&&window.document.location.reload()})})}};r.$inject=["$scope","$q","$location","$mdDialog","$translate","responseHandler","apiService","configuration","$filter"],t.exports=r},{}],51:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a){var o=t.defer();e.promise=o.promise,e.message={recipient_uuid:null,body:null},r.waterfall([function(e){n.search().recipient_uuid?i("users").actions.find(n.search().recipient_uuid,e):e(new Error("errors.unknown"))},function(t,n){e.recipient=t,e.message.recipient_uuid=t.uuid,n()}],function(e){a.handleResponse(e,o)})};i.$inject=["$scope","$q","$location","apiService","responseHandler"],t.exports=i},{async:24}],52:[function(e,t,n){"use strict";var r=function(e,t,n,r){e.rowSetup={"table-row-id-key":"fields.uuid","column-keys":["body","user.nickname","created"]},e.fields=[{label:"messages.message",property:"body",sort:!1},{label:"messages.from",property:"recipient.nickname",sort:!1},{label:"messages.sent",property:"created",date:!0,sort:!1}],e.settings={row_select:!1,multiple:!1,pagination:!0,pagesize:25,limit_options:[25,50,100],resource:"users/me/messages"},e.actions=[{label:"actions.delete",css_class:"fa-trash-o",clickHandler:function(i){var a=r.defer();e.promise=a.promise,t("locations").actions.remove(i.uuid,function(e){n.handleResponse(e,a,{success:"messages.remove_success"})&&window.document.location.reload()})}}]};r.$inject=["$scope","apiService","responseHandler","$q"],t.exports=r},{}],53:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o){function s(e){return o("date")(e.value,"yyyy-MM-dd")}e.urlbase=a.urlbase||"/",e.settings={pagesize:25e3,resource:"posts"},i.path().indexOf("static")>0&&(e.settings.resource="posts/static");var l=[{headerName:o("translate")("posts.title"),field:"title",width:120,sort:"asc"},{headerName:o("translate")("author.created"),field:"created",width:90,cellRenderer:s},{headerName:o("translate")("author.updated"),field:"updated",width:90,cellRenderer:s},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"admin/posts/"+t.value+'" aria-label="'+o("translate")("actions.edit")+'"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a>'}}];e.gridOptions={columnDefs:l,rowData:null,rowHeight:58,enableSorting:!0,enableFilter:!0,animateRows:!0,enableColResize:!0,onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},e.query={sort:e.settings.sort?e.settings.sort:"title",page:1};var u=e.settings.pagesize;n(e.settings.resource+"?limit="+u+"&skip="+(e.query.page-1)*u+"&sort="+e.query.sort).actions.all(function(t,n){!t&&n&&(e.gridOptions.api.setRowData(n.results||n),e.gridOptions.api.sizeColumnsToFit(),e.query.total=n.total)})};r.$inject=["$scope","$q","apiService","responseHandler","$location","configuration","$filter"],t.exports=r},{}],54:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a){var o=n.defer();e.promise=o.promise,i("posts").actions.find(r.uuid,function(t,n){e.post=n.results||n,a.handleResponse(t,o)})};r.$inject=["$scope","$rootScope","$q","$routeParams","apiService","responseHandler"],t.exports=r},{}],55:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o){var s;e.urlbase=a.urlbase||"/",n.uuid&&(s=t.defer(),e.promise=s.promise,r("posts").actions.find(n.uuid,function(t,n){e.post=n,i.handleResponse(t,s)})),e.submit=function(){s=t.defer(),e.promise=s.promise,e.post.body=e.editor.value(),n.uuid?r("posts").actions.update(n.uuid,e.post,function(e){i.handleResponse(e,s,{success:"posts.update_success"})}):r("posts").actions.create(e.post,function(e){i.handleResponse(e,s,{success:"posts.create_success"})})},e.cancel=function(){o.path("/admin/posts/")}};r.$inject=["$scope","$q","$routeParams","apiService","responseHandler","configuration","$location"],t.exports=r},{}],56:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s,l){function u(e){return l("date")(e.value,"yyyy-MM-dd")}e.urlbase=s.urlbase||"/",e.settings={pagesize:25e3,resource:"regions"};var c=[{headerName:l("translate")("regions.title"),field:"title",width:120,sort:"asc"},{headerName:l("translate")("regions.created"),field:"created",width:90,cellRenderer:u},{headerName:l("translate")("regions.updated"),field:"updated",width:90,cellRenderer:u},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"admin/regions/"+t.value+'" aria-label="'+l("translate")("actions.edit")+'"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a>'}}];e.gridOptions={columnDefs:c,rowData:null,rowHeight:58,enableSorting:!0,enableFilter:!0,animateRows:!0,enableColResize:!0,onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},e.query={sort:e.settings.sort?e.settings.sort:"title",page:1};var f=e.settings.pagesize,d=e.settings.resource+"?limit="+f+"&skip="+(e.query.page-1)*f+"&sort="+e.query.sort;o(d).actions.all(function(t,n){!t&&n&&(e.gridOptions.api.setRowData(n.results||n),e.gridOptions.api.sizeColumnsToFit(),e.query.total=n.total)}),e.settings={row_select:!1,multiple:!1,pagination:!0,pagesize:25,limit_options:[25,50,100],resource:"regions"},e.clickEditHandler=function(e){n.path("/admin/regions/"+e)},e.clickShowHandler=function(e){console.log("uuid",e),n.path("/admin/regions/"+e+"/locations")},e.clickDeleteHandler=function(n){var s=r.confirm().title(i.instant("regions.remove_confirm_title")).textContent(i.instant("regions.remove_confirm_body")).ariaLabel("regions.remove_confirm_title").ok(i.instant("actions.ok")).cancel(i.instant("actions.cancel"));r.show(s).then(function(){var r=t.defer();e.promise=r.promise,o("regions").actions.remove(n,function(e){a.handleResponse(e,r,{success:"regions.remove_success"})&&window.document.location.reload()})})}};r.$inject=["$scope","$q","$location","$mdDialog","$translate","responseHandler","apiService","configuration","$filter"],t.exports=r},{}],57:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o){var s=t.defer();e.promise=s.promise,e.mapcenter=[51,9],e.urlbase=o.urlbase||"/",r.waterfall([function(e){i.setCurrentRegion(null,e)},function(e){n("regions").actions.all(e,function(){},!0)},function(t,n){t=t.results||t,r.map(t,function(e,n){t[t.indexOf(e)].popup="<strong>"+e.title+"</strong>",n()},function(){e.locations=t,n()})}],function(e){a.handleResponse(e,s)})};i.$inject=["$scope","$q","apiService","regionService","responseHandler","configuration"],t.exports=i},{async:24}],58:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s){var l=n.defer();e.promise=l.promise,e.urlbase=s.urlbase||"/",r.waterfall([function(e){a("regions").actions.find(i.uuid,e)},function(n,r){if(!n)return r(new Error("errors.region.no_data"));n=n.results||n,e.region=n,e.mapcenter=[e.region.lonlat[1],e.region.lonlat[0]],e.zoom=e.region.zoom,e.urlbase=e.urlbase+n.slug+"/",t.setCurrentRegion(n.uuid,r)},function(t){a("regions/"+e.region.uuid+"/locations").actions.all(t,function(){},!0)},function(t,n){e.locations=t.results||t,n()}],function(e){o.handleResponse(e,l)})};i.$inject=["$scope","regionService","$q","$routeParams","apiService","responseHandler","configuration"],t.exports=i},{async:24}],59:[function(e,t,n){"use strict";var r=function(e,t,n,r,i){var a;n.uuid&&(a=t.defer(),e.promise=a.promise,r("regions").actions.find(n.uuid,function(t,n){n.hasOwnProperty("moderate")||(n.moderate=!1),e.region=n,i.handleResponse(t,a)})),e.submit=function(){if(a=t.defer(),e.promise=a.promise,n.uuid)console.log("region_data_before",e.region),r("regions").actions.update(n.uuid,e.region,function(e){i.handleResponse(e,a,{success:"regions.update_success"})});else{console.log("region_data_before",e.region);var o=e.region;o.lonlat=Object.keys(e.region.lonlat).map(function(t){return e.region.lonlat[t]}),console.log("region_data",o),r("regions").actions.create(o,function(e){i.handleResponse(e,a,{success:"regions.create_success"})})}}};r.$inject=["$scope","$q","$routeParams","apiService","responseHandler"],t.exports=r},{}],60:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i,a,o,s){var l=n.defer();e.promise=l.promise,r.waterfall([function(e){o("users/me/access_tokens").actions.create({single_access_token:a.token},e)},function(e,t){o().getCredentials(e,t)}],function(n){s.handleResponse(n,l)?(e.success=!0,t.$broadcast("currentUser:updated",!0)):e.success=!1})};i.$inject=["$scope","$rootScope","$q","$location","$routeParams","apiService","responseHandler"],t.exports=i},{async:24}],61:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a){e.user={email:null,login:null,password:null,password_confirm:null},e.$parent.status="ready",e.submit=function(){var o=t.defer();if(e.user.password!==e.user.password_confirm)return r.publish("alert",{type:"error",message:a.instant("errors.users.password_confirm_mismatch")}),o.reject();e.promise=o.promise,n("users").actions.create(e.user,function(e){i.handleResponse(e,o,{success:"messages.users.create_success"})})}};r.$inject=["$scope","$q","apiService","PubSub","responseHandler","$translate"],t.exports=r},{}],62:[function(e,t,n){"use strict";var r=function(e,t,n,r){e.submit=function(){var i=t.defer();e.promise=i.promise,n("users/me/reset").actions.create({email:e.user.email},function(e){r.handleResponse(e,i,{success:"messages.users.request_reset_success"})})}};r.$inject=["$scope","$q","apiService","responseHandler"],t.exports=r},{}],63:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a){var o=r.defer();e.promise=o.promise,e.urlbase=a.urlbase||"/",e.settings={pagesize:25e3,resource:"users"};var s=[{headerName:i("translate")("users.username"),field:"nickname",width:120,sort:"asc"},{headerName:i("translate")("users.email"),field:"email",width:90},{headerName:i("translate")("users.scope"),field:"api_keys",width:90,cellRenderer:function(e){var t=[];return e.value.forEach(function(e){e.scopes&&e.scopes.forEach(function(e){t.push(e)})}),t}},{headerName:i("translate")("users.created"),field:"created",width:90,cellRenderer:function(e){return i("date")(e.value,"yyyy-MM-dd")}},{headerName:i("translate")("users.notify"),field:"notify",width:60,cellRenderer:function(e){return e.value?i("translate")("generel.yes"):i("translate")("generel.no")}},{headerName:"",field:"uuid",width:60,suppressFilter:!0,cellRenderer:function(t){return'<a class="md-icon-button md-table-button md-raised  md-fab  md-mini " href="'+e.urlbase+"admin/users/"+t.value+'" aria-label="'+i("translate")("actions.edit")+'"><md-icon md-font-icon="fa-pencil" class="fa fa-pencil"></md-icon></a>'}}];e.gridOptions={columnDefs:s,rowData:null,rowHeight:58,enableSorting:!0,enableFilter:!0,animateRows:!0,enableColResize:!0,onGridReady:function(){setTimeout(function(){e.gridOptions.api.sizeColumnsToFit()},600)}},e.filterGrid=function(){e.gridOptions.api.setQuickFilter(e.filterStr)},e.query={sort:e.settings.sort?e.settings.sort:"title",page:1};var l=e.settings.pagesize;t(e.settings.resource+"?limit="+l+"&skip="+(e.query.page-1)*l+"&sort="+e.query.sort).actions.all(function(t,n){!t&&n?(e.gridOptions.api.setRowData(n.results||n),e.gridOptions.api.sizeColumnsToFit(),e.query.total=n.total,o.resolve()):o.reject(t)})};r.$inject=["$scope","apiService","responseHandler","$q","$filter","configuration"],t.exports=r},{}],64:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s,l,u){e.user={email:null,password:null},e.$parent.status="ready",e.submit=function(){var a=t.defer();e.promise=a.promise,r().authenticate(e.user.email,e.user.password,function(e){if(i.handleResponse(e,a)){l.publish("alert",{type:"success",message:o.instant("successes.user.login")}),s.$broadcast("currentUser:updated",!0);n.path("/")}})}};r.$inject=["$scope","$q","$location","apiService","responseHandler","configuration","$translate","$rootScope","PubSub","$routeParams"],t.exports=r},{}],65:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){t.clearCredentials(),r.publish("alert",{type:"success",message:o.instant("successes.user.logout")}),n.$broadcast("currentUser:updated",!0);console.log("logout_redirect:/",s),i.path("/")};r.$inject=["$scope","authService","$rootScope","PubSub","$location","configuration","$translate","$routeParams"],t.exports=r},{}],66:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){var l=t.defer();e.urlbase=o.urlbase||"/",e.user={nickname:null,email:null,password:null,password_confirm:null,share_email:null,notify:null},e._sys={notify:"notify me",share_email:"share my email",userScope:["admin","editor","user"]},e.submit=function(){var o=t.defer();if(e.promise=o.promise,e.user.password&&0!==e.user.password.length){if(e.user.password!==e.user.password_confirm)return a.publish("alert",{type:"error",message:s.instant("errors.users.password_confirm_mismatch")}),o.reject()}else delete e.user.password;delete e.user.password_confirm,r("users").actions.update(n.uuid,e.user,function(t){i.handleResponse(t,o,{success:"messages.users.update_success"})&&(e.user.password=null,e.user.password_confirm=null)})},n.uuid&&(e.promise=l.promise,r("users").actions.find(n.uuid,function(t,n){if(i.handleResponse(t,l)){e.user=n,e.user.password=null,e.user.password_confirm=null;var r=[];n.api_keys.forEach(function(e){e.scopes&&e.scopes.forEach(function(e){r.push(e)})}),e.user.scopes=r}}))};r.$inject=["$scope","$q","$routeParams","apiService","responseHandler","PubSub","configuration","$translate"],t.exports=r},{}],67:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a){var o=t.defer();e.user={nickname:null,email:null,password:null,password_confirm:null,share_email:null,notify:null,message_me:null},e._sys={notify:"notify_me",share_email:"share my email",message_me:"message_me"},e.submit=function(){if(o=t.defer(),e.promise=o.promise,e.user.password&&0!==e.user.password.length){if(e.user.password!==e.user.password_confirm)return i.publish("alert",{type:"error",message:a.instant("errors.users.password_confirm_mismatch")}),o.reject()}else delete e.user.password;delete e.user.password_confirm,n("users").actions.update("me",e.user,function(t){r.handleResponse(t,o,{success:"messages.users.update_success"})&&(e.user.password=null,e.user.password_confirm=null)})},e.promise=o.promise,n("users").actions.find("me",function(t,n){r.handleResponse(t,o)&&(e.user={nickname:n.nickname,email:n.email,password:null,password_confirm:null,share_email:n.share_email,notify:n.notify,message_me:n.message_me})})};r.$inject=["$scope","$q","apiService","responseHandler","PubSub","$translate"],t.exports=r},{}],68:[function(e,t,n){"use strict";var r=function(e,t,n,r,i){e.alerts=[],e.addAlert=function(e){if("critical"===e.type){var i=r.alert().title(t.instant("errors.critical.title")).textContent(e.message).ariaLabel(t.instant("errors.critical.title")).ok(t.instant("errors.critical.resolve"));i.escapeToClose=!1,r.show(i).then(function(){o=!1})}else{var a=8e3,o=!1;e.hasOwnProperty(a)&&(a=e.delay),n.hide(),n.show(n.simple().textContent(e.message).hideDelay(a).theme(e.type+"-toast"))}},e.closeAlert=function(t){e.alerts.splice(t,1)},i.subscribe("alert",e.addAlert)};r.$inject=["$scope","$translate","$mdToast","$mdDialog","PubSub"],t.exports=r},{}],69:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s,l){var u=this;u.currentSearchText=null,u.repos=[],u.simulateQuery=!1,u.isDisabled=!1,e.open_sidebar=function(){l("right").open()},e.toogle_sidebar=function(){console.log("toogle"),l("right").isOpen()?l("right").close():l("right").open()},e.close_sidebar=function(){l("right").close()},e.$on("currentRegion:updated",function(t,n){e.currentRegion=n}),e.siteLocation=t.siteLocation,e.lang_active=n.proposedLanguage()||n.use(),t.lang_active=e.langKey,e.useLanguage=function(r){n.use(r),e.lang_active=r,t.lang_active=r},e.login=function(){r.path("/login")},e.register=function(){r.path("/register")},u.querySearch=function(t){u.loading=!0;var n=a.defer();return o("search/locations"+(e.currentRegion?"/"+e.currentRegion.uuid:""),null,{q:t}).actions.all(function(e,t){e&&n.reject(e),u.loading=!1,n.resolve(t)}),n.promise},u.selectedItemChange=function(t){t&&(e.ctrl.searchText=u.currentSearchText,r.path("/"+(t.region_slug||t.region_uuid)+"/"+(t.slug||t.uuid)))},u.searchTextChange=function(e){u.currentSearchText=e},o("regions").actions.all(function(t,n){(n=n.results||n)&&Array.isArray(n)?(u.repos=n.sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}),u.repos.map(function(e){return e.value=e.slug,e}),e.regions=u.repos):t&&console.log(t)},function(){},!0),e.change=function(){r.path(e.currentRegion.slug||e.currentRegion.uuid)},e.home=function(){r.path("/"),s.setCurrentRegion(null)}};r.$inject=["$scope","$rootScope","$translate","$location","$timeout","$q","apiService","regionService","$mdSidenav"],t.exports=r},{}],70:[function(e,t,n){"use strict";var r=function(e,t,n,r,i){var a=t.defer();e.promise=a.promise,i("posts").actions.find(r.slug,function(t,i){t||!i?n.getMarkdown(r.slug,function(t,n){e.page={content:n},a.resolve()}):(e.page={content:i.body},a.resolve())})};r.$inject=["$scope","$q","staticContent","$routeParams","apiService"],t.exports=r},{}],71:[function(e,t,n){"use strict";var r=e("../../../../config.json");t.exports=function(){return{link:function(e,t,n){e.$parent.$on("captcha:update",function(){n.$set("src",""),n.$set("reset",!1),n.$set("src",r.global.api_url+"/captchas.png?r="+Date.now())}),n.$set("src",r.global.api_url+"/captchas.png?r="+Date.now())}}}},{"../../../../config.json":1}],72:[function(e,t,n){"use strict";var r=e("async"),i=function(e,t,n,i){return{link:function(a){a.$parent.$on("currentUser:updated",function(){a.updateUser()}),a.updateUser=function(){t.access_token?r.waterfall([function(t){e("users").actions.find("me",t)},function(t,n){a.setUserSession(t),e("users/me/api_keys").actions.all(n)},function(t,n){(t=t.results||t).length>0?(a.setApiKey(t[0]),a.admin_regions=[],r.eachSeries(a.api_key.scopes,function(t,n){if(0===t.indexOf("region-")){var r=t.replace("region-","");e("regions").actions.find(r,function(e,t){e||a.admin_regions.push(t),n()})}else n()},n)):n()}],function(e){if(e)return n.publish("alert",{type:"error",message:i.instant("user.error.fetchin")}),console.log("error fetching user",e),a.setUserSession(null),void a.setApiKey(null);a.$apply()}):(a.setUserSession(null),a.setApiKey(null))},a.updateUser()}}};i.$inject=["apiService","authService","PubSub","$translate"],t.exports=i},{async:24}],73:[function(e,t,n){"use strict";var r=function(e,t,n,r){return{restrict:"A",templateUrl:r+"partials/_comments.html",link:function(r,i,a){r.new_comment={},r.submitComment=function(){var i=n.defer();if(r.promise=i.promise,r.new_comment.body){var o={subject_uuid:r.$eval(a.uuid),body:r.new_comment.body,captcha:r.new_comment.captcha?r.new_comment.captcha:"nocaptcha"};e("comments").actions.create(o,function(e,n){t.handleResponse(e,i,{success:"messages.comments.create_success"})?(r.$applyAsync(function(){r.comments.push(n),r.new_comment={}}),r.$broadcast("captcha:update",!0)):r.$broadcast("captcha:update",!0)})}},r.$watch(a.uuid,function(){var t=r.$eval(a.uuid);if(t){var n=[a.resource,t,"comments"].join("/");e(n).actions.all(function(e,t){r.$applyAsync(function(){t&&t.results?r.comments=t.results:t&&(r.comments=t)})},function(){},!0)}})}}};r.$inject=["apiService","responseHandler","$q","assetPath"],t.exports=r},{}],74:[function(e,t,n){(function(t){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder");n.directive("captcha",e("./captcha")),n.directive("checkLogin",e("./check-login")),n.directive("comments",e("./comments")),n.directive("lightbox",e("./lightbox")),n.directive("lsmUserCardList",e("./lsm-user-card-list")),n.directive("lsmMap",e("./lsm-map")),n.directive("markdownEditor",e("./markdown-editor")),n.directive("messageForm",e("./message-form")),n.directive("msgPopup",e("./msg-popup")),n.directive("recentLocations",e("./recent-locations")),n.directive("recentPosts",e("./recent-posts")),n.directive("tableEditButton",e("./table-edit-button")),n.directive("tableDeleteButton",e("./table-delete-button")),n.directive("tableShowButton",e("./table-show-button")),n.directive("tableLinkButton",e("./table-link-button"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./captcha":71,"./check-login":72,"./comments":73,"./lightbox":75,"./lsm-map":76,"./lsm-user-card-list":77,"./markdown-editor":78,"./message-form":79,"./msg-popup":80,"./recent-locations":81,"./recent-posts":82,"./table-delete-button":83,"./table-edit-button":84,"./table-link-button":85,"./table-show-button":86}],75:[function(e,t,n){"use strict";var r=function(e,t,n){return{scope:!0,link:function(t,r,i){r.addClass("image-click"),r.bind("click",function(){e.show(e.confirm().clickOutsideToClose(!0).htmlContent('<img class="spot-image" src="'+i.ngOriginalUrl+'" style="width:100%" />').hasBackdrop(!1).ariaLabel(".title").ok(n.instant("actions.close")))})}}};r.$inject=["$mdDialog","assetPath","$translate"],t.exports=r},{}],76:[function(e,t,n){(function(n){"use strict";var r="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,i=e("async"),a=e("../lsm-mapconfig"),o=function(e,t,n,o,s){return{restrict:"A",scope:{locations:"=",urlbase:"=",zoom:"=",mapType:"=",center:"=",selectMode:"=",selectHandler:"&",selectMarker:"="},link:function(t,l,u){var c,f=[],d=L.Marker.extend({options:{data:null}}),p=function(t){t[0].style.height=e.innerHeight+"px"},h=function(e,n){var r={iconSize:[32,44],iconAnchor:[16,43],popupAnchor:[-3,-47],iconUrl:s+"images/marker-active.png",iconRetinaUrl:s+"images/marker-active@2x.png"},a=L.icon(r);r.iconUrl=s+"images/marker-inactive.png",r.iconRetinaUrl=s+"images/marker-inactive@2x.png";var l=L.icon(r);u.usecluster&&(f=L.markerClusterGroup({polygonOptions:{stroke:!0,weight:1,color:"#999",opacity:.5},removeOutsideVisibleBounds:!0})),i.map(e,function(e,n){if(e.lonlat){var r={icon:!1===e.active||!0===e.demolished?l:a,data:e,draggable:!1},i=new d([e.lonlat[1],e.lonlat[0]],r);i.on("click",function(e){var n=e.target.options.data,r="";r+="<div>",n.thumb_square_url&&(r+='<img class="popup_thumb" src="'+n.thumb_square_url+'" width="80px" height="80px" style="width:80px;height:80px;padding-right:1em" flex/>'),r+="<div>",r+="<strong>"+n.title+"</strong><br />",n.locations?r+=n.locations+" "+o.instant("locations.location_plural")+"<br />":(r+=n.street+"<br />",void 0!==n.buildingType?r+=o.instant(n.buildingType)+" / ":r+=o.instant("locations.unknown")+" / ",void 0!==n.owner?r+=o.instant(n.owner)+"<br />":r+=o.instant("locations.unknown")+"<br />"),t.urlbase&&(r+="<a href='"+t.urlbase+(n.slug||n.uuid)+"'>"+o.instant("actions.show")+"</a>"),r+="</div></div>",e.target.unbindPopup(),e.target.bindPopup(r).openPopup()}),u.usecluster?f.addLayer(i):i.addTo(c),n(null)}},n),u.usecluster&&c.addLayer(f)};r.element(e).bind("resize",function(){p(l)});var g=function(e,r){p(l),c=n.initMap(l,a,{latlon:t.center,zoom:t.zoom},e,r)};r.element(e).ready(function(){if(u.selectMode){g(!0,!1);var e=n.createMarker(null,{draggable:!0,latlon:c.getCenter()});e.on("dragend",function(e){var n=e.target.getLatLng();"function"==typeof t.selectHandler&&t.selectHandler({latlon:n})}),e.addTo(c),t.$watchCollection("selectMarker",function(n,r){for(var i=!1,a=Object.keys(n),o=0;o<a.length;o+=1)n[a[o]]!==r[a[o]]&&(i=!0);if(i){var s=new L.LatLng(n.lat,n.lng);e.setLatLng(s),c.setView(s,t.zoom||16)}})}else t.$watch(u.locations,function(){t.$eval(u.locations)&&(g(!0,!1),h(t.$eval(u.locations),function(e){e&&console.log("error creating markers",e),window.setTimeout(function(){c.invalidateSize(!1)},500)}))});t.$watch(u.zoom,function(){c&&t.$eval(u.zoom)&&c.setView(t.center,t.zoom||16)}),t.$watch(u.center,function(){c&&t.$eval(u.center)&&c.setView(t.center,t.zoom||16)})})}}};o.$inject=["$window","$timeout","mapService","$translate","assetPath"],t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lsm-mapconfig":91,async:24}],77:[function(e,t,n){"use strict";var r=function(e,t,n,r){return{restrict:"A",templateUrl:n+"partials/_user_card_list.html",link:function(n){function i(r,i,a){var o=e.defer(),s=i||n.settings.pagesize;n.promise=o.promise;var l=n.settings.resource+"?limit="+s+"&skip="+((r||n.query.page)-1)*s+"&sort="+(a||n.query.sort);return t(l).actions.all(function(e,t){!e&&t?(n.data=t.results||t,n.query.total=t.total,o.resolve({results:n.data,totalResultCount:t.total||n.data.length})):o.reject(e)}),o.promise}r("table.rowsPerPage").then(function(e){n.rowsPerPage=e},function(e){n.rowsPerPage=e}),r("table.pageOf").then(function(e){n.pageOf=e},function(e){n.pageOf=e}),n.selected=[],n.query={sort:n.settings.sort?n.settings.sort:"title",page:1},n.getDataForProperty=function(e,t){for(var n=!1,r=t,i=e.split("."),a=0;a<i.length;a+=1)r[i[a]]&&(n=!0,r=r[i[a]]);return n?r:null},i(0,1e4),n.onPaginate=function(e,t,r){var a=r.columnSort||null,o=null;return a&&angular.forEach(a,function(e,t){!1!==e.sort&&("asc"===e.sort&&(o="-"),o+=n.fields[t].property)}),i(e,t,o)},n.onSort=function(e){n.selected=[],i(null,null,e)},n.$watch("needsUpdate",function(e){!0===e&&i()}),n.editClick=function(e){"function"==typeof n.clickEditHandler&&n.clickEditHandler(e.rowId)},n.showClick=function(e){"function"==typeof n.clickShowHandler&&n.clickShowHandler(e.rowId)},n.deleteClick=function(e){"function"==typeof n.clickDeleteHandler&&n.clickDeleteHandler(e.rowId)}}}};r.$inject=["$q","apiService","assetPath","$translate"],t.exports=r},{}],78:[function(e,t,n){"use strict";t.exports=function(){return{link:function(e,t,n){e.editor=new SimpleMDE({element:t[0]}),e.$watch(n.ngModel,function(){var t=e.$eval(n.ngModel);t&&e.editor.value(t)})}}}},{}],79:[function(e,t,n){"use strict";var r=function(e,t){return{restrict:"A",templateUrl:t+"partials/_message_create.html",link:function(t){t.submitMessage=function(){t.message.recipient_uuid&&t.message.body&&e("messages").actions.create(t.message,function(e){console.log("msg form err:",e.message)})}}}};r.$inject=["apiService","assetPath"],t.exports=r},{}],80:[function(e,t,n){"use strict";var r=function(e,t,n){return{restrict:"A",link:function(r,i,a){localStorage["popups."+a.popupId]||e.getMarkdown("popups_"+a.popupId,function(e,i){if(!e){r.popupContent=i;var o=marked(i);t.show(t.confirm().clickOutsideToClose(!0).title(n.instant("popups."+a.popupId+".title")).htmlContent(o).hasBackdrop(!1).ariaLabel(n.instant("popups."+a.popupId+".title")).ok(n.instant("actions.ok")).cancel(n.instant("actions.dont_show_again"))).then(function(){},function(){try{localStorage["popups."+a.popupId]="1"}catch(e){console.log("Warning: LocalStorage is not available.")}})}})}}};r.$inject=["staticContent","$mdDialog","$translate"],t.exports=r},{}],81:[function(e,t,n){"use strict";var r=function(e,t,n){return{restrict:"A",scope:{region:"=",pageSize:"="},templateUrl:t+"partials/_recent_locations.html",link:function(t,r,i){t.urlbase=n.urlbase||"/",t.$watch(i.region,function(){t.$eval(i.region)&&e("regions/"+t.region.uuid+"/locations?sort=-created&limit="+(parseInt(t.pageSize)||10)).actions.all(function(e,n){t.$applyAsync(function(){t.locations=n.results||n})},function(){},!0)})}}};r.$inject=["apiService","assetPath","configuration"],t.exports=r},{}],82:[function(e,t,n){"use strict";var r=function(e,t,n){return{restrict:"A",scope:{pageSize:"="},templateUrl:t+"partials/_recent_posts.html",link:function(t,r,i){t.urlbase=n.urlbase||"/",t.$watch(i.pageSize,function(){e("posts?sort=-created&limit="+(parseInt(t.pageSize)||10)).actions.all(function(e,n){t.$applyAsync(function(){!e&&n.results?t.posts=n.results:t.posts=[]})})})}}};r.$inject=["apiService","assetPath","configuration"],t.exports=r},{}],83:[function(e,t,n){"use strict";t.exports=function(){return{template:'<md-button class="md-table-button md-raised md-fab  md-mini " ng-click="clientScope.deleteClick(this)" aria-label="{{ \'actions.delete\' | translate }}"><md-icon md-font-icon="fa-trash" class="fa"></md-icon></md-button>'}}},{}],84:[function(e,t,n){"use strict";t.exports=function(){return{template:'<md-button class="md-table-button md-raised md-fab  md-mini " ng-click="clientScope.editClick(this)" aria-label="{{ \'actions.edit\' | translate }}"><md-icon md-font-icon="fa-pencil" class="fa"></md-icon></md-button>'}}},{}],85:[function(e,t,n){"use strict";t.exports=function(){return{template:'<md-button class="md-table-button md-raised md-fab  md-mini " ng-click="clientScope.clickShowHandler(this)" aria-label="{{ \'actions.show\' | translate }}"><md-icon md-font-icon="fa-eye" class="fa"></md-icon></md-button>'}}},{}],86:[function(e,t,n){"use strict";t.exports=function(){return{template:'{{ rowId }}<md-button class="md-table-button md-raised md-fab  md-mini " ng-click="clientScope.showClick(this)" data-id="{{ rowId }}" aria-label="{{ \'actions.show\' | translate }}"><md-icon md-font-icon="fa-eye" class="fa"></md-icon></md-button>'}}},{}],87:[function(e,t,n){"use strict";var r=function(e){return function(t){var n="";if((t=parseFloat(t))>=1)if(t<4)n=e.instant("locations.empty_options.less_than_one_quarter_year");else if(t<7)n=e.instant("locations.empty_options.less_than_one_half_year");else if(t<19)n=e.instant("locations.empty_options.less_than_three_quarters_year");else if(t<12)n=e.instant("locations.empty_options.less_than_one_year");else if(121===t)n=e.instant("locations.empty_options.more_than_ten_years");else{var r=parseFloat(t)/12,i=Math.floor(r),a=r-i,o=null;switch(!0){case a>=1e-5&&a<=.3:o=e.instant("locations.empty_options.one_quarter");break;case a>=.3001&&a<=.6:o=e.instant("locations.empty_options.one_half");break;case a>=.60001&&a<=.8:o=e.instant("locations.empty_options.three_quarters");break;case a>=.80001&&a<=.9999999:i++}n=1===r&&0===t?[i,e.instant("location.empty_options.year")].join(" "):o?[i,e.instant("location.empty_options.and"),o,r].join(" "):[i,e.instant("location.empty_options.year_plural")].join(" ")}else n=e.instant("locations.empty_options.less_than_one_year");return n}};r.$inject=["$translate"],t.exports=r},{}],88:[function(e,t,n){(function(t){"use strict";("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder").filter("emptySinceRewrite",e("./empty-since-rewrite"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./empty-since-rewrite":87}],89:[function(e,t,n){"use strict";t.exports={generel:{yes:"Ja",no:"Nein"},actions:{cancel:"Abbrechen",choose_images:"WÃ¤hle eines oder mehrere Bilder aus, welche Du zu diesem Eintrag hinzufÃ¼gen mÃ¶chtest.",choose_image:"FÃ¼ge ein Bild zu diesem Eintrag hinzu.",choose_camera:"Kamera",choose_library:"Library",delete:"LÃ¶schen",dont_show_again:"Nicht mehr anzeigen",edit:"Bearbeiten",edit_details:"Details bearbeiten",next:"Weiter",ok:"OK",previous:"ZurÃ¼ck",show:"Ansehen",submit:"Absenden",take_picture:"Mach ein Foto",use_slider:"Benutze den Schieberegler",abort:"Abbrechen",close:"Schliessen"},table:{rowsPerPage:"EintrÃ¤ge pro Seite",pageOf:"von"},admin:{dashboard:"Dashboard",menu:"MenÃ¼"},menu:{admin:"Administration",map:"Karte",user:"Benutzer"},assets:{file:"Datei"},author:{author:"Autor",by:"von",created:"Erstellt",in:"in",on:"am",updated:"Aktualisiert"},captcha:{enter_captcha:"Gib den Code ein"},comments:{all:"Kommentare",manage_comments:"Kommentare verwalten",comment:"Kommentar",comment_plural:"Kommentare",comment_text:"Kommentartext",new_comment:"Neuer Kommentar",new_comment_login:"Melde Dich an, um einen neuen Kommentar zu schreiben.",no_comments:"Keine Kommentare",body:"Nachricht",hidden:"Kommentar ausblenden",created:"Erstellt"},creator:{tabs:{admin:"Verwaltung",details:"Details",info:"Info",location:"Ort",preview:"Vorschau"}},errors:{access_denied:"Du hast keine Berechtigung, um diese Aktion auszufÃ¼hren.",authorization_failed:"Anmeldung fehlgeschlagen.",location:{no_data:"Leerstand konnte nicht geladen werden."},region:{no_data:"Region konnte nicht geladen werden."},unknown:"Ein unbekannter Fehler ist aufgetreten.",noconnection:"Die Anwendung konnte keine Verbindung zum Server herstellen. Probiere es zu einem spÃ¤teren Zeitpunkt noch einmal.",critical:{title:"Mieser Fehler",resolve:"Ok, neu starten?"},users:{confirmation_failed:"BestÃ¤tigung fehlgeschlagen. MÃ¶glicherweise wurde dieser Link bereits verwendet.",email_exists:"E-Mail Adresse ist bereits registriert.",invalid_email:"UngÃ¼ltige E-Mail Adresse",password_confirm_mismatch:"PasswÃ¶rter stimmen nicht Ã¼berein.",password_too_short:"Passwort ist zu kurz (min. 8 Zeichen).",reset_failed:"Passwort ZurÃ¼cksetzen fehlgeschlagen. Dieser Link ist nicht (mehr) gÃ¼ltig.",too_many_failed_logins:"Zu viele fehlgeschlagene Anmeldungen. Versuche es in fÃ¼nf Minuten wieder."}},successes:{user:{login:"Du hast dich erfolgreich angemeldet.",logout:"Du hast dich erfolgreich abgemeldet."}},photos:{remove_confirm_title:"Bild lÃ¶schen?",remove_confirm_body:"Bist du dir wirklich ganz sicher das du das Bild lÃ¶schen willst?",remove_success:"Das Bild wurde gelÃ¶scht"},locations:{manage_locations:"LeerstÃ¤nde verwalten",address:"Adresse",building_type:"GebÃ¤udeart",building_type_options:{residential:"WohngebÃ¤ude",commercial:"Gewerblich",industrial:"Industriell",historical:"Historisch",public_work:"Ãffentlich",other:"was anders"},city:"Stadt",create_new:"Leerstand melden",degree:"Grad des Leerstands",degree_options:{complete:"VollstÃ¤ndig",partial:"Teilweise"},description:"Beschreibung",demolished:"Abgerissen",demolished_yes:"Ja",demolition_options:{rumor:"GerÃ¼chte",demolished:"Abgerissen"},demolition_rumor:"AbrissgerÃ¼chte",demolition_rumor_yes:"Ja",edit:"Leerstand bearbeiten",empty_for:"Leer seit",empty_options:{recently:"Kurzem",min_five_years:"wenigstens fÃ¼nf Jahren",min_three_years:"wenigstens drei Jahren",min_one_year:"wenigstens einem Jahr",about_half_year:"ungefÃ¤hr einem halben Jahr",less_than_one_quarter_year:"weniger als ein viertel Jahr",less_than_one_half_year:"wengier als ein halbes Jahr",less_than_three_quarters_year:"weniger als ein dreiviertel Jahr",less_than_one_year:"weniger als ein Jahr",more_than_ten_years:"mehr als zehn Jahre",one_quarter:"ein viertel",one_half:"one halbes",three_quarters:"dreiviertel",year:"Jahr",year_plural:"Jahre",and:"und"},help:{info:"Gib hier einen aussagekrÃ¤ftigen Titel und eine Beschreibung fÃ¼r diesen Leerstand ein.",location:"Gib eine Adresse ein und die Karte sollte sich nach einem kurzen Moment aktualisieren. Du kannst den Marker auf der Karte ziehen, um damit die Adresse zu aktualisieren.",details:"Trag ein, welche Details dir Ã¼ber den Leerstand bekannt sind. Wenn Du etwas nicht weiÃt, lass es einfach unausgewÃ¤hlt.",admin:'Setz das HÃ¤kchen auf "Ausgeblendet" um es fÃ¼r nicht-Administratoren unsichtbar zu machen.'},hidden:"Ausgeblendet",hidden_yes:"Ja",location:"Leerstand",location_photos:"Fotos zu diesem Leerstand",location_plural:"LeerstÃ¤nde",locations_by_region:"LeerstÃ¤nde nach Region",my_locations:"Meine LeerstÃ¤nde",no_recent_activity:"Keine LeerstÃ¤nde",none_found:"Keine LeerstÃ¤nde gefunden.",owner:"EigentÃ¼mer",owner_options:{private:"Privat",business:"Gewerblich",public:"Ãffentlich",city:"Stadt"},postcode:"Postleitzahl",recent_activity:"Neueste LeerstÃ¤nde",remove_confirm_title:"Leerstand lÃ¶schen",remove_confirm_body:"Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden. Bist Du sicher?",remove_success:"Leerstand wurde gelÃ¶scht",search:"Suchen",street:"StraÃe",title:"Titel",unknown:"Unbekannt"},messages:{answer_message:"Nachricht beantworten",create_message:"Nachricht erstellen",message:"Nachricht",message_text:"Nachricht",my_messages:"Nachrichten",sent:"Gesendet",to:"An",from:"Von",comments:{create_success:"Kommentar erfolgreich gespeichert."},locations:{create_success:"Leerstand erfolgreich eingetragen.",update_success:"Leerstand erfolgreich aktualisiert."},users:{confirmation_success:"Deine E-Mail wurde erfolgreich bestÃ¤tigt. Du bist jetzt eingeloggt!",create_success:"Deine Registrierung war erfolgreich. Du solltest jetzt eine E-Mail mit einem BestÃ¤tigungslink erhalten.",request_reset_success:"Du solltest nun eine E-Mail erhalten, die einen Link zum ZurÃ¼cksetzen Deines Passworts enthÃ¤lt.",reset_success:"Du bist nun eingeloggt und kannst Dein Passwort Ã¤ndern.",update_success:"Konto wurde erfolgreich aktualisiert."}},popups:{relaunch:{title:"Relaunch!"}},posts:{edit_post:"Eintrag bearbeiten",manage_posts:"EintrÃ¤ge verwalten",post:"Eintrag",post_plural:"EintrÃ¤ge",site_post_plural:"Seiteninhalte",title:"Titel",update_success:"Eintrag erfolgreich aktualisiert..",create_post:"Eintrag erstellen",slug:"Kurzform URL",static:"Statische Seite"},regions:{settings:"Einstellungen",hide_message:"Nachricht, wenn Region nicht angezeigt wird",latitude:"Breitengrad",longitude:"LÃ¤ngengrad",manage_regions:"Regionen verwalten",create_regions:"Region erstellen",region:"Region",region_plural:"Regionen",set_hide:"Diese Region nicht anzeigen",set_moderate:"Diese Region moderieren",title:"Titel",update_success:"Region erfolgreich aktualisiert.",zoom:"Zoom",count:"Anzahl",created:"Erstelllt",updated:"Aktualisiert"},site:{banned:"Gesperrt",copyright_notice:"Â© 2016 Leerstandsmelder.de",map_notice:"Karten: Â© OpenStreetMap contributors, ODbL 1.0",lang:"Sprache",lang_de:"Deutsch",lang_en:"English",latest_posts:"Neueste EintrÃ¤ge",no_latest_posts:"Keine Neuesten EintrÃ¤ge",no:"Nein",subnav:{about:"Ãber uns",developers:"Entwickler",feedback:"Feedback",howto:"So geht's",imprint:"Impressum",index:"Stadtindex",press:"Presse",terms:"AGB"},title:"Leerstandsmelder"},users:{manage_users:"Nutzer*innen verwalten",create_user:"Nutzer*innen erstellen",admin_edit:"Nutzer*innen bearbeiten",admin_create:"Nutzer*innen erstellen",anonymous:"Nicht eingeloggt",email:"E-Mail",forgot:"Passwort vergessen",logout:"Abmelden",password:"Passwort",password_confirm:"Passwort bestÃ¤tigen",settings:"Einstellungen",signup:"Registrieren",username:"Benutzername",login:"Anmelden",message_me:"Andere Nutzer kÃ¶nnen mir Nachrichten auf Leerstandsmelder schicken.",notify:"Benachrichtige mich per Email wenn meine EintrÃ¤ge geupdatet werden oder Nachrichten angekommen sind.",register_message:"Registriere Dich!",all:"Alle Nutzer*innen",confirmed:"BestÃ¤ttigt",blocked:"Blockiert",last_login:"Letzter login",failed_logins:"Fehlgeschlagene Logins",scope:"Berechtigungen",created:"Angemeldet"}}},{}],90:[function(e,t,n){"use strict";t.exports={generel:{yes:"Yes",no:"No"},actions:{cancel:"Cancel",choose_images:"You may choose one or more image to add to this entry.",choose_image:"Add an image to this entry.",choose_camera:"Camera",choose_library:"Library",delete:"Delete",dont_show_again:"Don't show again",edit:"Edit",edit_details:"Edit details",next:"Next",ok:"OK",previous:"Previous",show:"View",submit:"Submit",take_picture:"Take a Picture",use_slider:"Use the slider",abort:"Abort",close:"Schliessen"},table:{rowsPerPage:"Rows per page",pageOf:"of"},admin:{dashboard:"Dashboard",menu:"Menu"},menu:{admin:"Administration",map:"Map",user:"User"},asset:{file:"Datei"},author:{author:"Author",by:"by",created:"Created",in:"in",on:"on",updated:"Updated"},captcha:{enter_captcha:"Enter the code"},comments:{all:"Comments",manage_comments:"Manage comments",comment:"Comment",comment_plural:"Comments",comment_text:"Comment text",new_comment:"New Comment",new_comment_login:"Log in to post a new comment.",no_comments:"No Comments",body:"Message",hidden:"Hide comment",created:"Created"},creator:{tabs:{admin:"Admin",details:"Details",info:"Info",location:"Location",preview:"Preview"}},errors:{access_denied:"You are not allowed to perform this action.",authorization_failed:"Login failed.",location:{no_data:"Location could not be loaded."},region:{no_data:"Region could not be loaded."},unknown:"An unknown error occurred.",noconnection:"The app could not reach the server. Try again later.",critical:{title:"Critical error",resolve:"Ok, try again?"},users:{confirmation_failed:"Confirmation failed. This link might already be used.",email_exists:"This email is already registered.",invalid_email:"Invalid email.",password_confirm_mismatch:"Passwords do not match.",password_too_short:"Password is too short (min. 8 characters).",reset_failed:"Password reset failed. This link is invalid and may have already been used.",too_many_failed_logins:"Too many failed logins. Please try again in five minutes."}},successes:{user:{login:"You are now logged in.",logout:"You have been logged out."}},photos:{remove_confirm_title:"Delete image?",remove_confirm_body:"Are you sure that you want to delete this image?",remove_success:"Image has been deleted."},locations:{manage_locations:"Manage locations",address:"Address",building_type:"Building Type",building_type_options:{residential:"Residential",commercial:"Commercial",industrial:"Industrial",historical:"Historical",public_work:"Public Work",other:"Other"},city:"City",create_new:"Submit location",degree:"Degree of Emptiness",degree_options:{complete:"Complete",partial:"Partial"},description:"Description",demolished:"Demolished",demolished_yes:"Yes",demolition_options:{rumor:"Rumored",demolished:"Demolished"},demolition_rumor:"Rumors of Demolition",demolition_rumor_yes:"Yes",edit:"Edit Location",empty_for:"Empty for",empty_options:{recently:"just recently",min_five_years:"at least 5 years",min_three_years:"at least 3 years",min_one_year:"at least a year",about_half_year:"about half a year",less_than_one_quarter_year:"less than one quarter of 1 year",less_than_one_half_year:"less than one half of 1 year",less_than_three_quarters_year:"less than three quarters of 1 year",less_than_one_year:"less than 1 year",more_than_ten_years:"more than 10 years",one_quarter:"one quarter",one_half:"one half",three_quarters:"three quarters",year:"year",year_plural:"years",and:"and"},help:{info:"Enter a descriptive title and a description for this location.",location:"Enter an address and the map should update after a short moment. You can drag the marker on the map to update the address.",details:"Fill out those details that you know about the location. If you do not know something, just leave it blank.",admin:'Set this Asset to "Hidden" to prevent non-administrators from seeing it.'},hidden:"Hidden",hidden_yes:"Yes",location:"Location",location_photos:"Photos for this location",location_plural:"Locations",locations_by_region:"Locations by Region",my_locations:"My Locations",no_recent_activity:"No Recent Activity",none_found:"No locations found.",owner:"Owner",owner_options:{private:"Private",business:"Business",public:"Public",city:"City"},postcode:"Postal code",recent_activity:"Latest Activity",remove_confirm_title:"Delete Location",remove_confirm_body:"This action cannot be undone. Are you sure?",remove_success:"Location deleted",search:"Search",street:"Street",title:"Title",unknown:"Unknown"},messages:{answer_message:"Reply to Message",create_message:"Create Message",message:"Message",message_text:"Message text",my_messages:"Messages",sent:"Sent",to:"To",from:"From",comments:{create_success:"Comment successfully posted."},locations:{create_success:"Location created successfully.",update_success:"Leerstand updated successfully."},users:{confirmation_success:"Successfully confirmed! You are now logged in.",create_success:"Your registration was successful. Please check your emails for the confirmation link!",request_reset_success:"Password reset requested. You should now get an email containing a link to reset your password.",reset_success:"You are now logged in and may change your password.",update_success:"Account was successfully updated."}},popups:{relaunch:{title:"Relaunch!"}},posts:{edit_post:"Edit Post",manage_posts:"Manage Posts",post:"Post",post_plural:"Posts",site_post_plural:"Page content",title:"Title",update_success:"Post updated successfully.",create_post:"Create post",slug:"Slug URL",static:"Static side"},regions:{settings:"Settings",hide_message:"Message if Region is hidden",latitude:"Latitude",longitude:"Longitude",manage_regions:"Manage Regions",create_regions:"Create region",region:"Region",region_plural:"Regions",set_hide:"Hide this Region",set_moderate:"Moderate this Region",title:"Title",update_success:"Region updated successfully.",zoom:"Zoom",count:"Count",created:"Created",updated:"Updated"},site:{banned:"Banned",copyright_notice:"Â© 2016 Leerstandsmelder.de",map_notice:"Maps: Â© OpenStreetMap contributors, ODbL 1.0.",lang:"Language",lang_de:"Deutsch",lang_en:"English",latest_posts:"Recent Posts",no_latest_posts:"No Recent Posts",no:"No",subnav:{about:"About",developers:"Developers",feedback:"Feedback",howto:"Howto",imprint:"Imprint",index:"City index",press:"Press",terms:"Terms"},title:"Leerstandsmelder"},users:{manage_users:"Manage users",create_user:"Create user",admin_edit:"Edit user",admin_create:"Create user",anonymous:"Not logged in",email:"Email",forgot:"Forgot Password",logout:"Logout",password:"Password",password_confirm:"Confirm Password",settings:"Settings",signup:"Sign up",username:"Username",login:"Login",message_me:"Other Users can send me messages via Leerstandsmelder.",notify:"Send me an Email when my entries are updated or other users send me a message.",register_message:"Register now!",all:"All users",confirmed:"Confirmed",blocked:"Blocked",last_login:"Last login",failed_logins:"Failed logins",scope:"Scopes",created:"Created"}}},{}],91:[function(e,t,n){"use strict";t.exports={temporary:{colors:["#ff4b00","#bac900","#EC1813","#55BCBE","#D2204C","#FF0000","#ada59a","#3e647e"]},geoSearch:{main:{position:"topleft",showMarker:!0,retainZoomLevel:!1},provider:{}},mainMap:{osmUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayer:{minZoom:3,maxZoom:19,detectRetina:!0,location:"enableHighAccuracy"},mapConfig:{animate:!0,attributionControl:!1},defaults:{latlon:[53.5555252,9.98361312],zoom:12}},miniMap:{osmUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayer:{minZoom:3,maxZoom:15,detectRetina:!0},mapConfig:{toggleDisplay:!0,width:110,height:110,position:"topright"}},markers:{baseMarker:{options:{shadowUrl:"/images/marker-shadow.png",iconUrl:"/images/marker-icon.png",iconSize:[25,41],shadowSize:[41,41],iconAnchor:[12,40],shadowAnchor:[14,40],popupAnchor:[-3,-76],labelAnchor:[-21,-21]}}},icons:{basePath:"/images",activeMarkerIcon:{iconUrl:"/images/active-marker-icon.png"},GPSMarkerIcon:{iconUrl:"/images/kartograf.png"}}}},{}],92:[function(e,t,n){"use strict";var r=e("../../../../config.json"),i=function(e,t){var n={};return function(i,a,o){var s=new LMApi({host:a||r.global.api_url,contentType:"application/json",api_key:e.api_key,access_token:e.access_token});return{client:s,actions:{all:function(e,t,r){(r=r||!1)&&i in n?e(null,n[i]):s.resource(i,o).action("get",null,function(t,a){r&&(n[i]=a),e(null,a)},t)},find:function(e,t,r,a){var l=i+"-"+e;(a=a||!1)&&l in n?t(null,n[l]):s.resource(i,o).action("get",e,function(e,r){a&&(n[l]=r),t(null,r)},r)},create:function(e,t,n){s.resource(i).action("post",e,t,n)},update:function(e,t,n,r){t.uuid=e,s.resource(i).action("put",t,n,r)},remove:function(e,t,n){s.resource(i).action("delete",e,t,n)},upload:function(n,r,i){n.authenticationHeader=s.authUtil.getTokenHeader(e.access_token),t.upload(n,r,i)},ping:function(e,t){s.resource("ping").action("get","0",e,t)}},getCredentials:function(t,n){s.setAccessToken(t),s.getCredentials(function(r,i){if(r)return n(r);"object"==typeof i?(e.setCredentials(i,t),n(null)):n(new Error("Failed to get credentials"))})},authenticate:function(t,n,r){s.getToken({email:t,password:n},function(t,n){if(t)return r(t);"object"==typeof n?s.getCredentials(function(t,i){if(t)return r(t);"object"==typeof i?(e.setCredentials(i,n),r(null)):r(new Error("Failed to get credentials"))}):r(new Error("Failed to get token"))})}}}};i.$inject=["authService","uploadService"],t.exports=i},{"../../../../config.json":1}],93:[function(e,t,n){"use strict";t.exports=function(){var e=window.localStorage;try{e.setItem("test","1"),e.removeItem("test")}catch(t){e={},console.log("Warning: LocalStorage is not available.")}var t={lsAlias:e,api_key:null,access_token:null,getCredentials:function(){t.api_key="string"==typeof this.lsAlias.api_key?JSON.parse(this.lsAlias.api_key):null,t.access_token="string"==typeof this.lsAlias.access_token?JSON.parse(this.lsAlias.access_token):null},setCredentials:function(e,n){this.lsAlias.api_key=JSON.stringify(e),this.lsAlias.access_token=JSON.stringify(n),t.getCredentials()},clearCredentials:function(){this.lsAlias.removeItem("api_key"),this.lsAlias.removeItem("access_token"),t.getCredentials()},hasScopes:function(e,t){if(!this.api_key)return!1;var n=t=t||!1;for(var r in e)this.api_key.scopes.indexOf(e[r])&&!t?n=!0:t&&(n=!1);return n}};return t.getCredentials(),t}},{}],94:[function(e,t,n){"use strict";var r=function(){return{getPicture:function(){return""}}};r.$inject=[],t.exports=r},{}],95:[function(e,t,n){(function(t){"use strict";var n=("undefined"!=typeof window?window.angular:void 0!==t?t.angular:null).module("leerstandsmelder");n.factory("apiService",e("./api")),n.factory("authService",e("./auth")),n.factory("locationFormDefaults",e("./location-form-defaults")),n.factory("mapService",e("./map")),n.factory("regionService",e("./region")),n.factory("responseHandler",e("./response-handler")),n.factory("staticContent",e("./static-content")),n.factory("CameraService",e("./camera")),n.factory("uploadService",e("./upload"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./api":92,"./auth":93,"./camera":94,"./location-form-defaults":96,"./map":97,"./region":98,"./response-handler":99,"./static-content":100,"./upload":101}],96:[function(e,t,n){"use strict";t.exports=function(){return{emptySince:["locations.unknown","locations.empty_options.recently","locations.empty_options.about_half_year","locations.empty_options.min_one_year","locations.empty_options.min_three_years","locations.empty_options.min_five_years"],degree:["locations.unknown","locations.degree_options.complete","locations.degree_options.partial"],rumor:["locations.demolition_rumor_yes"],demolished:["locations.demolished_yes"],hidden:["locations.hidden_yes"],buildingType:["locations.unknown","locations.building_type_options.residential","locations.building_type_options.commercial","locations.building_type_options.industrial","locations.building_type_options.historical","locations.building_type_options.public_work","locations.building_type_options.other"],owner:["locations.unknown","locations.owner_options.private","locations.owner_options.business","locations.owner_options.public","locations.owner_options.city"]}}},{}],97:[function(e,t,n){"use strict";var r=function(e,t){return{initMap:function(e,t,n,r,i){var a,o=t.geoSearch.main;if(n.latlon||(n.latlon=[53.5653,10.0014]),n.zoom||(n.zoom=6),L.Icon.extend(t.markers.baseMarker),L.Icon.Default.imagePath=t.icons.basePath,(a=L.map("map",t.mainMap.mapConfig)).setView(n.latlon,n.zoom),new L.tileLayer(t.mainMap.osmUrl,t.mainMap.tileLayer).addTo(a),L.control.scale().addTo(a).setPosition("bottomleft"),i&&(o.provider=new L.GeoSearch.Provider.OpenStreetMap(t.geoSearch.provider),new L.Control.GeoSearch(o).addTo(a)),a.zoomControl.setPosition("bottomleft"),r){var s=new L.TileLayer(t.miniMap.osmUrl,t.miniMap.tileLayer);new L.Control.MiniMap(s,t.miniMap.mapConfig).addTo(a)}return a},createMarker:function(e,n){var r,i={icon:L.icon({iconUrl:t+"images/marker-active.png",iconRetinaUrl:t+"images/marker-active@2x.png",iconSize:[32,44],iconAnchor:[16,43],popupAnchor:[-3,-47]}),draggable:n.draggable};return n.view_url&&(i.view_url=n.view_url),r=L.marker(n.latlon,i),r.popup=n.popup,r},reverseGeoCode:function(t,n,r){e({method:"GET",url:"https://nominatim.openstreetmap.org/reverse?format=json&lat="+t+"&lon="+n+"&zoom=18&addressdetails=1"}).then(function(e){r(null,e)}).catch(function(e,t){console.log(e,t),r(new Error("Could not get address:"))})},geoCode:function(t,n){t.country||(t.country="de"),e({method:"GET",url:"https://nominatim.openstreetmap.org/search?format=json&q="+t.street+"+"+t.city+"+"+t.country}).then(function(e){n(null,e)}).catch(function(e,t){n(new Error("Service error starring image:",e,t),null)})},createAddressFromGeo:function(e){return{city:e.city||e.town||e.village||e.hamlet||"City not found",street:(e.road||e.path||e.footway||e.pedestrian||e.cycleway||"")+" "+(e.house_number||""),postcode:e.postcode||""}}}};r.$inject=["$http","assetPath"],t.exports=r},{}],98:[function(e,t,n){"use strict";var r=function(e,t){return{currentRegion:null,setCurrentRegion:function(n,r){var i=this;if(!n)return i.currentRegion=null,t.$broadcast("currentRegion:updated",null),r();this.currentRegion&&this.currentRegion.uuid===n?r():e("regions").actions.find(n,function(e,a){!e&&a?(i.currentRegion=a,t.$broadcast("currentRegion:updated",a)):console.log("error getting region for "+n+": "+(e?e.message:null)),r()},function(){},!0)}}};r.$inject=["apiService","$rootScope"],t.exports=r},{}],99:[function(e,t,n){"use strict";var r=function(e,t,n,r){return{handleResponse:function(i,a,o){if(i){if([400,409,422].indexOf(i.code)>-1)if(i.errors instanceof Object)for(var s in i.errors)"object"==typeof i.errors[s]&&t.publish("alert",{type:"error",message:e.instant(i.errors[s].message)});else t.publish("alert",{type:"error",message:e.instant(i.message)});else 401===i.code?t.publish("alert",{type:"error",message:e.instant("errors.authorization_failed")}):403===i.code?t.publish("alert",{type:"error",message:e.instant("errors.access_denied")}):404===i.code?n.path("/site/404"):o&&o.error?t.publish("alert",{type:"error",message:e.instant(i.message)}):i.message?t.publish("alert",{type:"error",message:e.instant(i.message)}):r("ping").actions.ping(function(n,r){!n&&r?t.publish("alert",{type:"error",delay:0,message:e.instant("errors.unknown")+" Code "+n.code}):t.publish("alert",{type:"critical",delay:0,message:e.instant("errors.noconnection")+" Code "+n.code})});return a&&a.reject(i),!1}return o&&o.success&&t.publish("alert",{type:"success",message:e.instant(o.success)}),a&&a.resolve(),!0}}};r.$inject=["$translate","PubSub","$location","apiService"],t.exports=r},{}],100:[function(e,t,n){"use strict";var r=function(e,t,n){return{getMarkdown:function(r,i){var a=e.use().toString(),o=n+"static/"+r+"_"+a+".md";t.get(o).then(function(e){i(null,e.data)},function(e){i(new Error(e.statusText),null)})}}};r.$inject=["$translate","$http","assetPath"],t.exports=r},{}],101:[function(e,t,n){"use strict";var r=e("../../../../config.json"),i=function(e){return{upload:function(t,n,i){console.log("api upload",t),console.log("api upload url",r.global.api_url+"/photos"),e.upload({url:r.global.api_url+"/photos",headers:{Authorization:t.authenticationHeader},fields:t.fields,file:t.file}).progress(function(e){var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e),"function"==typeof i&&i(e.loaded,e.total)}).success(function(e,t,r,i){console.log("file "+i.file.name+" uploaded. Response: ",e),console.log("status: ",t),console.log("headers: ",r),console.log("config: ",i),"function"==typeof n&&n(null,e)}).error(function(e,t){console.log("error status: ",t),console.log("error data: ",e),"function"==typeof n&&n(new Error("upload error status "+t),e)})}}};i.$inject=["Upload"],t.exports=i},{"../../../../config.json":1}]},{},[30]);