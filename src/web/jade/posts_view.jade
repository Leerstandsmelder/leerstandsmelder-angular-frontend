include ../../modules/mixins/jade/_mixin_form
include ../../modules/mixins/jade/_mixin_buttons
include ../../modules/mixins/jade/_mixin_layout
include ../../modules/mixins/jade/_mixin_style
// variables for the templates
- mapFlex="50"
//- mapStyle="height:calc(100% - 88px);width:100%;"
- sideWidth="width:33%"
md-content
    div(layout="row" layout-sm="column" layout-wrap layout-fill)
        div(flex="66")
            .md-padding
                h1 {{post.title}}
                div(ng-bind-html="post.body")
                hr
                p
                    strong {{ "comments.comment_plural" | translate }}
                div(ng-if="post.comments" ng-repeat="comment in post.comments")
                    p.smalltext
                        strong {{ "author.by" | translate }} {{ comment.user.nickname }}
                        | {{ ' ' }}
                        span {{ "author.on" | translate }} {{ comment.created | date : 'dd.MM.yy HH:mm' }}
                    p {{comment.body}}
                p(ng-if="post.comments.length === 0")
                    small {{ "comments.no_comments" | translate }}
                hr
                p
                    strong {{ "comments.new_comment" | translate }}
                +input('textarea','comments.comment_text', null, null)
        div(flex="33")
            include ../../shared/jade/partials/recent_posts