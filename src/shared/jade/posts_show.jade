include mixins/_form
include mixins/_buttons
include mixins/_layout
include mixins/_style

md-content(layout="row" layout-wrap layout-fill)
    md-content(flex="66" layout='column')
        .md-padding.type-post(flex)
            p.metatext-lg {{author.on | translate}} {{ post.created | date : 'dd.MM.yy' }}
            h1 {{post.title}}
            div(ng-bind-html="post.body")
            hr
            p
                strong {{ "comments.comment_plural" | translate }}
            div(ng-if="post.comments" ng-repeat="comment in post.comments")
                p.smalltext
                    strong {{ "author.by" | translate }} {{ comment.user.nickname }}
                    | {{ ' ' }}
                    span {{ "author.on" | translate }} {{ comment.created | date : 'dd.MM.yy HH:mm' }}
                p(btf-markdown="comment.body")
            p(ng-if="post.comments.length === 0")
                small {{ "comments.no_comments" | translate }}
            hr
            p
                strong {{ "comments.new_comment" | translate }}
            +input('textarea','newComment','comments.comment_text', null, null)
            p
                img(captcha)
    md-content(flex="33" layout='column')
        div(flex)
            include partials/_recent_posts